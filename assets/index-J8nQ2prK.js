(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var ym={exports:{}},Lo={};var Hv;function mw(){if(Hv)return Lo;Hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Lo.Fragment=e,Lo.jsx=n,Lo.jsxs=n,Lo}var Fv;function pw(){return Fv||(Fv=1,ym.exports=mw()),ym.exports}var h=pw(),vm={exports:{}},Te={};var Gv;function gw(){if(Gv)return Te;Gv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,D={};function K(V,te,ae){this.props=V,this.context=te,this.refs=D,this.updater=ae||U}K.prototype.isReactComponent={},K.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=K.prototype;function $(V,te,ae){this.props=V,this.context=te,this.refs=D,this.updater=ae||U}var ye=$.prototype=new W;ye.constructor=$,Q(ye,K.prototype),ye.isPureReactComponent=!0;var de=Array.isArray;function be(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(V,te,ae){var ce=ae.ref;return{$$typeof:s,type:V,key:te,ref:ce!==void 0?ce:null,props:ae}}function M(V,te){return N(V.type,te,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function z(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return te[ae]})}var R=/\/+/g;function rt(V,te){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):te.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(be,be):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,te,ae,ce,xe){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Ne){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case s:case e:Le=!0;break;case x:return Le=V._init,J(Le(V._payload),te,ae,ce,xe)}}if(Le)return xe=xe(V),Le=ce===""?"."+rt(V,0):ce,de(xe)?(ae="",Le!=null&&(ae=Le.replace(R,"$&/")+"/"),J(xe,te,ae,"",function(yr){return yr})):xe!=null&&(O(xe)&&(xe=M(xe,ae+(xe.key==null||V&&V.key===xe.key?"":(""+xe.key).replace(R,"$&/")+"/")+Le)),te.push(xe)),1;Le=0;var jt=ce===""?".":ce+":";if(de(V))for(var at=0;at<V.length;at++)ce=V[at],Ne=jt+rt(ce,at),Le+=J(ce,te,ae,Ne,xe);else if(at=j(V),typeof at=="function")for(V=at.call(V),at=0;!(ce=V.next()).done;)ce=ce.value,Ne=jt+rt(ce,at++),Le+=J(ce,te,ae,Ne,xe);else if(Ne==="object"){if(typeof V.then=="function")return J(Dt(V),te,ae,ce,xe);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Le}function re(V,te,ae){if(V==null)return V;var ce=[],xe=0;return J(V,ce,"","",function(Ne){return te.call(ae,Ne,xe++)}),ce}function pe(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:re,forEach:function(V,te,ae){re(V,function(){te.apply(this,arguments)},ae)},count:function(V){var te=0;return re(V,function(){te++}),te},toArray:function(V){return re(V,function(te){return te})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Te.Activity=E,Te.Children=Ye,Te.Component=K,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=$,Te.StrictMode=r,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Te.cache=function(V){return function(){return V.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(V,te,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=Q({},V.props),xe=V.key;if(te!=null)for(Ne in te.key!==void 0&&(xe=""+te.key),te)!A.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(ce[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=ae;else if(1<Ne){for(var Le=Array(Ne),jt=0;jt<Ne;jt++)Le[jt]=arguments[jt+2];ce.children=Le}return N(V.type,xe,ce)},Te.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Te.createElement=function(V,te,ae){var ce,xe={},Ne=null;if(te!=null)for(ce in te.key!==void 0&&(Ne=""+te.key),te)A.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(xe[ce]=te[ce]);var Le=arguments.length-2;if(Le===1)xe.children=ae;else if(1<Le){for(var jt=Array(Le),at=0;at<Le;at++)jt[at]=arguments[at+2];xe.children=jt}if(V&&V.defaultProps)for(ce in Le=V.defaultProps,Le)xe[ce]===void 0&&(xe[ce]=Le[ce]);return N(V,Ne,xe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:p,render:V}},Te.isValidElement=O,Te.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:pe}},Te.memo=function(V,te){return{$$typeof:y,type:V,compare:te===void 0?null:te}},Te.startTransition=function(V){var te=C.T,ae={};C.T=ae;try{var ce=V(),xe=C.S;xe!==null&&xe(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(be,ze)}catch(Ne){ze(Ne)}finally{te!==null&&ae.types!==null&&(te.types=ae.types),C.T=te}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function(V){return C.H.use(V)},Te.useActionState=function(V,te,ae){return C.H.useActionState(V,te,ae)},Te.useCallback=function(V,te){return C.H.useCallback(V,te)},Te.useContext=function(V){return C.H.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V,te){return C.H.useDeferredValue(V,te)},Te.useEffect=function(V,te){return C.H.useEffect(V,te)},Te.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function(V,te,ae){return C.H.useImperativeHandle(V,te,ae)},Te.useInsertionEffect=function(V,te){return C.H.useInsertionEffect(V,te)},Te.useLayoutEffect=function(V,te){return C.H.useLayoutEffect(V,te)},Te.useMemo=function(V,te){return C.H.useMemo(V,te)},Te.useOptimistic=function(V,te){return C.H.useOptimistic(V,te)},Te.useReducer=function(V,te,ae){return C.H.useReducer(V,te,ae)},Te.useRef=function(V){return C.H.useRef(V)},Te.useState=function(V){return C.H.useState(V)},Te.useSyncExternalStore=function(V,te,ae){return C.H.useSyncExternalStore(V,te,ae)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.0",Te}var Yv;function vp(){return Yv||(Yv=1,vm.exports=gw()),vm.exports}var P=vp(),_m={exports:{}},Uo={},bm={exports:{}},xm={};var Qv;function yw(){return Qv||(Qv=1,(function(s){function e(J,re){var pe=J.length;J.push(re);e:for(;0<pe;){var ze=pe-1>>>1,Ye=J[ze];if(0<l(Ye,re))J[ze]=re,J[pe]=Ye,pe=ze;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var re=J[0],pe=J.pop();if(pe!==re){J[0]=pe;e:for(var ze=0,Ye=J.length,V=Ye>>>1;ze<V;){var te=2*(ze+1)-1,ae=J[te],ce=te+1,xe=J[ce];if(0>l(ae,pe))ce<Ye&&0>l(xe,ae)?(J[ze]=xe,J[ce]=pe,ze=ce):(J[ze]=ae,J[te]=pe,ze=te);else if(ce<Ye&&0>l(xe,pe))J[ze]=xe,J[ce]=pe,ze=ce;else break e}}return re}function l(J,re){var pe=J.sortIndex-re.sortIndex;return pe!==0?pe:J.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],x=1,E=null,S=3,j=!1,U=!1,Q=!1,D=!1,K=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ye(J){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=J)r(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function de(J){if(Q=!1,ye(J),!U)if(n(g)!==null)U=!0,be||(be=!0,z());else{var re=n(y);re!==null&&Dt(de,re.startTime-J)}}var be=!1,C=-1,A=5,N=-1;function M(){return D?!0:!(s.unstable_now()-N<A)}function O(){if(D=!1,be){var J=s.unstable_now();N=J;var re=!0;try{e:{U=!1,Q&&(Q=!1,W(C),C=-1),j=!0;var pe=S;try{t:{for(ye(J),E=n(g);E!==null&&!(E.expirationTime>J&&M());){var ze=E.callback;if(typeof ze=="function"){E.callback=null,S=E.priorityLevel;var Ye=ze(E.expirationTime<=J);if(J=s.unstable_now(),typeof Ye=="function"){E.callback=Ye,ye(J),re=!0;break t}E===n(g)&&r(g),ye(J)}else r(g);E=n(g)}if(E!==null)re=!0;else{var V=n(y);V!==null&&Dt(de,V.startTime-J),re=!1}}break e}finally{E=null,S=pe,j=!1}re=void 0}}finally{re?z():be=!1}}}var z;if(typeof $=="function")z=function(){$(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=O,z=function(){rt.postMessage(null)}}else z=function(){K(O,0)};function Dt(J,re){C=K(function(){J(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(J){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var pe=S;S=re;try{return J()}finally{S=pe}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var pe=S;S=J;try{return re()}finally{S=pe}},s.unstable_scheduleCallback=function(J,re,pe){var ze=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,J){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=pe+Ye,J={id:x++,callback:re,priorityLevel:J,startTime:pe,expirationTime:Ye,sortIndex:-1},pe>ze?(J.sortIndex=pe,e(y,J),n(g)===null&&J===n(y)&&(Q?(W(C),C=-1):Q=!0,Dt(de,pe-ze))):(J.sortIndex=Ye,e(g,J),U||j||(U=!0,be||(be=!0,z()))),J},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(J){var re=S;return function(){var pe=S;S=re;try{return J.apply(this,arguments)}finally{S=pe}}}})(xm)),xm}var Kv;function vw(){return Kv||(Kv=1,bm.exports=yw()),bm.exports}var Em={exports:{}},$t={};var $v;function _w(){if($v)return $t;$v=1;var s=vp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},$t.flushSync=function(g){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=x,r.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:j}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Xv;function bw(){if(Xv)return Em.exports;Xv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Em.exports=_w(),Em.exports}var Jv;function xw(){if(Jv)return Uo;Jv=1;var s=vw(),e=vp(),n=bw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===o)return g(f),i;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=m;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,o=m;break}if(T===o){_=!0,o=f,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,o=f;break}if(T===o){_=!0,o=m,a=f;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case K:return"Profiler";case D:return"StrictMode";case de:return"Suspense";case be:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case $:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case ye:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],Ye=-1;function V(t){return{current:t}}function te(t){0>Ye||(t.current=ze[Ye],ze[Ye]=null,Ye--)}function ae(t,i){Ye++,ze[Ye]=t.current,t.current=i}var ce=V(null),xe=V(null),Ne=V(null),Le=V(null);function jt(t,i){switch(ae(Ne,i),ae(xe,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?dv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=dv(i),t=fv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ce),ae(ce,t)}function at(){te(ce),te(xe),te(Ne)}function yr(t){t.memoizedState!==null&&ae(Le,t);var i=ce.current,a=fv(i,t.type);i!==a&&(ae(xe,t),ae(ce,a))}function fa(t){xe.current===t&&(te(ce),te(xe)),Le.current===t&&(te(Le),ko._currentValue=pe)}var ma,pa;function ai(t){if(ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var Ol=!1;function vr(t,i){if(!t||Ol)return"";Ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var F=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){F=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var I=_.split(`
`),H=T.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===H.length)for(o=I.length-1,f=H.length-1;1<=o&&0<=f&&I[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==H[f]){var X=`
`+I[o].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=o&&0<=f);break}}}finally{Ol=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function kl(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return vr(t.type,!1);case 11:return vr(t.type.render,!1);case 1:return vr(t.type,!0);case 31:return ai("Activity");default:return""}}function Ml(t){try{var i="",a=null;do i+=kl(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,vd=s.unstable_shouldYield,Cc=s.unstable_requestPaint,nn=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,Vl=s.unstable_ImmediatePriority,Pl=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,_d=s.unstable_LowPriority,Rc=s.unstable_IdlePriority,Ic=s.log,Dc=s.unstable_setDisableYieldValue,qn=null,zt=null;function Tn(t){if(typeof Ic=="function"&&Dc(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var ft=Math.clz32?Math.clz32:Oc,jc=Math.log,ga=Math.LN2;function Oc(t){return t>>>=0,t===0?32:31-(jc(t)/ga|0)|0}var li=256,br=262144,bt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?f=oi(o):(_&=T,_!==0?f=oi(_):a||(a=T&~t,a!==0&&(f=oi(a))))):(T=o&~m,T!==0?f=oi(T):_!==0?f=oi(_):a||(a=o&~t,a!==0&&(f=oi(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function Bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kc(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xd(t,i,a,o,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-ft(a),ee=1<<X;T[X]=0,I[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}o!==0&&Er(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Er(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-ft(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ll(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-ft(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function Ul(t,i){var a=i&-i;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Vv(t.type))}function Hn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Fn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Fn,Vt="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ya="__reactEvents$"+Fn,Ed="__reactListeners$"+Fn,Vc="__reactHandles$"+Fn,Pc="__reactResources$"+Fn,di="__reactMarker$"+Fn;function va(t){delete t[xt],delete t[Vt],delete t[ya],delete t[Ed],delete t[Vc]}function fi(t){var i=t[xt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[xt])return a;t=bv(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[xt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function mi(t){var i=t[Pc];return i||(i=t[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[di]=!0}var zl=new Set,ql={};function pi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(ql[t]=i,t=0;t<i.length;t++)zl.add(i[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Fl={};function Lc(t){return _t.call(Fl,t)?!0:_t.call(Hl,t)?!1:Bl.test(t)?Fl[t]=!0:(Hl[t]=!0,!1)}function _a(t,i,a){if(Lc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gl(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=bs(t)?"checked":"value";t._valueTracker=Gl(t,i,""+t[i])}}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=bs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function an(t){return t.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ba(t,i,a,o,f,m,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yl(t,_,Pt(i)):a!=null?Yl(t,_,Pt(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Uc(t,i,a,o,f,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Yl(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function zc(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function Es(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||qc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Kl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&Ql(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&Ql(t,m,i[m])}function xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var $l=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,vi=null;function Ar(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[Vt]||null;if(!f)throw Error(r(90));ba(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&wr(o)}break e;case"textarea":zc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&xs(t,!!a.multiple,i,!1)}}}var Ta=!1;function Ss(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var o=t(i);return o}finally{if(Ta=!1,(ws!==null||vi!==null)&&(Mu(),ws&&(i=ws,t=vi,vi=ws=null,Ar(i),t)))for(i=0;i<t.length;i++)Ar(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(An)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Nr=!1}var _i=null,Xl=null,Cr=null;function Jl(){if(Cr)return Cr;var t,i=Xl,a=i.length,o,f="value"in _i?_i.value:_i.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===f[m-o];o++);return Cr=f.slice(t,1<o?1-o:void 0)}function Rr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Qn(){return!1}function qt(t){function i(a,o,f,m,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zi:Qn,this.isPropagationStopped=Qn,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=qt(qi),As=E({},qi,{view:0,detail:0}),Wl=qt(As),Ns,wa,xi,Sa=E({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Ns=t.screenX-xi.screenX,wa=t.screenY-xi.screenY):wa=Ns=0,xi=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Zl=qt(Sa),Ir=E({},Sa,{dataTransfer:0}),Hc=qt(Ir),Fc=E({},As,{relatedTarget:0}),Dr=qt(Fc),eo=E({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=qt(eo),Aa=E({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yc=qt(Aa),Qc=E({},qi,{data:0}),Ei=qt(Qc),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xc[t])?!!i[t]:!1}function Cs(){return Jc}var sn=E({},As,{key:function(t){if(t.key){var i=Kc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?Rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wc=qt(sn),Zc=E({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=qt(Zc),u=E({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),v=qt(u),b=E({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(b),q=E({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(q),se=E({},qi,{newState:0,oldState:0}),Se=qt(se),mt=[9,13,27,32],He=An&&"CompositionEvent"in window,lt=null;An&&"documentMode"in document&&(lt=document.documentMode);var Nn=An&&"TextEvent"in window&&!lt,Ti=An&&(!He||lt&&8<lt&&11>=lt),Kn=" ",$n=!1;function jr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function L1(t,i){switch(t){case"compositionend":return Na(i);case"keypress":return i.which!==32?null:($n=!0,Kn);case"textInput":return t=i.data,t===Kn&&$n?null:t;default:return null}}function U1(t,i){if(Ca)return t==="compositionend"||!He&&jr(t,i)?(t=Jl(),Cr=Xl=_i=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!z1[t.type]:i==="textarea"}function wg(t,i,a,o){ws?vi?vi.push(o):vi=[o]:ws=o,i=Bu(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var to=null,no=null;function q1(t){av(t,0)}function eu(t){var i=mn(t);if(wr(i))return t}function Sg(t,i){if(t==="change")return i}var Ag=!1;if(An){var Td;if(An){var wd="oninput"in document;if(!wd){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),wd=typeof Ng.oninput=="function"}Td=wd}else Td=!1;Ag=Td&&(!document.documentMode||9<document.documentMode)}function Cg(){to&&(to.detachEvent("onpropertychange",Rg),no=to=null)}function Rg(t){if(t.propertyName==="value"&&eu(no)){var i=[];wg(i,no,t,Sn(t)),Ss(q1,i)}}function B1(t,i,a){t==="focusin"?(Cg(),to=i,no=a,to.attachEvent("onpropertychange",Rg)):t==="focusout"&&Cg()}function H1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(no)}function F1(t,i){if(t==="click")return eu(i)}function G1(t,i){if(t==="input"||t==="change")return eu(i)}function Y1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:Y1;function io(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!_t.call(i,f)||!gn(t[f],i[f]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,i){var a=Ig(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function Sd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Q1=An&&"documentMode"in document&&11>=document.documentMode,Ra=null,Ad=null,so=null,Nd=!1;function kg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nd||Ra==null||Ra!==yi(o)||(o=Ra,"selectionStart"in o&&Sd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),so&&io(so,o)||(so=o,o=Bu(Ad,"onSelect"),0<o.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ra)))}function Or(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Cd={},Mg={};An&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function kr(t){if(Cd[t])return Cd[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Mg)return Cd[t]=i[a];return t}var Vg=kr("animationend"),Pg=kr("animationiteration"),Lg=kr("animationstart"),K1=kr("transitionrun"),$1=kr("transitionstart"),X1=kr("transitioncancel"),Ug=kr("transitionend"),zg=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function Xn(t,i){zg.set(t,i),pi(i,[t])}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],Da=0,Id=0;function nu(){for(var t=Da,i=Id=Da=0;i<t;){var a=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var f=Cn[i];Cn[i++]=null;var m=Cn[i];if(Cn[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&qg(a,f,m)}}function iu(t,i,a,o){Cn[Da++]=t,Cn[Da++]=i,Cn[Da++]=a,Cn[Da++]=o,Id|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Dd(t,i,a,o){return iu(t,i,a,o),su(t)}function Mr(t,i){return iu(t,null,null,i),su(t)}function qg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-ft(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),m):null}function su(t){if(50<No)throw No=0,qf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ja={};function J1(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,o){return new J1(t,i,a,o)}function jd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ru(t,i,a,o,f,m){var _=0;if(o=t,typeof t=="function")jd(t)&&(_=1);else if(typeof t=="string")_=nw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,a,i,f),t.elementType=N,t.lanes=m,t;case Q:return Vr(a.children,f,m,i);case D:_=8,f|=24;break;case K:return t=yn(12,a,i,f|2),t.elementType=K,t.lanes=m,t;case de:return t=yn(13,a,i,f),t.elementType=de,t.lanes=m,t;case be:return t=yn(19,a,i,f),t.elementType=be,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:_=10;break e;case W:_=9;break e;case ye:_=11;break e;case C:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=yn(_,a,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function Vr(t,i,a,o){return t=yn(7,t,o,i),t.lanes=a,t}function Od(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Hg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function kd(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ml(i)},Fg.set(t,i),i)}return{value:t,source:i,stack:Ml(i)}}var Oa=[],ka=0,au=null,ro=0,In=[],Dn=0,Rs=null,wi=1,Si="";function Fi(t,i){Oa[ka++]=ro,Oa[ka++]=au,au=t,ro=i}function Gg(t,i,a){In[Dn++]=wi,In[Dn++]=Si,In[Dn++]=Rs,Rs=t;var o=wi;t=Si;var f=32-ft(o)-1;o&=~(1<<f),a+=1;var m=32-ft(i)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,wi=1<<32-ft(i)+f|a<<f|o,Si=m+t}else wi=1<<m|a<<f|o,Si=t}function Md(t){t.return!==null&&(Fi(t,1),Gg(t,1,0))}function Vd(t){for(;t===au;)au=Oa[--ka],Oa[ka]=null,ro=Oa[--ka],Oa[ka]=null;for(;t===Rs;)Rs=In[--Dn],In[Dn]=null,Si=In[--Dn],In[Dn]=null,wi=In[--Dn],In[Dn]=null}function Yg(t,i){In[Dn++]=wi,In[Dn++]=Si,In[Dn++]=Rs,wi=i.id,Si=i.overflow,Rs=t}var Bt=null,nt=null,Pe=!1,Is=null,jn=!1,Pd=Error(r(519));function Ds(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ao(Rn(i,t)),Pd}function Qg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[xt]=t,i[Vt]=o,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<Ro.length;a++)Ie(Ro[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Uc(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),Es(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||uv(i.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),o.onScroll!=null&&Ie("scroll",i),o.onScrollEnd!=null&&Ie("scrollend",i),o.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Ds(t,!0)}function Kg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Bt=Bt.return}}function Ma(t){if(t!==Bt)return!1;if(!Pe)return Kg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&nt&&Ds(t),Kg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=_v(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=_v(t)}else i===27?(i=nt,Gs(t.type)?(t=lm,lm=null,nt=t):nt=i):nt=Bt?kn(t.stateNode.nextSibling):null;return!0}function Pr(){nt=Bt=null,Pe=!1}function Ld(){var t=Is;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Is=null),t}function ao(t){Is===null?Is=[t]:Is.push(t)}var Ud=V(null),Lr=null,Gi=null;function js(t,i,a){ae(Ud,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Ud.current,te(Ud)}function zd(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function qd(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var I=0;I<i.length;I++)if(T.context===i[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),zd(m.return,a,t),o||(_=null);break e}m=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),zd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Va(t,i,a,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=f.type;gn(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ko):t=[ko])}f=f.return}t!==null&&qd(i,t,a,o),i.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ur(t){Lr=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return $g(Lr,t)}function ou(t,i){return Lr===null&&Ur(t),$g(t,i)}function $g(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var W1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Z1=s.unstable_scheduleCallback,eT=s.unstable_NormalPriority,wt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new W1,data:new Map,refCount:0}}function lo(t){t.refCount--,t.refCount===0&&Z1(eT,function(){t.controller.abort()})}var oo=null,Hd=0,Pa=0,La=null;function tT(t,i){if(oo===null){var a=oo=[];Hd=0,Pa=Qf(),La={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Hd++,i.then(Xg,Xg),i}function Xg(){if(--Hd===0&&oo!==null){La!==null&&(La.status="fulfilled");var t=oo;oo=null,Pa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Jg=J.S;J.S=function(t,i){k0=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tT(t,i),Jg!==null&&Jg(t,i)};var zr=V(null);function Fd(){var t=zr.current;return t!==null?t:et.pooledCache}function cu(t,i){i===null?ae(zr,zr.current):ae(zr,i.pool)}function Wg(){var t=Fd();return t===null?null:{parent:wt._currentValue,pool:t}}var Ua=Error(r(460)),Gd=Error(r(474)),uu=Error(r(542)),hu={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ey(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t}throw Br=i,Ua}}function qr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,Ua):a}}var Br=null;function ty(){if(Br===null)throw Error(r(459));var t=Br;return Br=null,t}function ny(t){if(t===Ua||t===uu)throw Error(r(483))}var za=null,co=0;function du(t){var i=co;return co+=1,za===null&&(za=[]),ey(za,t,i)}function uo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fu(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function iy(t){function i(L,k){if(t){var B=L.deletions;B===null?(L.deletions=[k],L.flags|=16):B.push(k)}}function a(L,k){if(!t)return null;for(;k!==null;)i(L,k),k=k.sibling;return null}function o(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function f(L,k){return L=Hi(L,k),L.index=0,L.sibling=null,L}function m(L,k,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<k?(L.flags|=67108866,k):B):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,k,B,Z){return k===null||k.tag!==6?(k=Od(B,L.mode,Z),k.return=L,k):(k=f(k,B),k.return=L,k)}function I(L,k,B,Z){var fe=B.type;return fe===Q?X(L,k,B.props.children,Z,B.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&qr(fe)===k.type)?(k=f(k,B.props),uo(k,B),k.return=L,k):(k=ru(B.type,B.key,B.props,null,L.mode,Z),uo(k,B),k.return=L,k)}function H(L,k,B,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=kd(B,L.mode,Z),k.return=L,k):(k=f(k,B.children||[]),k.return=L,k)}function X(L,k,B,Z,fe){return k===null||k.tag!==7?(k=Vr(B,L.mode,Z,fe),k.return=L,k):(k=f(k,B),k.return=L,k)}function ee(L,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Od(""+k,L.mode,B),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return B=ru(k.type,k.key,k.props,null,L.mode,B),uo(B,k),B.return=L,B;case U:return k=kd(k,L.mode,B),k.return=L,k;case A:return k=qr(k),ee(L,k,B)}if(Dt(k)||z(k))return k=Vr(k,L.mode,B,null),k.return=L,k;if(typeof k.then=="function")return ee(L,du(k),B);if(k.$$typeof===$)return ee(L,ou(L,k),B);fu(L,k)}return null}function F(L,k,B,Z){var fe=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(L,k,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===fe?I(L,k,B,Z):null;case U:return B.key===fe?H(L,k,B,Z):null;case A:return B=qr(B),F(L,k,B,Z)}if(Dt(B)||z(B))return fe!==null?null:X(L,k,B,Z,null);if(typeof B.then=="function")return F(L,k,du(B),Z);if(B.$$typeof===$)return F(L,k,ou(L,B),Z);fu(L,B)}return null}function Y(L,k,B,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(k,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return L=L.get(Z.key===null?B:Z.key)||null,I(k,L,Z,fe);case U:return L=L.get(Z.key===null?B:Z.key)||null,H(k,L,Z,fe);case A:return Z=qr(Z),Y(L,k,B,Z,fe)}if(Dt(Z)||z(Z))return L=L.get(B)||null,X(k,L,Z,fe,null);if(typeof Z.then=="function")return Y(L,k,B,du(Z),fe);if(Z.$$typeof===$)return Y(L,k,B,ou(k,Z),fe);fu(k,Z)}return null}function ue(L,k,B,Z){for(var fe=null,qe=null,he=k,Ce=k=0,Oe=null;he!==null&&Ce<B.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Be=F(L,he,B[Ce],Z);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(L,he),k=m(Be,k,Ce),qe===null?fe=Be:qe.sibling=Be,qe=Be,he=Oe}if(Ce===B.length)return a(L,he),Pe&&Fi(L,Ce),fe;if(he===null){for(;Ce<B.length;Ce++)he=ee(L,B[Ce],Z),he!==null&&(k=m(he,k,Ce),qe===null?fe=he:qe.sibling=he,qe=he);return Pe&&Fi(L,Ce),fe}for(he=o(he);Ce<B.length;Ce++)Oe=Y(he,L,Ce,B[Ce],Z),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),k=m(Oe,k,Ce),qe===null?fe=Oe:qe.sibling=Oe,qe=Oe);return t&&he.forEach(function(Xs){return i(L,Xs)}),Pe&&Fi(L,Ce),fe}function ge(L,k,B,Z){if(B==null)throw Error(r(151));for(var fe=null,qe=null,he=k,Ce=k=0,Oe=null,Be=B.next();he!==null&&!Be.done;Ce++,Be=B.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Xs=F(L,he,Be.value,Z);if(Xs===null){he===null&&(he=Oe);break}t&&he&&Xs.alternate===null&&i(L,he),k=m(Xs,k,Ce),qe===null?fe=Xs:qe.sibling=Xs,qe=Xs,he=Oe}if(Be.done)return a(L,he),Pe&&Fi(L,Ce),fe;if(he===null){for(;!Be.done;Ce++,Be=B.next())Be=ee(L,Be.value,Z),Be!==null&&(k=m(Be,k,Ce),qe===null?fe=Be:qe.sibling=Be,qe=Be);return Pe&&Fi(L,Ce),fe}for(he=o(he);!Be.done;Ce++,Be=B.next())Be=Y(he,L,Ce,Be.value,Z),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),k=m(Be,k,Ce),qe===null?fe=Be:qe.sibling=Be,qe=Be);return t&&he.forEach(function(fw){return i(L,fw)}),Pe&&Fi(L,Ce),fe}function Ze(L,k,B,Z){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var fe=B.key;k!==null;){if(k.key===fe){if(fe=B.type,fe===Q){if(k.tag===7){a(L,k.sibling),Z=f(k,B.props.children),Z.return=L,L=Z;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&qr(fe)===k.type){a(L,k.sibling),Z=f(k,B.props),uo(Z,B),Z.return=L,L=Z;break e}a(L,k);break}else i(L,k);k=k.sibling}B.type===Q?(Z=Vr(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=ru(B.type,B.key,B.props,null,L.mode,Z),uo(Z,B),Z.return=L,L=Z)}return _(L);case U:e:{for(fe=B.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(L,k.sibling),Z=f(k,B.children||[]),Z.return=L,L=Z;break e}else{a(L,k);break}else i(L,k);k=k.sibling}Z=kd(B,L.mode,Z),Z.return=L,L=Z}return _(L);case A:return B=qr(B),Ze(L,k,B,Z)}if(Dt(B))return ue(L,k,B,Z);if(z(B)){if(fe=z(B),typeof fe!="function")throw Error(r(150));return B=fe.call(B),ge(L,k,B,Z)}if(typeof B.then=="function")return Ze(L,k,du(B),Z);if(B.$$typeof===$)return Ze(L,k,ou(L,B),Z);fu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(L,k.sibling),Z=f(k,B),Z.return=L,L=Z):(a(L,k),Z=Od(B,L.mode,Z),Z.return=L,L=Z),_(L)):a(L,k)}return function(L,k,B,Z){try{co=0;var fe=Ze(L,k,B,Z);return za=null,fe}catch(he){if(he===Ua||he===uu)throw he;var qe=yn(29,he,null,L.mode);return qe.lanes=Z,qe.return=L,qe}finally{}}}var Hr=iy(!0),sy=iy(!1),Os=!1;function Yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=su(t),qg(t,null,a),i}return iu(t,o,i,a),su(t)}function ho(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}function Kd(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var $d=!1;function fo(){if($d){var t=La;if(t!==null)throw t}}function mo(t,i,a,o){$d=!1;var f=t.updateQueue;Os=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,H=I.next;I.next=null,_===null?m=H:_.next=H,_=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=I))}if(m!==null){var ee=f.baseState;_=0,X=H=I=null,T=m;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(je&F)===F:(o&F)===F){F!==0&&F===Pa&&($d=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,ge=T;F=i;var Ze=a;switch(ge.tag){case 1:if(ue=ge.payload,typeof ue=="function"){ee=ue.call(Ze,ee,F);break e}ee=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ge.payload,F=typeof ue=="function"?ue.call(Ze,ee,F):ue,F==null)break e;ee=E({},ee,F);break e;case 2:Os=!0}}F=T.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Y,I=ee):X=X.next=Y,_|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),zs|=_,t.lanes=_,t.memoizedState=ee}}function ry(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function ay(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],i)}var qa=V(null),mu=V(0);function ly(t,i){t=ts,ae(mu,t),ae(qa,i),ts=t|i.baseLanes}function Xd(){ae(mu,ts),ae(qa,qa.current)}function Jd(){ts=mu.current,te(qa),te(mu)}var vn=V(null),On=null;function Vs(t){var i=t.alternate;ae(pt,pt.current&1),ae(vn,t),On===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(On=t)}function Wd(t){ae(pt,pt.current),ae(vn,t),On===null&&(On=t)}function oy(t){t.tag===22?(ae(pt,pt.current),ae(vn,t),On===null&&(On=t)):Ps()}function Ps(){ae(pt,pt.current),ae(vn,vn.current)}function _n(t){te(vn),On===t&&(On=null),te(pt)}var pt=V(0);function pu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||am(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Ae=null,Je=null,St=null,gu=!1,Ba=!1,Fr=!1,yu=0,po=0,Ha=null,iT=0;function ht(){throw Error(r(321))}function Zd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function ef(t,i,a,o,f,m){return Qi=m,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?Gy:gf,Fr=!1,m=a(o,f),Fr=!1,Ba&&(m=uy(i,a,o,f)),cy(t),m}function cy(t){J.H=vo;var i=Je!==null&&Je.next!==null;if(Qi=0,St=Je=Ae=null,gu=!1,po=0,Ha=null,i)throw Error(r(300));t===null||At||(t=t.dependencies,t!==null&&lu(t)&&(At=!0))}function uy(t,i,a,o){Ae=t;var f=0;do{if(Ba&&(Ha=null),po=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,St=Je=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=Yy,m=i(a,o)}while(Ba);return m}function sT(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?go(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ae.flags|=1024),i}function tf(){var t=yu!==0;return yu=0,t}function nf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sf(t){if(gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gu=!1}Qi=0,St=Je=Ae=null,Ba=!1,po=yu=0,Ha=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=t:St=St.next=t,St}function gt(){if(Je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=St===null?Ae.memoizedState:St.next;if(i!==null)St=i,Je=t;else{if(t===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?Ae.memoizedState=St=t:St=St.next=t}return St}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(t){var i=po;return po+=1,Ha===null&&(Ha=[]),t=ey(Ha,t,i),i=Ae,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Gy:gf),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===$)return Ht(t)}throw Error(r(438,String(t)))}function rf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vu(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function bu(t){var i=gt();return af(i,Je,t)}function af(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var T=_=null,I=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(je&ee)===ee:(Qi&ee)===ee){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Pa&&(X=!0);else if((Qi&F)===F){H=H.next,F===Pa&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ee,_=m):I=I.next=ee,Ae.lanes|=F,zs|=F;ee=H.action,Fr&&a(m,ee),m=H.hasEagerState?H.eagerState:a(m,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,_=m):I=I.next=F,Ae.lanes|=ee,zs|=ee;H=H.next}while(H!==null&&H!==i);if(I===null?_=m:I.next=T,!gn(m,t.memoizedState)&&(At=!0,X&&(a=La,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=I,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function lf(t){var i=gt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);gn(m,i.memoizedState)||(At=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,o]}function hy(t,i,a){var o=Ae,f=gt(),m=Pe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!gn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,At=!0),f=f.queue,uf(my.bind(null,o,f,t),[t]),f.getSnapshot!==i||_||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Fa(9,{destroy:void 0},fy.bind(null,o,f,a,i),null),et===null)throw Error(r(349));m||(Qi&127)!==0||dy(o,i,a)}return a}function dy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=vu(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function fy(t,i,a,o){i.value=a,i.getSnapshot=o,py(i)&&gy(t)}function my(t,i,a){return a(function(){py(i)&&gy(t)})}function py(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function gy(t){var i=Mr(t,2);i!==null&&dn(i,t,2)}function of(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Fr){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function yy(t,i,a,o){return t.baseState=a,af(t,Je,typeof o=="function"?o:Ki)}function rT(t,i,a,o,f){if(Tu(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};J.T!==null?a(!0):m.isTransition=!1,o(m),a=i.pending,a===null?(m.next=i.pending=m,vy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function vy(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=J.T,_={};J.T=_;try{var T=a(f,o),I=J.S;I!==null&&I(_,T),_y(t,i,T)}catch(H){cf(t,i,H)}finally{m!==null&&_.types!==null&&(m.types=_.types),J.T=m}}else try{m=a(f,o),_y(t,i,m)}catch(H){cf(t,i,H)}}function _y(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){by(t,i,o)},function(o){return cf(t,i,o)}):by(t,i,a)}function by(t,i,a){i.status="fulfilled",i.value=a,xy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,vy(t,a)))}function cf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,xy(i),i=i.next;while(i!==o)}t.action=null}function xy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function Ty(t,i){if(Pe){var a=et.formState;if(a!==null){e:{var o=Ae;if(Pe){if(nt){t:{for(var f=nt,m=jn;f.nodeType!==8;){if(!m){f=null;break t}if(f=kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){nt=kn(f.nextSibling),o=f.data==="F!";break e}}Ds(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=o,a=By.bind(null,Ae,o),o.dispatch=a,o=of(!1),m=pf.bind(null,Ae,!1,o.queue),o=rn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=rT.bind(null,Ae,f,m,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function wy(t){var i=gt();return Sy(i,Je,t)}function Sy(t,i,a){if(i=af(t,i,Ey)[0],t=bu(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=go(i)}catch(_){throw _===Ua?uu:_}else o=i;i=gt();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Fa(9,{destroy:void 0},aT.bind(null,f,a),null)),[o,m,t]}function aT(t,i){t.action=i}function Ay(t){var i=gt(),a=Je;if(a!==null)return Sy(i,a,t);gt(),i=i.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Fa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=vu(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ny(){return gt().memoizedState}function xu(t,i,a,o){var f=rn();Ae.flags|=t,f.memoizedState=Fa(1|i,{destroy:void 0},a,o===void 0?null:o)}function Eu(t,i,a,o){var f=gt();o=o===void 0?null:o;var m=f.memoizedState.inst;Je!==null&&o!==null&&Zd(o,Je.memoizedState.deps)?f.memoizedState=Fa(i,m,a,o):(Ae.flags|=t,f.memoizedState=Fa(1|i,m,a,o))}function Cy(t,i){xu(8390656,8,t,i)}function uf(t,i){Eu(2048,8,t,i)}function lT(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=vu(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ry(t){var i=gt().memoizedState;return lT({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Iy(t,i){return Eu(4,2,t,i)}function Dy(t,i){return Eu(4,4,t,i)}function jy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oy(t,i,a){a=a!=null?a.concat([t]):null,Eu(4,4,jy.bind(null,i,t),a)}function hf(){}function ky(t,i){var a=gt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Zd(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function My(t,i){var a=gt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Zd(i,o[1]))return o[0];if(o=t(),Fr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,i],o}function df(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=V0(),Ae.lanes|=t,zs|=t,a)}function Vy(t,i,a,o){return gn(a,i)?a:qa.current!==null?(t=df(t,a,o),gn(t,i)||(At=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(je&261930)===0?(At=!0,t.memoizedState=a):(t=V0(),Ae.lanes|=t,zs|=t,i)}function Py(t,i,a,o,f){var m=re.p;re.p=m!==0&&8>m?m:8;var _=J.T,T={};J.T=T,pf(t,!1,i,a);try{var I=f(),H=J.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=nT(I,o);yo(t,i,X,En(t))}else yo(t,i,o,En(t))}catch(ee){yo(t,i,{then:function(){},status:"rejected",reason:ee},En())}finally{re.p=m,_!==null&&T.types!==null&&(_.types=T.types),J.T=_}}function oT(){}function ff(t,i,a,o){if(t.tag!==5)throw Error(r(476));var f=Ly(t).queue;Py(t,f,i,pe,a===null?oT:function(){return Uy(t),a(o)})}function Ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Uy(t){var i=Ly(t);i.next===null&&(i=t.alternate.memoizedState),yo(t,i.next.queue,{},En())}function mf(){return Ht(ko)}function zy(){return gt().memoizedState}function qy(){return gt().memoizedState}function cT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=ks(a);var o=Ms(i,t,a);o!==null&&(dn(o,i,a),ho(o,i,a)),i={cache:Bd()},t.payload=i;return}i=i.return}}function uT(t,i,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(t)?Hy(i,a):(a=Dd(t,i,a,o),a!==null&&(dn(a,t,o),Fy(a,i,o)))}function By(t,i,a){var o=En();yo(t,i,a,o)}function yo(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))Hy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,T=m(_,a);if(f.hasEagerState=!0,f.eagerState=T,gn(T,_))return iu(t,i,f,0),et===null&&nu(),!1}catch{}finally{}if(a=Dd(t,i,f,o),a!==null)return dn(a,t,o),Fy(a,i,o),!0}return!1}function pf(t,i,a,o){if(o={lane:2,revertLane:Qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(i)throw Error(r(479))}else i=Dd(t,a,o,2),i!==null&&dn(i,t,2)}function Tu(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Hy(t,i){Ba=gu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Fy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}var vo={readContext:Ht,use:_u,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};vo.useEffectEvent=ht;var Gy={readContext:Ht,use:_u,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,xu(4194308,4,jy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return xu(4194308,4,t,i)},useInsertionEffect:function(t,i){xu(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var o=t();if(Fr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=rn();if(a!==void 0){var f=a(i);if(Fr){Tn(!0);try{a(i)}finally{Tn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=uT.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=of(t);var i=t.queue,a=By.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(t,i){var a=rn();return df(a,t,i)},useTransition:function(){var t=of(!1);return t=Py.bind(null,Ae,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ae,f=rn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),et===null)throw Error(r(349));(je&127)!==0||dy(o,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Cy(my.bind(null,o,m,t),[t]),o.flags|=2048,Fa(9,{destroy:void 0},fy.bind(null,o,m,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Pe){var a=Si,o=wi;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=iT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:mf,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:rf,useCacheRefresh:function(){return rn().memoizedState=cT.bind(null,Ae)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},gf={readContext:Ht,use:_u,useCallback:ky,useContext:Ht,useEffect:uf,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:My,useReducer:bu,useRef:Ny,useState:function(){return bu(Ki)},useDebugValue:hf,useDeferredValue:function(t,i){var a=gt();return Vy(a,Je.memoizedState,t,i)},useTransition:function(){var t=bu(Ki)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:mf,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var a=gt();return yy(a,Je,t,i)},useMemoCache:rf,useCacheRefresh:qy};gf.useEffectEvent=Ry;var Yy={readContext:Ht,use:_u,useCallback:ky,useContext:Ht,useEffect:uf,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:My,useReducer:lf,useRef:Ny,useState:function(){return lf(Ki)},useDebugValue:hf,useDeferredValue:function(t,i){var a=gt();return Je===null?df(a,t,i):Vy(a,Je.memoizedState,t,i)},useTransition:function(){var t=lf(Ki)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:mf,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var a=gt();return Je!==null?yy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rf,useCacheRefresh:qy};Yy.useEffectEvent=Ry;function yf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=En(),f=ks(o);f.payload=i,a!=null&&(f.callback=a),i=Ms(t,f,o),i!==null&&(dn(i,t,o),ho(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=En(),f=ks(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ms(t,f,o),i!==null&&(dn(i,t,o),ho(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),o=ks(a);o.tag=2,i!=null&&(o.callback=i),i=Ms(t,o,a),i!==null&&(dn(i,t,a),ho(i,t,a))}};function Qy(t,i,a,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):i.prototype&&i.prototype.isPureReactComponent?!io(a,o)||!io(f,m):!0}function Ky(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&vf.enqueueReplaceState(i,i.state,null)}function Gr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function $y(t){tu(t)}function Xy(t){console.error(t)}function Jy(t){tu(t)}function wu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Wy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _f(t,i,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(t,i)},a}function Zy(t){return t=ks(t),t.tag=3,t}function e0(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){Wy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Wy(i,a,o),typeof f!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function hT(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,f,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?Vu():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===hu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ff(t,o,f)),!1;case 22:return a.flags|=65536,o===hu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ff(t,o,f)),!1}throw Error(r(435,a.tag))}return Ff(t,o,f),Vu(),!1}if(Pe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Pd&&(t=Error(r(422),{cause:o}),ao(Rn(t,a)))):(o!==Pd&&(i=Error(r(423),{cause:o}),ao(Rn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Rn(o,a),f=_f(t.stateNode,o,f),Kd(t,f),dt!==4&&(dt=2)),!1;var m=Error(r(520),{cause:o});if(m=Rn(m,a),Ao===null?Ao=[m]:Ao.push(m),dt!==4&&(dt=2),i===null)return!0;o=Rn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=_f(a.stateNode,o,t),Kd(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qs===null||!qs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),e0(f,t,a,o),Kd(a,f),!1}a=a.return}while(a!==null);return!1}var bf=Error(r(461)),At=!1;function Ft(t,i,a,o){i.child=t===null?sy(i,null,a,o):Hr(i,t.child,a,o)}function t0(t,i,a,o,f){a=a.render;var m=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ur(i),o=ef(t,i,a,_,m,f),T=tf(),t!==null&&!At?(nf(t,i,f),$i(t,i,f)):(Pe&&T&&Md(i),i.flags|=1,Ft(t,i,o,f),i.child)}function n0(t,i,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!jd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,i0(t,i,m,o,f)):(t=ru(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Cf(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:io,a(_,o)&&t.ref===i.ref)return $i(t,i,f)}return i.flags|=1,t=Hi(m,o),t.ref=i.ref,t.return=i,i.child=t}function i0(t,i,a,o,f){if(t!==null){var m=t.memoizedProps;if(io(m,o)&&t.ref===i.ref)if(At=!1,i.pendingProps=o=m,Cf(t,f))(t.flags&131072)!==0&&(At=!0);else return i.lanes=t.lanes,$i(t,i,f)}return xf(t,i,a,o,f)}function s0(t,i,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,i.child=null;return r0(t,i,m,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(i,m!==null?m.cachePool:null),m!==null?ly(i,m):Xd(),oy(i);else return o=i.lanes=536870912,r0(t,i,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(cu(i,m.cachePool),ly(i,m),Ps(),i.memoizedState=null):(t!==null&&cu(i,null),Xd(),Ps());return Ft(t,i,f,a),i.child}function _o(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function r0(t,i,a,o,f){var m=Fd();return m=m===null?null:{parent:wt._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&cu(i,null),Xd(),oy(i),t!==null&&Va(t,i,o,!0),i.childLanes=f,null}function Su(t,i){return i=Nu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function a0(t,i,a){return Hr(i,t.child,null,a),t=Su(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function dT(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=Su(i,o),i.lanes=536870912,_o(null,t);if(Wd(i),(t=nt)?(t=vv(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw Ds(i);return i.lanes=536870912,null}return Su(i,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Wd(i),f)if(i.flags&256)i.flags&=-257,i=a0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(At||Va(t,i,a,!1),f=(a&t.childLanes)!==0,At||f){if(o=et,o!==null&&(_=Ul(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Mr(t,_),dn(o,t,_),bf;Vu(),i=a0(t,i,a)}else t=m.treeContext,nt=kn(_.nextSibling),Bt=i,Pe=!0,Is=null,jn=!1,t!==null&&Yg(i,t),i=Su(i,o),i.flags|=4096;return i}return t=Hi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Au(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xf(t,i,a,o,f){return Ur(i),a=ef(t,i,a,o,void 0,f),o=tf(),t!==null&&!At?(nf(t,i,f),$i(t,i,f)):(Pe&&o&&Md(i),i.flags|=1,Ft(t,i,a,f),i.child)}function l0(t,i,a,o,f,m){return Ur(i),i.updateQueue=null,a=uy(i,o,a,f),cy(t),o=tf(),t!==null&&!At?(nf(t,i,m),$i(t,i,m)):(Pe&&o&&Md(i),i.flags|=1,Ft(t,i,a,m),i.child)}function o0(t,i,a,o,f){if(Ur(i),i.stateNode===null){var m=ja,_=a.contextType;typeof _=="object"&&_!==null&&(m=Ht(_)),m=new a(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},Yd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Ht(_):ja,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(yf(i,a,_,o),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&vf.enqueueReplaceState(m,m.state,null),mo(i,o,m,f),fo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var T=i.memoizedProps,I=Gr(a,T);m.props=I;var H=m.context,X=a.contextType;_=ja,typeof X=="object"&&X!==null&&(_=Ht(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||H!==_)&&Ky(i,m,o,_),Os=!1;var F=i.memoizedState;m.state=F,mo(i,o,m,f),fo(),H=i.memoizedState,T||F!==H||Os?(typeof ee=="function"&&(yf(i,a,ee,o),H=i.memoizedState),(I=Os||Qy(i,a,I,o,F,H,_))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=H),m.props=o,m.state=H,m.context=_,o=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,Qd(t,i),_=i.memoizedProps,X=Gr(a,_),m.props=X,ee=i.pendingProps,F=m.context,H=a.contextType,I=ja,typeof H=="object"&&H!==null&&(I=Ht(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ee||F!==I)&&Ky(i,m,o,I),Os=!1,F=i.memoizedState,m.state=F,mo(i,o,m,f),fo();var Y=i.memoizedState;_!==ee||F!==Y||Os||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof T=="function"&&(yf(i,a,T,o),Y=i.memoizedState),(X=Os||Qy(i,a,X,o,F,Y,I)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,Y,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,Y,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),m.props=o,m.state=Y,m.context=I,o=X):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,Au(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=Hr(i,t.child,null,f),i.child=Hr(i,null,a,f)):Ft(t,i,a,f),i.memoizedState=m.state,t=i.child):t=$i(t,i,f),t}function c0(t,i,a,o){return Pr(),i.flags|=256,Ft(t,i,a,o),i.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(t){return{baseLanes:t,cachePool:Wg()}}function wf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function u0(t,i,a){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Vs(i):Ps(),(t=nt)?(t=vv(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw Ds(i);return am(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,f?(Ps(),f=i.mode,T=Nu({mode:"hidden",children:T},f),o=Vr(o,f,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Tf(a),o.childLanes=wf(t,_,a),i.memoizedState=Ef,_o(null,o)):(Vs(i),Sf(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(m)i.flags&256?(Vs(i),i.flags&=-257,i=Af(t,i,a)):i.memoizedState!==null?(Ps(),i.child=t.child,i.flags|=128,i=null):(Ps(),T=o.fallback,f=i.mode,o=Nu({mode:"visible",children:o.children},f),T=Vr(T,f,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Hr(i,t.child,null,a),o=i.child,o.memoizedState=Tf(a),o.childLanes=wf(t,_,a),i.memoizedState=Ef,i=_o(null,o));else if(Vs(i),am(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(r(419)),o.stack="",o.digest=_,ao({value:o,source:null,stack:null}),i=Af(t,i,a)}else if(At||Va(t,i,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=et,_!==null&&(o=Ul(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Mr(t,o),dn(_,t,o),bf;rm(T)||Vu(),i=Af(t,i,a)}else rm(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,nt=kn(T.nextSibling),Bt=i,Pe=!0,Is=null,jn=!1,t!==null&&Yg(i,t),i=Sf(i,o.children),i.flags|=4096);return i}return f?(Ps(),T=o.fallback,f=i.mode,I=t.child,H=I.sibling,o=Hi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=Hi(H,T):(T=Vr(T,f,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,_o(null,o),o=i.child,T=t.child.memoizedState,T===null?T=Tf(a):(f=T.cachePool,f!==null?(I=wt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Wg(),T={baseLanes:T.baseLanes|a,cachePool:f}),o.memoizedState=T,o.childLanes=wf(t,_,a),i.memoizedState=Ef,_o(t.child,o)):(Vs(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Sf(t,i){return i=Nu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nu(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Af(t,i,a){return Hr(i,t.child,null,a),t=Sf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function h0(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),zd(t.return,i,a)}function Nf(t,i,a,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function d0(t,i,a){var o=i.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Ft(t,i,o,a),o=Pe?ro:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,a,i);else if(t.tag===19)h0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&pu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Nf(i,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&pu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Nf(i,!0,a,null,m,o);break;case"together":Nf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function $i(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function fT(t,i,a){switch(i.tag){case 3:jt(i,i.stateNode.containerInfo),js(i,wt,t.memoizedState.cache),Pr();break;case 27:case 5:yr(i);break;case 4:jt(i,i.stateNode.containerInfo);break;case 10:js(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wd(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?u0(t,i,a):(Vs(i),t=$i(t,i,a),t!==null?t.sibling:null);Vs(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Va(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return d0(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(pt,pt.current),o)break;return null;case 22:return i.lanes=0,s0(t,i,a,i.pendingProps);case 24:js(i,wt,t.memoizedState.cache)}return $i(t,i,a)}function f0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)At=!0;else{if(!Cf(t,a)&&(i.flags&128)===0)return At=!1,fT(t,i,a);At=(t.flags&131072)!==0}else At=!1,Pe&&(i.flags&1048576)!==0&&Gg(i,ro,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=qr(i.elementType),i.type=t,typeof t=="function")jd(t)?(o=Gr(t,o),i.tag=1,i=o0(null,i,t,o,a)):(i.tag=0,i=xf(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===ye){i.tag=11,i=t0(null,i,t,o,a);break e}else if(f===C){i.tag=14,i=n0(null,i,t,o,a);break e}}throw i=rt(t)||t,Error(r(306,i,""))}}return i;case 0:return xf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=Gr(o,i.pendingProps),o0(t,i,o,f,a);case 3:e:{if(jt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var m=i.memoizedState;f=m.element,Qd(t,i),mo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,js(i,wt,o),o!==m.cache&&qd(i,[wt],a,!0),fo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=c0(t,i,o,a);break e}else if(o!==f){f=Rn(Error(r(424)),i),ao(f),i=c0(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=kn(t.firstChild),Bt=i,Pe=!0,Is=null,jn=!0,a=sy(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),o===f){i=$i(t,i,a);break e}Ft(t,i,o,a)}i=i.child}return i;case 26:return Au(t,i),t===null?(a=wv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,o=Hu(Ne.current).createElement(a),o[xt]=i,o[Vt]=t,Gt(o,a,t),Et(o),i.stateNode=o):i.memoizedState=wv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yr(i),t===null&&Pe&&(o=i.stateNode=xv(i.type,i.pendingProps,Ne.current),Bt=i,jn=!0,f=nt,Gs(i.type)?(lm=f,nt=kn(o.firstChild)):nt=f),Ft(t,i,i.pendingProps.children,a),Au(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=o=nt)&&(o=HT(o,i.type,i.pendingProps,jn),o!==null?(i.stateNode=o,Bt=i,nt=kn(o.firstChild),jn=!1,f=!0):f=!1),f||Ds(i)),yr(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,nm(f,m)?o=null:_!==null&&nm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=ef(t,i,sT,null,null,a),ko._currentValue=f),Au(t,i),Ft(t,i,o,a),i.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=FT(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Bt=i,nt=null,t=!0):t=!1),t||Ds(i)),null;case 13:return u0(t,i,a);case 4:return jt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Hr(i,null,o,a):Ft(t,i,o,a),i.child;case 11:return t0(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,js(i,i.type,o.value),Ft(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ur(i),f=Ht(f),o=o(f),i.flags|=1,Ft(t,i,o,a),i.child;case 14:return n0(t,i,i.type,i.pendingProps,a);case 15:return i0(t,i,i.type,i.pendingProps,a);case 19:return d0(t,i,a);case 31:return dT(t,i,a);case 22:return s0(t,i,a,i.pendingProps);case 24:return Ur(i),o=Ht(wt),t===null?(f=Fd(),f===null&&(f=et,m=Bd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:o,cache:f},Yd(i),js(i,wt,f)):((t.lanes&a)!==0&&(Qd(t,i),mo(i,null,null,a),fo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),js(i,wt,o)):(o=m.cache,js(i,wt,o),o!==f.cache&&qd(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xi(t){t.flags|=4}function Rf(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(z0())t.flags|=8192;else throw Br=hu,Gd}else t.flags&=-16777217}function m0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rv(i))if(z0())t.flags|=8192;else throw Br=hu,Gd}function Cu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?kc():536870912,t.lanes|=i,Ka|=i)}function bo(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function mT(t,i,a){var o=i.pendingProps;switch(Vd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yi(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ld())),it(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(Xi(i),m!==null?(it(i),m0(i,m)):(it(i),Rf(i,f,null,o,a))):m?m!==t.memoizedState?(Xi(i),it(i),m0(i,m)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Xi(i),it(i),Rf(i,f,t,o,a)),null;case 27:if(fa(i),a=Ne.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return it(i),null}t=ce.current,Ma(i)?Qg(i):(t=xv(f,o,a),i.stateNode=t,Xi(i))}return it(i),null;case 5:if(fa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return it(i),null}if(m=ce.current,Ma(i))Qg(i);else{var _=Hu(Ne.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[xt]=i,m[Vt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Gt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xi(i)}}return it(i),Rf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ne.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=Bt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[xt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||Ds(i,!0)}else t=Hu(t).createTextNode(o),t[xt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ma(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[xt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=Ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Cu(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&Jf(i.stateNode.containerInfo),it(i),null;case 10:return Yi(i.type),it(i),null;case 19:if(te(pt),o=i.memoizedState,o===null)return it(i),null;if(f=(i.flags&128)!==0,m=o.rendering,m===null)if(f)bo(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=pu(t),m!==null){for(i.flags|=128,bo(o,!1),t=m.updateQueue,i.updateQueue=t,Cu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Bg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Pe&&Fi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&nn()>Ou&&(i.flags|=128,f=!0,bo(o,!1),i.lanes=4194304)}else{if(!f)if(t=pu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Cu(i,t),bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Pe)return it(i),null}else 2*nn()-o.renderingStartTime>Ou&&a!==536870912&&(i.flags|=128,f=!0,bo(o,!1),i.lanes=4194304);o.isBackwards?(m.sibling=i.child,i.child=m):(t=o.last,t!==null?t.sibling=m:i.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=pt.current,ae(pt,f?a&1|2:a&1),Pe&&Fi(i,o.treeForkCount),t):(it(i),null);case 22:case 23:return _n(i),Jd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Cu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&te(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(wt),it(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function pT(t,i){switch(Vd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(wt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(pt),null;case 4:return at(),null;case 10:return Yi(i.type),null;case 22:case 23:return _n(i),Jd(),t!==null&&te(zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(wt),null;case 25:return null;default:return null}}function p0(t,i){switch(Vd(i),i.tag){case 3:Yi(wt),at();break;case 26:case 27:case 5:fa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:te(pt);break;case 10:Yi(i.type);break;case 22:case 23:_n(i),Jd(),t!==null&&te(zr);break;case 24:Yi(wt)}}function xo(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==f)}}catch(T){$e(i,i.return,T)}}function Ls(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var I=a,H=T;try{H()}catch(X){$e(f,I,X)}}}o=o.next}while(o!==m)}}catch(X){$e(i,i.return,X)}}function g0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ay(i,a)}catch(o){$e(t,t.return,o)}}}function y0(t,i,a){a.props=Gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function Eo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){$e(t,i,f)}}function Ai(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){$e(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,i,f)}else a.current=null}function v0(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function If(t,i,a){try{var o=t.stateNode;PT(o,t.type,a,i),o[Vt]=i}catch(f){$e(t,t.return,f)}}function _0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(o!==4&&(o===27&&Gs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(jf(t,i,a),t=t.sibling;t!==null;)jf(t,i,a),t=t.sibling}function Ru(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ru(t,i,a),t=t.sibling;t!==null;)Ru(t,i,a),t=t.sibling}function b0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,o,a),i[xt]=t,i[Vt]=a}catch(m){$e(t,t.return,m)}}var Ji=!1,Nt=!1,Of=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function gT(t,i){if(t=t.containerInfo,em=Xu,t=Og(t),Sd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(T=_+f),ee!==m||o!==0&&ee.nodeType!==3||(I=_+o),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)F=ee,ee=Y;for(;;){if(ee===t)break t;if(F===a&&++H===f&&(T=_),F===m&&++X===o&&(I=_),(Y=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Y}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Xu=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ue=Gr(a.type,f);t=o.getSnapshotBeforeUpdate(ue,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function E0(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),o&4&&xo(5,a);break;case 1:if(Zi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=Gr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}o&64&&g0(a),o&512&&Eo(a,a.return);break;case 3:if(Zi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ay(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&o&4&&b0(a);case 26:case 5:Zi(t,a),i===null&&o&4&&v0(a),o&512&&Eo(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),o&4&&S0(t,a);break;case 13:Zi(t,a),o&4&&A0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ST.bind(null,a),GT(t,a))));break;case 22:if(o=a.memoizedState!==null||Ji,!o){i=i!==null&&i.memoizedState!==null||Nt,f=Ji;var m=Nt;Ji=o,(Nt=i)&&!m?es(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),Ji=f,Nt=m}break;case 30:break;default:Zi(t,a)}}function T0(t){var i=t.alternate;i!==null&&(t.alternate=null,T0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Wi(t,i,a){for(a=a.child;a!==null;)w0(t,i,a),a=a.sibling}function w0(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Nt||Ai(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ai(a,i);var o=ot,f=on;Gs(a.type)&&(ot=a.stateNode,on=!1),Wi(t,i,a),Do(a.stateNode),ot=o,on=f;break;case 5:Nt||Ai(a,i);case 6:if(o=ot,f=on,ot=null,Wi(t,i,a),ot=o,on=f,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(m){$e(a,i,m)}else try{ot.removeChild(a.stateNode)}catch(m){$e(a,i,m)}break;case 18:ot!==null&&(on?(t=ot,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),nl(t)):gv(ot,a.stateNode));break;case 4:o=ot,f=on,ot=a.stateNode.containerInfo,on=!0,Wi(t,i,a),ot=o,on=f;break;case 0:case 11:case 14:case 15:Ls(2,a,i),Nt||Ls(4,a,i),Wi(t,i,a);break;case 1:Nt||(Ai(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&y0(a,i,o)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:Nt=(o=Nt)||a.memoizedState!==null,Wi(t,i,a),Nt=o;break;default:Wi(t,i,a)}}function S0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(a){$e(i,i.return,a)}}}function A0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(a){$e(i,i.return,a)}}function yT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new x0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new x0),i;default:throw Error(r(435,t.tag))}}function Iu(t,i){var a=yT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=AT.bind(null,t,o);o.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){ot=T.stateNode,on=!1;break e}break;case 5:ot=T.stateNode,on=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ot===null)throw Error(r(160));w0(m,_,f),ot=null,on=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)N0(i,t),i=i.sibling}var Jn=null;function N0(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),un(t),o&4&&(Ls(3,t,t.return),xo(3,t),Ls(5,t,t.return));break;case 1:cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),o&64&&Ji&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Jn;if(cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[di]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Gt(m,o,a),m[xt]=t,Et(m),o=m;break e;case"link":var _=Nv("link","href",f).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=f.createElement(o),Gt(m,o,a),f.head.appendChild(m);break;case"meta":if(_=Nv("meta","content",f).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=f.createElement(o),Gt(m,o,a),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[xt]=t,Et(m),o=m}t.stateNode=o}else Cv(f,t.type,t.stateNode);else t.stateNode=Av(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Cv(f,t.type,t.stateNode):Av(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&If(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),a!==null&&o&4&&If(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ue){$e(t,t.return,ue)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,If(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Of=!0);break;case 6:if(cn(i,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){$e(t,t.return,ue)}}break;case 3:if(Yu=null,f=Jn,Jn=Fu(i.containerInfo),cn(i,t),Jn=f,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{nl(i.containerInfo)}catch(ue){$e(t,t.return,ue)}Of&&(Of=!1,C0(t));break;case 4:o=Jn,Jn=Fu(t.stateNode.containerInfo),cn(i,t),un(t),Jn=o;break;case 12:cn(i,t),un(t);break;case 31:cn(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 13:cn(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ju=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Ji,X=Nt;if(Ji=H||f,Nt=X||I,cn(i,t),Nt=X,Ji=H,un(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||Ji||Nt||Yr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(m=I.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){$e(I,I.return,ue)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ue){$e(I,I.return,ue)}}}else if(i.tag===18){if(a===null){I=i;try{var Y=I.stateNode;f?yv(Y,!0):yv(I.stateNode,!1)}catch(ue){$e(I,I.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Iu(t,a))));break;case 19:cn(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 30:break;case 21:break;default:cn(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(_0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Df(t);Ru(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=Df(t);Ru(t,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Df(t);jf(t,H,I);break;default:throw Error(r(161))}}catch(X){$e(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function C0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;C0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E0(t,i.alternate,i),i=i.sibling}function Yr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ls(4,i,i.return),Yr(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&y0(i,i.return,a),Yr(i);break;case 27:Do(i.stateNode);case 26:case 5:Ai(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}t=t.sibling}}function es(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:es(f,m,a),xo(4,m);break;case 1:if(es(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(o,o.return,H)}if(o=m,f=o.updateQueue,f!==null){var T=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)ry(I[f],T)}catch(H){$e(o,o.return,H)}}a&&_&64&&g0(m),Eo(m,m.return);break;case 27:b0(m);case 26:case 5:es(f,m,a),a&&o===null&&_&4&&v0(m),Eo(m,m.return);break;case 12:es(f,m,a);break;case 31:es(f,m,a),a&&_&4&&S0(f,m);break;case 13:es(f,m,a),a&&_&4&&A0(f,m);break;case 22:m.memoizedState===null&&es(f,m,a),Eo(m,m.return);break;case 30:break;default:es(f,m,a)}i=i.sibling}}function kf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&lo(a))}function Mf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t))}function Wn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R0(t,i,a,o),i=i.sibling}function R0(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,o),f&2048&&xo(9,i);break;case 1:Wn(t,i,a,o);break;case 3:Wn(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t)));break;case 12:if(f&2048){Wn(t,i,a,o),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){$e(i,i.return,I)}}else Wn(t,i,a,o);break;case 31:Wn(t,i,a,o);break;case 13:Wn(t,i,a,o);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?Wn(t,i,a,o):To(t,i):m._visibility&2?Wn(t,i,a,o):(m._visibility|=2,Ga(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&kf(_,i);break;case 24:Wn(t,i,a,o),f&2048&&Mf(i.alternate,i);break;default:Wn(t,i,a,o)}}function Ga(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,T=a,I=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(m,_,T,I,f),xo(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ga(m,_,T,I,f):To(m,_):(X._visibility|=2,Ga(m,_,T,I,f)),f&&H&2048&&kf(_.alternate,_);break;case 24:Ga(m,_,T,I,f),f&&H&2048&&Mf(_.alternate,_);break;default:Ga(m,_,T,I,f)}i=i.sibling}}function To(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:To(a,o),f&2048&&kf(o.alternate,o);break;case 24:To(a,o),f&2048&&Mf(o.alternate,o);break;default:To(a,o)}i=i.sibling}}var wo=8192;function Ya(t,i,a){if(t.subtreeFlags&wo)for(t=t.child;t!==null;)I0(t,i,a),t=t.sibling}function I0(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&wo&&t.memoizedState!==null&&iw(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var o=Jn;Jn=Fu(t.stateNode.containerInfo),Ya(t,i,a),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=wo,wo=16777216,Ya(t,i,a),wo=o):Ya(t,i,a));break;default:Ya(t,i,a)}}function D0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function So(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,O0(o,t)}D0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)j0(t),t=t.sibling}function j0(t){switch(t.tag){case 0:case 11:case 15:So(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:So(t);break;case 12:So(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Du(t)):So(t);break;default:So(t)}}function Du(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,O0(o,t)}D0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ls(8,i,i.return),Du(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Du(i));break;default:Du(i)}t=t.sibling}}function O0(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Lt=o;else e:for(a=t;Lt!==null;){o=Lt;var f=o.sibling,m=o.return;if(T0(o),o===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}var vT={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Re=null,je=0,Ke=0,bn=null,Us=!1,Qa=!1,Vf=!1,ts=0,dt=0,zs=0,Qr=0,Pf=0,xn=0,Ka=0,Ao=null,hn=null,Lf=!1,ju=0,k0=0,Ou=1/0,ku=null,qs=null,kt=0,Bs=null,$a=null,ns=0,Uf=0,zf=null,M0=null,No=0,qf=null;function En(){return(Fe&2)!==0&&je!==0?je&-je:J.T!==null?Qf():Mc()}function V0(){if(xn===0)if((je&536870912)===0||Pe){var t=br;br<<=1,(br&3932160)===0&&(br=262144),xn=t}else xn=536870912;return t=vn.current,t!==null&&(t.flags|=32),xn}function dn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Hs(t,je,xn,!1)),xr(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Qr|=a),dt===4&&Hs(t,je,xn,!1)),Ni(t))}function P0(t,i,a){if((Fe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Bn(t,i),f=o?ET(t,i):Hf(t,i,!0),m=o;do{if(f===0){Qa&&!o&&Hs(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!bT(a)){f=Hf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;f=Ao;var I=T.current.memoizedState.isDehydrated;if(I&&(Xa(T,_).flags|=256),_=Hf(T,_,!1),_!==2){if(Vf&&!I){T.errorRecoveryDisabledLanes|=m,Qr|=m,f=4;break e}m=hn,hn=f,m!==null&&(hn===null?hn=m:hn.push.apply(hn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Xa(t,0),Hs(t,i,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Hs(o,i,xn,!Us);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=ju+300-nn(),10<f)){if(Hs(o,i,xn,!Us),ci(o,0,!0)!==0)break e;ns=i,o.timeoutHandle=mv(L0.bind(null,o,a,hn,ku,Lf,i,xn,Qr,Ka,Us,m,"Throttled",-0,0),f);break e}L0(o,a,hn,ku,Lf,i,xn,Qr,Ka,Us,m,null,-0,0)}}break}while(!0);Ni(t)}function L0(t,i,a,o,f,m,_,T,I,H,X,ee,F,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},I0(i,m,ee);var ue=(m&62914560)===m?ju-nn():(m&4194048)===m?k0-nn():0;if(ue=sw(ee,ue),ue!==null){ns=m,t.cancelPendingCommit=ue(Y0.bind(null,t,i,m,a,o,f,_,T,I,X,ee,null,F,Y)),Hs(t,m,_,!H);return}}Y0(t,i,m,a,o,f,_,T,I)}function bT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!gn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hs(t,i,a,o){i&=~Pf,i&=~Qr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-ft(f),_=1<<m;o[m]=-1,f&=~_}a!==0&&Er(t,a,i)}function Mu(){return(Fe&6)===0?(Co(0),!1):!0}function Bf(){if(Re!==null){if(Ke===0)var t=Re.return;else t=Re,Gi=Lr=null,sf(t),za=null,co=0,t=Re;for(;t!==null;)p0(t.alternate,t),t=t.return;Re=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ns=0,Bf(),et=t,Re=a=Hi(t.current,null),je=i,Ke=0,bn=null,Us=!1,Qa=Bn(t,i),Vf=!1,Ka=xn=Pf=Qr=zs=dt=0,hn=Ao=null,Lf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-ft(o),m=1<<f;i|=t[f],o&=~m}return ts=i,nu(),a}function U0(t,i){Ae=null,J.H=vo,i===Ua||i===uu?(i=ty(),Ke=3):i===Gd?(i=ty(),Ke=4):Ke=i===bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Re===null&&(dt=1,wu(t,Rn(i,t.current)))}function z0(){var t=vn.current;return t===null?!0:(je&4194048)===je?On===null:(je&62914560)===je||(je&536870912)!==0?t===On:!1}function q0(){var t=J.H;return J.H=vo,t===null?vo:t}function B0(){var t=J.A;return J.A=vT,t}function Vu(){dt=4,Us||(je&4194048)!==je&&vn.current!==null||(Qa=!0),(zs&134217727)===0&&(Qr&134217727)===0||et===null||Hs(et,je,xn,!1)}function Hf(t,i,a){var o=Fe;Fe|=2;var f=q0(),m=B0();(et!==t||je!==i)&&(ku=null,Xa(t,i)),i=!1;var _=dt;e:do try{if(Ke!==0&&Re!==null){var T=Re,I=bn;switch(Ke){case 8:Bf(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var H=Ke;if(Ke=0,bn=null,Ja(t,T,I,H),a&&Qa){_=0;break e}break;default:H=Ke,Ke=0,bn=null,Ja(t,T,I,H)}}xT(),_=dt;break}catch(X){U0(t,X)}while(!0);return i&&t.shellSuspendCounter++,Gi=Lr=null,Fe=o,J.H=f,J.A=m,Re===null&&(et=null,je=0,nu()),_}function xT(){for(;Re!==null;)H0(Re)}function ET(t,i){var a=Fe;Fe|=2;var o=q0(),f=B0();et!==t||je!==i?(ku=null,Ou=nn()+500,Xa(t,i)):Qa=Bn(t,i);e:do try{if(Ke!==0&&Re!==null){i=Re;var m=bn;t:switch(Ke){case 1:Ke=0,bn=null,Ja(t,i,m,1);break;case 2:case 9:if(Zg(m)){Ke=0,bn=null,F0(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ni(t)},m.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Zg(m)?(Ke=0,bn=null,F0(i)):(Ke=0,bn=null,Ja(t,i,m,7));break;case 5:var _=null;switch(Re.tag){case 26:_=Re.memoizedState;case 5:case 27:var T=Re;if(_?Rv(_):T.stateNode.complete){Ke=0,bn=null;var I=T.sibling;if(I!==null)Re=I;else{var H=T.return;H!==null?(Re=H,Pu(H)):Re=null}break t}}Ke=0,bn=null,Ja(t,i,m,5);break;case 6:Ke=0,bn=null,Ja(t,i,m,6);break;case 8:Bf(),dt=6;break e;default:throw Error(r(462))}}TT();break}catch(X){U0(t,X)}while(!0);return Gi=Lr=null,J.H=o,J.A=f,Fe=a,Re!==null?0:(et=null,je=0,nu(),dt)}function TT(){for(;Re!==null&&!vd();)H0(Re)}function H0(t){var i=f0(t.alternate,t,ts);t.memoizedProps=t.pendingProps,i===null?Pu(t):Re=i}function F0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=l0(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=l0(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:sf(i);default:p0(a,i),i=Re=Bg(i,ts),i=f0(a,i,ts)}t.memoizedProps=t.pendingProps,i===null?Pu(t):Re=i}function Ja(t,i,a,o){Gi=Lr=null,sf(i),za=null,co=0;var f=i.return;try{if(hT(t,f,i,a,je)){dt=1,wu(t,Rn(a,t.current)),Re=null;return}}catch(m){if(f!==null)throw Re=f,m;dt=1,wu(t,Rn(a,t.current)),Re=null;return}i.flags&32768?(Pe||o===1?t=!0:Qa||(je&536870912)!==0?t=!1:(Us=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),G0(i,t)):Pu(i)}function Pu(t){var i=t;do{if((i.flags&32768)!==0){G0(i,Us);return}t=i.return;var a=mT(i.alternate,i,ts);if(a!==null){Re=a;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=t}while(i!==null);dt===0&&(dt=5)}function G0(t,i){do{var a=pT(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);dt=6,Re=null}function Y0(t,i,a,o,f,m,_,T,I){t.cancelPendingCommit=null;do Lu();while(kt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=Id,xd(t,a,m,_,T,I),t===et&&(Re=et=null,je=0),$a=i,Bs=t,ns=a,Uf=m,zf=f,M0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NT(_s,function(){return J0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=J.T,J.T=null,f=re.p,re.p=2,_=Fe,Fe|=4;try{gT(t,i,a)}finally{Fe=_,re.p=f,J.T=o}}kt=1,Q0(),K0(),$0()}}function Q0(){if(kt===1){kt=0;var t=Bs,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var o=re.p;re.p=2;var f=Fe;Fe|=4;try{N0(i,t);var m=tm,_=Og(t.containerInfo),T=m.focusedElem,I=m.selectionRange;if(_!==T&&T&&T.ownerDocument&&jg(T.ownerDocument.documentElement,T)){if(I!==null&&Sd(T)){var H=I.start,X=I.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ue=T.textContent.length,ge=Math.min(I.start,ue),Ze=I.end===void 0?ge:Math.min(I.end,ue);!Y.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var L=Dg(T,ge),k=Dg(T,Ze);if(L&&k&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),ge>Ze?(Y.addRange(B),Y.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Y.addRange(B))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Xu=!!em,tm=em=null}finally{Fe=f,re.p=o,J.T=a}}t.current=i,kt=2}}function K0(){if(kt===2){kt=0;var t=Bs,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var o=re.p;re.p=2;var f=Fe;Fe|=4;try{E0(t,i.alternate,i)}finally{Fe=f,re.p=o,J.T=a}}kt=3}}function $0(){if(kt===4||kt===3){kt=0,Cc();var t=Bs,i=$a,a=ns,o=M0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,$a=Bs=null,X0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qs=null),Ui(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=J.T,f=re.p,re.p=2,J.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];m(T.value,{componentStack:T.stack})}}finally{J.T=i,re.p=f}}(ns&3)!==0&&Lu(),Ni(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===qf?No++:(No=0,qf=t):No=0,Co(0)}}function X0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,lo(i)))}function Lu(){return Q0(),K0(),$0(),J0()}function J0(){if(kt!==5)return!1;var t=Bs,i=Uf;Uf=0;var a=Ui(ns),o=J.T,f=re.p;try{re.p=32>a?32:a,J.T=null,a=zf,zf=null;var m=Bs,_=ns;if(kt=0,$a=Bs=null,ns=0,(Fe&6)!==0)throw Error(r(331));var T=Fe;if(Fe|=4,j0(m.current),R0(m,m.current,_,a),Fe=T,Co(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,m)}catch{}return!0}finally{re.p=f,J.T=o,X0(t,i)}}function W0(t,i,a){i=Rn(a,i),i=_f(t.stateNode,i,2),t=Ms(t,i,2),t!==null&&(xr(t,2),Ni(t))}function $e(t,i,a){if(t.tag===3)W0(t,t,a);else for(;i!==null;){if(i.tag===3){W0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=Rn(a,t),a=Zy(2),o=Ms(i,a,2),o!==null&&(e0(a,o,i,t),xr(o,2),Ni(o));break}}i=i.return}}function Ff(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new _T;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(Vf=!0,f.add(a),t=wT.bind(null,t,i,a),i.then(t,t))}function wT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>nn()-ju?(Fe&2)===0&&Xa(t,0):Pf|=a,Ka===je&&(Ka=0)),Ni(t)}function Z0(t,i){i===0&&(i=kc()),t=Mr(t,i),t!==null&&(xr(t,i),Ni(t))}function ST(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Z0(t,a)}function AT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Z0(t,a)}function NT(t,i){return Ot(t,i)}var Uu=null,Wa=null,Gf=!1,zu=!1,Yf=!1,Fs=0;function Ni(t){t!==Wa&&t.next===null&&(Wa===null?Uu=Wa=t:Wa=Wa.next=t),zu=!0,Gf||(Gf=!0,RT())}function Co(t,i){if(!Yf&&zu){Yf=!0;do for(var a=!1,o=Uu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-ft(42|t)+1)-1,m&=f&~(_&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,iv(o,m))}else m=je,m=ci(o,o===et?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Bn(o,m)||(a=!0,iv(o,m));o=o.next}while(a);Yf=!1}}function CT(){ev()}function ev(){zu=Gf=!1;var t=0;Fs!==0&&UT()&&(t=Fs);for(var i=nn(),a=null,o=Uu;o!==null;){var f=o.next,m=tv(o,i);m===0?(o.next=null,a===null?Uu=f:a.next=f,f===null&&(Wa=a)):(a=o,(t!==0||(m&3)!==0)&&(zu=!0)),o=f}kt!==0&&kt!==5||Co(t),Fs!==0&&(Fs=0)}function tv(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-ft(m),T=1<<_,I=f[_];I===-1?((T&a)===0||(T&o)!==0)&&(f[_]=bd(T,i)):I<=i&&(t.expiredLanes|=T),m&=~T}if(i=et,a=je,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&vs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&vs(o),Ui(a)){case 2:case 8:a=Pl;break;case 32:a=_s;break;case 268435456:a=Rc;break;default:a=_s}return o=nv.bind(null,t),a=Ot(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&vs(o),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lu()&&t.callbackNode!==a)return null;var o=je;return o=ci(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(P0(t,o,i),tv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?nv.bind(null,t):null)}function iv(t,i){if(Lu())return null;P0(t,i,!0)}function RT(){qT(function(){(Fe&6)!==0?Ot(Vl,CT):ev()})}function Qf(){if(Fs===0){var t=Pa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Fs=t}return Fs}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function rv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function IT(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var m=sv((f[Vt]||null).action),_=o.submitter;_&&(i=(i=_[Vt]||null)?sv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var T=new bi("action","action",null,o,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var I=_?rv(f,_):new FormData(f);ff(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=_?rv(f,_):new FormData(f),ff(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var Kf=0;Kf<Rd.length;Kf++){var $f=Rd[Kf],DT=$f.toLowerCase(),jT=$f[0].toUpperCase()+$f.slice(1);Xn(DT,"on"+jT)}Xn(Vg,"onAnimationEnd"),Xn(Pg,"onAnimationIteration"),Xn(Lg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(K1,"onTransitionRun"),Xn($1,"onTransitionStart"),Xn(X1,"onTransitionCancel"),Xn(Ug,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function av(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch(X){tu(X)}f.currentTarget=null,m=I}else for(_=0;_<o.length;_++){if(T=o[_],I=T.instance,H=T.currentTarget,T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch(X){tu(X)}f.currentTarget=null,m=I}}}}function Ie(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var o=t+"__bubble";a.has(o)||(lv(i,t,2,!1),a.add(o))}function Xf(t,i,a){var o=0;i&&(o|=4),lv(a,t,o,i)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[qu]){t[qu]=!0,zl.forEach(function(a){a!=="selectionchange"&&(OT.has(a)||Xf(a,!1,t),Xf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qu]||(i[qu]=!0,Xf("selectionchange",!1,i))}}function lv(t,i,a,o){switch(Vv(i)){case 2:var f=lw;break;case 8:f=ow;break;default:f=dm}a=f.bind(null,i,a,t),f=void 0,!Nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Wf(t,i,a,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=fi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=m=_;continue e}T=T.parentNode}}o=o.return}Ss(function(){var H=m,X=Sn(a),ee=[];e:{var F=zg.get(t);if(F!==void 0){var Y=bi,ue=t;switch(t){case"keypress":if(Rr(a)===0)break e;case"keydown":case"keyup":Y=Wc;break;case"focusin":ue="focus",Y=Dr;break;case"focusout":ue="blur",Y=Dr;break;case"beforeblur":case"afterblur":Y=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case Vg:case Pg:case Lg:Y=Gc;break;case Ug:Y=w;break;case"scroll":case"scrollend":Y=Wl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bi;break;case"toggle":case"beforetoggle":Y=Se}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),L=ge?F!==null?F+"Capture":null:F;ge=[];for(var k=H,B;k!==null;){var Z=k;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Yn(k,L),Z!=null&&ge.push(Io(k,Z,B))),Ze)break;k=k.return}0<ge.length&&(F=new Y(F,ue,null,a,X),ee.push({event:F,listeners:ge}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==$l&&(ue=a.relatedTarget||a.fromElement)&&(fi(ue)||ue[hi]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ue=a.relatedTarget||a.toElement,Y=H,ue=ue?fi(ue):null,ue!==null&&(Ze=c(ue),ge=ue.tag,ue!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ue=null)):(Y=null,ue=H),Y!==ue)){if(ge=Zl,Z="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Bi,Z="onPointerLeave",L="onPointerEnter",k="pointer"),Ze=Y==null?F:mn(Y),B=ue==null?F:mn(ue),F=new ge(Z,k+"leave",Y,a,X),F.target=Ze,F.relatedTarget=B,Z=null,fi(X)===H&&(ge=new ge(L,k+"enter",ue,a,X),ge.target=B,ge.relatedTarget=Ze,Z=ge),Ze=Z,Y&&ue)t:{for(ge=kT,L=Y,k=ue,B=0,Z=L;Z;Z=ge(Z))B++;Z=0;for(var fe=k;fe;fe=ge(fe))Z++;for(;0<B-Z;)L=ge(L),B--;for(;0<Z-B;)k=ge(k),Z--;for(;B--;){if(L===k||k!==null&&L===k.alternate){ge=L;break t}L=ge(L),k=ge(k)}ge=null}else ge=null;Y!==null&&ov(ee,F,Y,ge,!1),ue!==null&&Ze!==null&&ov(ee,Ze,ue,ge,!0)}}e:{if(F=H?mn(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var qe=Sg;else if(Tg(F))if(Ag)qe=G1;else{qe=H1;var he=B1}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&xa(H.elementType)&&(qe=Sg):qe=F1;if(qe&&(qe=qe(t,H))){wg(ee,qe,a,X);break e}he&&he(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Yl(F,"number",F.value)}switch(he=H?mn(H):window,t){case"focusin":(Tg(he)||he.contentEditable==="true")&&(Ra=he,Ad=H,so=null);break;case"focusout":so=Ad=Ra=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,kg(ee,a,X);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":kg(ee,a,X)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ca?jr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ti&&a.locale!=="ko"&&(Ca||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ca&&(Ce=Jl()):(_i=X,Xl="value"in _i?_i.value:_i.textContent,Ca=!0)),he=Bu(H,Oe),0<he.length&&(Oe=new Ei(Oe,t,null,a,X),ee.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=Na(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Nn?L1(t,a):U1(t,a))&&(Oe=Bu(H,"onBeforeInput"),0<Oe.length&&(he=new Ei("onBeforeInput","beforeinput",null,a,X),ee.push({event:he,listeners:Oe}),he.data=Ce)),IT(ee,t,H,a,X)}av(ee,i)})}function Io(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Bu(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Yn(t,a),f!=null&&o.unshift(Io(t,f,m)),f=Yn(t,i),f!=null&&o.push(Io(t,f,m))),t.tag===3)return o;t=t.return}return[]}function kT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,i,a,o,f){for(var m=i._reactName,_=[];a!==null&&a!==o;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||H===null||(I=H,f?(H=Yn(a,m),H!=null&&_.unshift(Io(a,H,I))):f||(H=Yn(a,m),H!=null&&_.push(Io(a,H,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var MT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(MT,`
`).replace(VT,"")}function uv(t,i){return i=cv(i),cv(t)===i}function We(t,i,a,o,f,m){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":Kl(t,o,m);break;case"data":if(i!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),_a(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bc.get(a)||a,_a(t,a,o))}}function Zf(t,i,a,o,f,m){switch(a){case"style":Kl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=t[Vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):_a(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,m,_,a,null)}}f&&We(t,i,"srcSet",a.srcSet,a,null),o&&We(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var T=m=_=f=null,I=null,H=null;for(o in a)if(a.hasOwnProperty(o)){var X=a[o];if(X!=null)switch(o){case"name":f=X;break;case"type":_=X;break;case"checked":I=X;break;case"defaultChecked":H=X;break;case"value":m=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:We(t,i,o,X,a,null)}}Uc(t,m,T,I,H,_,f,!1);return;case"select":Ie("invalid",t),o=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:We(t,i,f,T,a,null)}i=m,a=_,t.multiple=!!o,i!=null?xs(t,!!o,i,!1):a!=null&&xs(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),m=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:We(t,i,_,T,a,null)}Es(t,o,f,m);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,i,I,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<Ro.length;o++)Ie(Ro[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(o=a[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,H,o,a,null)}return;default:if(xa(i)){for(X in a)a.hasOwnProperty(X)&&(o=a[X],o!==void 0&&Zf(t,i,X,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&We(t,i,T,o,a,null))}function PT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,T=null,I=null,H=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ee;default:o.hasOwnProperty(Y)||We(t,i,Y,null,o,ee)}}for(var F in o){var Y=o[F];if(ee=a[F],o.hasOwnProperty(F)&&(Y!=null||ee!=null))switch(F){case"type":m=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Y!==ee&&We(t,i,F,Y,o,ee)}}ba(t,_,T,I,H,X,m,f);return;case"select":Y=_=T=F=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Y=I;default:o.hasOwnProperty(m)||We(t,i,m,null,o,I)}for(f in o)if(m=o[f],I=a[f],o.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==I&&We(t,i,f,m,o,I)}i=T,a=_,o=Y,F!=null?xs(t,!!a,F,!1):!!o!=!!a&&(i!=null?xs(t,!!a,i,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,o,f)}for(_ in o)if(f=o[_],m=a[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&We(t,i,_,f,o,m)}zc(t,F,Y);return;case"option":for(var ue in a)if(F=a[ue],a.hasOwnProperty(ue)&&F!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:We(t,i,ue,null,o,F)}for(I in o)if(F=o[I],Y=a[I],o.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,I,F,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!o.hasOwnProperty(ge)&&We(t,i,ge,null,o,F);for(H in o)if(F=o[H],Y=a[H],o.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:We(t,i,H,F,o,Y)}return;default:if(xa(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!o.hasOwnProperty(Ze)&&Zf(t,i,Ze,void 0,o,F);for(X in o)F=o[X],Y=a[X],!o.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||Zf(t,i,X,F,o,Y);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!o.hasOwnProperty(L)&&We(t,i,L,null,o,F);for(ee in o)F=o[ee],Y=a[ee],!o.hasOwnProperty(ee)||F===Y||F==null&&Y==null||We(t,i,ee,F,o,Y)}function hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,_=f.initiatorType,T=f.duration;if(m&&T&&hv(_)){for(_=0,T=f.responseEnd,o+=1;o<a.length;o++){var I=a[o],H=I.startTime;if(H>T)break;var X=I.transferSize,ee=I.initiatorType;X&&hv(ee)&&(I=I.responseEnd,_+=X*(I<T?1:(T-H)/(I-H)))}if(--o,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var em=null,tm=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function nm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function UT(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(BT)}:mv;function BT(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function gv(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),nl(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Do(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Do(a);for(var m=a.firstChild;m;){var _=m.nextSibling,T=m.nodeName;m[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Do(t.ownerDocument.body);a=f}while(a);nl(i)}function yv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function HT(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function FT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function vv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function _v(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function xv(t,i,a){switch(i=Hu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Do(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var Mn=new Map,Ev=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=re.d;re.d={f:YT,r:QT,D:KT,C:$T,L:XT,m:JT,X:ZT,S:WT,M:ew};function YT(){var t=is.f(),i=Mu();return t||i}function QT(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?Uy(i):is.r(t)}var Za=typeof document>"u"?null:document;function Tv(t,i,a){var o=Za;if(o&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ev.has(f)||(Ev.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Gt(i,"link",t),Et(i),o.head.appendChild(i)))}}function KT(t){is.D(t),Tv("dns-prefetch",t,null)}function $T(t,i){is.C(t,i),Tv("preconnect",t,i)}function XT(t,i,a){is.L(t,i,a);var o=Za;if(o&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var m=f;switch(i){case"style":m=el(t);break;case"script":m=tl(t)}Mn.has(m)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(jo(m))||i==="script"&&o.querySelector(Oo(m))||(i=o.createElement("link"),Gt(i,"link",t),Et(i),o.head.appendChild(i)))}}function JT(t,i){is.m(t,i);var a=Za;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=tl(t)}if(!Mn.has(m)&&(t=E({rel:"modulepreload",href:t},i),Mn.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(m)))return}o=a.createElement("link"),Gt(o,"link",t),Et(o),a.head.appendChild(o)}}}function WT(t,i,a){is.S(t,i,a);var o=Za;if(o&&t){var f=mi(o).hoistableStyles,m=el(t);i=i||"default";var _=f.get(m);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(jo(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(m))&&om(t,a);var I=_=o.createElement("link");Et(I),Gt(I,"link",t),I._p=new Promise(function(H,X){I.onload=H,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gu(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(m,_)}}}function ZT(t,i){is.X(t,i);var a=Za;if(a&&t){var o=mi(a).hoistableScripts,f=tl(t),m=o.get(f);m||(m=a.querySelector(Oo(f)),m||(t=E({src:t,async:!0},i),(i=Mn.get(f))&&cm(t,i),m=a.createElement("script"),Et(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function ew(t,i){is.M(t,i);var a=Za;if(a&&t){var o=mi(a).hoistableScripts,f=tl(t),m=o.get(f);m||(m=a.querySelector(Oo(f)),m||(t=E({src:t,async:!0,type:"module"},i),(i=Mn.get(f))&&cm(t,i),m=a.createElement("script"),Et(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function wv(t,i,a,o){var f=(f=Ne.current)?Fu(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=el(a.href),a=mi(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=el(a.href);var m=mi(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(jo(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),m||tw(f,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=tl(a),a=mi(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function el(t){return'href="'+an(t)+'"'}function jo(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function tw(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),Et(i),t.head.appendChild(i))}function tl(t){return'[src="'+an(t)+'"]'}function Oo(t){return"script[async]"+t}function Av(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,Et(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Gt(o,"style",f),Gu(o,a.precedence,t),i.instance=o;case"stylesheet":f=el(a.href);var m=t.querySelector(jo(f));if(m)return i.state.loading|=4,i.instance=m,Et(m),m;o=Sv(a),(f=Mn.get(f))&&om(o,f),m=(t.ownerDocument||t).createElement("link"),Et(m);var _=m;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Gt(m,"link",o),i.state.loading|=4,Gu(m,a.precedence,t),i.instance=m;case"script":return m=tl(a.src),(f=t.querySelector(Oo(m)))?(i.instance=f,Et(f),f):(o=a,(f=Mn.get(m))&&(o=E({},a),cm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Et(f),Gt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Gu(o,a.precedence,t));return i.instance}function Gu(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yu=null;function Nv(t,i,a){if(Yu===null){var o=new Map,f=Yu=new Map;f.set(a,o)}else f=Yu,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[di]||m[xt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var T=o.get(_);T?T.push(m):o.set(_,[m])}}return o}function Cv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function nw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iw(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=el(o.href),m=i.querySelector(jo(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,Et(m);return}m=i.ownerDocument||i,o=Sv(o),(f=Mn.get(f))&&om(o,f),m=m.createElement("link"),Et(m);var _=m;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Gt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function sw(t,i){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&um===0&&(um=62500*LT());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>um?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ku=null;function $u(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ku=new Map,i.forEach(rw,t),Ku=null,Qu.call(t))}function rw(t,i){if(!(i.state.loading&4)){var a=Ku.get(t);if(a)var o=a.get(null);else{a=new Map,Ku.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,f),a.set(_,f),this.count++,o=Qu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var ko={$$typeof:$,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function aw(t,i,a,o,f,m,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Iv(t,i,a,o,f,m,_,T,I,H,X,ee){return t=new aw(t,i,a,_,I,H,X,ee,T),i=1,m===!0&&(i|=24),m=yn(3,null,null,i),t.current=m,m.stateNode=t,i=Bd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:i},Yd(m),t}function Dv(t){return t?(t=ja,t):ja}function jv(t,i,a,o,f,m){f=Dv(f),o.context===null?o.context=f:o.pendingContext=f,o=ks(i),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Ms(t,o,i),a!==null&&(dn(a,t,i),ho(a,t,i))}function Ov(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hm(t,i){Ov(t,i),(t=t.alternate)&&Ov(t,i)}function kv(t){if(t.tag===13||t.tag===31){var i=Mr(t,67108864);i!==null&&dn(i,t,67108864),hm(t,67108864)}}function Mv(t){if(t.tag===13||t.tag===31){var i=En();i=Tr(i);var a=Mr(t,i);a!==null&&dn(a,t,i),hm(t,i)}}var Xu=!0;function lw(t,i,a,o){var f=J.T;J.T=null;var m=re.p;try{re.p=2,dm(t,i,a,o)}finally{re.p=m,J.T=f}}function ow(t,i,a,o){var f=J.T;J.T=null;var m=re.p;try{re.p=8,dm(t,i,a,o)}finally{re.p=m,J.T=f}}function dm(t,i,a,o){if(Xu){var f=fm(o);if(f===null)Wf(t,i,o,Ju,a),Pv(t,o);else if(uw(f,t,i,a,o))o.stopPropagation();else if(Pv(t,o),i&4&&-1<cw.indexOf(t)){for(;f!==null;){var m=wn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=oi(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-ft(_);T.entanglements[1]|=I,_&=~I}Ni(m),(Fe&6)===0&&(Ou=nn()+500,Co(0))}}break;case 31:case 13:T=Mr(m,2),T!==null&&dn(T,m,2),Mu(),hm(m,2)}if(m=fm(o),m===null&&Wf(t,i,o,Ju,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else Wf(t,i,o,null,a)}}function fm(t){return t=Sn(t),mm(t)}var Ju=null;function mm(t){if(Ju=null,t=fi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ju=t,null}function Vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Vl:return 2;case Pl:return 8;case _s:case _d:return 32;case Rc:return 268435456;default:return 32}default:return 32}}var pm=!1,Ys=null,Qs=null,Ks=null,Mo=new Map,Vo=new Map,$s=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pv(t,i){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Mo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(i.pointerId)}}function Po(t,i,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=wn(i),i!==null&&kv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function uw(t,i,a,o,f){switch(i){case"focusin":return Ys=Po(Ys,t,i,a,o,f),!0;case"dragenter":return Qs=Po(Qs,t,i,a,o,f),!0;case"mouseover":return Ks=Po(Ks,t,i,a,o,f),!0;case"pointerover":var m=f.pointerId;return Mo.set(m,Po(Mo.get(m)||null,t,i,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Vo.set(m,Po(Vo.get(m)||null,t,i,a,o,f)),!0}return!1}function Lv(t){var i=fi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){Mv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){Mv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);$l=o,a.target.dispatchEvent(o),$l=null}else return i=wn(a),i!==null&&kv(i),t.blockedOn=a,!1;i.shift()}return!0}function Uv(t,i,a){Wu(t)&&a.delete(i)}function hw(){pm=!1,Ys!==null&&Wu(Ys)&&(Ys=null),Qs!==null&&Wu(Qs)&&(Qs=null),Ks!==null&&Wu(Ks)&&(Ks=null),Mo.forEach(Uv),Vo.forEach(Uv)}function Zu(t,i){t.blockedOn===i&&(t.blockedOn=null,pm||(pm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hw)))}var eh=null;function zv(t){eh!==t&&(eh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(mm(o||a)===null)continue;break}var m=wn(a);m!==null&&(t.splice(i,3),i-=3,ff(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function nl(t){function i(I){return Zu(I,t)}Ys!==null&&Zu(Ys,t),Qs!==null&&Zu(Qs,t),Ks!==null&&Zu(Ks,t),Mo.forEach(i),Vo.forEach(i);for(var a=0;a<$s.length;a++){var o=$s[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&$s.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],_=f[Vt]||null;if(typeof m=="function")_||zv(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Vt]||null)T=_.formAction;else if(mm(f)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),zv(a)}}}function qv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function gm(t){this._internalRoot=t}th.prototype.render=gm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=En();jv(a,o,t,i,null,null)},th.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;jv(t.current,2,null,t,null,null),Mu(),i[hi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$s.length&&i!==0&&i<$s[a].priority;a++);$s.splice(a,0,t),a===0&&Lv(t)}};var Bv=e.version;if(Bv!=="19.2.0")throw Error(r(527,Bv,"19.2.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var dw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{qn=nh.inject(dw),zt=nh}catch{}}return Uo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",f=$y,m=Xy,_=Jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Iv(t,1,!1,null,null,a,o,null,f,m,_,qv),t[hi]=i.current,Jf(t),new gm(i)},Uo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,f="",m=$y,_=Xy,T=Jy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Iv(t,1,!0,i,a??null,o,f,I,m,_,T,qv),i.context=Dv(null),a=i.current,o=En(),o=Tr(o),f=ks(o),f.callback=null,Ms(a,f,o),a=o,i.current.lanes=a,xr(i,a),Ni(i),t[hi]=i.current,Jf(t),new th(i)},Uo.version="19.2.0",Uo}var Wv;function Ew(){if(Wv)return _m.exports;Wv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_m.exports=xw(),_m.exports}var Tw=Ew();var Zv="popstate";function ww(s={}){function e(r,l){let{pathname:c,search:d,hash:p}=r.location;return qm("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:tc(l)}return Aw(e,n,null,s)}function ct(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Un(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function e_(s,e){return{usr:s.state,key:s.key,idx:e}}function qm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||r||Sw()}}function tc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function bl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function Aw(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,p="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function E(){p="POP";let D=x(),K=D==null?null:D-y;y=D,g&&g({action:p,location:Q.location,delta:K})}function S(D,K){p="PUSH";let W=qm(Q.location,D,K);y=x()+1;let $=e_(W,y),ye=Q.createHref(W);try{d.pushState($,"",ye)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;l.location.assign(ye)}c&&g&&g({action:p,location:Q.location,delta:1})}function j(D,K){p="REPLACE";let W=qm(Q.location,D,K);y=x();let $=e_(W,y),ye=Q.createHref(W);d.replaceState($,"",ye),c&&g&&g({action:p,location:Q.location,delta:0})}function U(D){return Nw(D)}let Q={get action(){return p},get location(){return s(l,d)},listen(D){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Zv,E),g=D,()=>{l.removeEventListener(Zv,E),g=null}},createHref(D){return e(l,D)},createURL:U,encodeLocation(D){let K=U(D);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:j,go(D){return d.go(D)}};return Q}function Nw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:tc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qb(s,e,n="/"){return Cw(s,e,n,!1)}function Cw(s,e,n,r){let l=typeof e=="string"?bl(e):e,c=us(l.pathname||"/",n);if(c==null)return null;let d=Bb(s);Rw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=zw(c);p=Lw(d[g],y,r)}return p}function Bb(s,e=[],n=[],r="",l=!1){let c=(d,p,g=l,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;ct(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=ls([r,x.relativePath]),S=n.concat(x);d.children&&d.children.length>0&&(ct(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Bb(d.children,e,S,E,g)),!(d.path==null&&!d.index)&&e.push({path:E,score:Vw(E,d.index),routesMeta:S})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of Hb(d.path))c(d,p,!0,g)}),e}function Hb(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=Hb(r.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function Rw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Pw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Iw=/^:[\w-]+$/,Dw=3,jw=2,Ow=1,kw=10,Mw=-2,t_=s=>s==="*";function Vw(s,e){let n=s.split("/"),r=n.length;return n.some(t_)&&(r+=Mw),e&&(r+=jw),n.filter(l=>!t_(l)).reduce((l,c)=>l+(Iw.test(c)?Dw:c===""?Ow:kw),r)}function Pw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function Lw(s,e,n=!1){let{routesMeta:r}=s,l={},c="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:ls([c,E.pathname]),pathnameBase:Gw(ls([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=ls([c,E.pathnameBase]))}return d}function Th(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Uw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let U=p[S]||"";d=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const j=p[S];return E&&!j?y[x]=void 0:y[x]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function Uw(s,e=!1,n=!0){Un(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function zw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function us(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bw=s=>qw.test(s);function Hw(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?bl(s):s,c;if(n)if(Bw(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=n_(n.substring(1),"/"):c=n_(n,e)}else c=e;return{pathname:c,search:Yw(r),hash:Qw(l)}}function n_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Tm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _p(s){let e=Fw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function bp(s,e,n,r=!1){let l;typeof s=="string"?l=bl(s):(l={...s},ct(!l.pathname||!l.pathname.includes("?"),Tm("?","pathname","search",l)),ct(!l.pathname||!l.pathname.includes("#"),Tm("#","pathname","hash",l)),ct(!l.search||!l.search.includes("#"),Tm("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),E-=1;l.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=Hw(l,p),y=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var ls=s=>s.join("/").replace(/\/\/+/g,"/"),Gw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Yw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Qw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Kw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fb=["POST","PUT","PATCH","DELETE"];new Set(Fb);var $w=["GET",...Fb];new Set($w);var xl=P.createContext(null);xl.displayName="DataRouter";var $h=P.createContext(null);$h.displayName="DataRouterState";P.createContext(!1);var Gb=P.createContext({isTransitioning:!1});Gb.displayName="ViewTransition";var Xw=P.createContext(new Map);Xw.displayName="Fetchers";var Jw=P.createContext(null);Jw.displayName="Await";var si=P.createContext(null);si.displayName="Navigation";var dc=P.createContext(null);dc.displayName="Location";var ri=P.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var xp=P.createContext(null);xp.displayName="RouteError";function Ww(s,{relative:e}={}){ct(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(si),{hash:l,pathname:c,search:d}=mc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ls([n,c])),r.createHref({pathname:p,search:d,hash:l})}function El(){return P.useContext(dc)!=null}function mr(){return ct(El(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(dc).location}var Yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qb(s){P.useContext(si).static||P.useLayoutEffect(s)}function fc(){let{isDataRoute:s}=P.useContext(ri);return s?f2():Zw()}function Zw(){ct(El(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(xl),{basename:e,navigator:n}=P.useContext(si),{matches:r}=P.useContext(ri),{pathname:l}=mr(),c=JSON.stringify(_p(r)),d=P.useRef(!1);return Qb(()=>{d.current=!0}),P.useCallback((g,y={})=>{if(Un(d.current,Yb),!d.current)return;if(typeof g=="number"){n.go(g);return}let x=bp(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ls([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,l,s])}var e2=P.createContext(null);function t2(s){let e=P.useContext(ri).outlet;return P.useMemo(()=>e&&P.createElement(e2.Provider,{value:s},e),[e,s])}function mc(s,{relative:e}={}){let{matches:n}=P.useContext(ri),{pathname:r}=mr(),l=JSON.stringify(_p(n));return P.useMemo(()=>bp(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function n2(s,e){return Kb(s,e)}function Kb(s,e,n,r,l){ct(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(si),{matches:d}=P.useContext(ri),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let W=E&&E.path||"";$b(y,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=mr(),j;if(e){let W=typeof e=="string"?bl(e):e;ct(x==="/"||W.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${W.pathname}" was given in the \`location\` prop.`),j=W}else j=S;let U=j.pathname||"/",Q=U;if(x!=="/"){let W=x.replace(/^\//,"").split("/");Q="/"+U.replace(/^\//,"").split("/").slice(W.length).join("/")}let D=qb(s,{pathname:Q});Un(E||D!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Un(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=l2(D&&D.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ls([x,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?x:ls([x,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),d,n,r,l);return e&&K?P.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},K):K}function i2(){let s=d2(),e=Kw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:l},n):null,d)}var s2=P.createElement(i2,null),r2=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?P.createElement(ri.Provider,{value:this.props.routeContext},P.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a2({routeContext:s,match:e,children:n}){let r=P.useContext(xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ri.Provider,{value:s},n)}function l2(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,d=n?.errors;if(d!=null){let x=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);ct(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:S,errors:j}=n,U=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!j||j[E.route.id]===void 0);if(E.route.lazy||U){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:E})}:void 0;return c.reduceRight((x,E,S)=>{let j,U=!1,Q=null,D=null;n&&(j=d&&E.route.id?d[E.route.id]:void 0,Q=E.route.errorElement||s2,p&&(g<0&&S===0?($b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,D=null):g===S&&(U=!0,D=E.route.hydrateFallbackElement||null)));let K=e.concat(c.slice(0,S+1)),W=()=>{let $;return j?$=Q:U?$=D:E.route.Component?$=P.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=x,P.createElement(a2,{match:E,routeContext:{outlet:x,matches:K,isDataRoute:n!=null},children:$})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(r2,{location:n.location,revalidation:n.revalidation,component:Q,error:j,children:W(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:y}):W()},null)}function Ep(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o2(s){let e=P.useContext(xl);return ct(e,Ep(s)),e}function c2(s){let e=P.useContext($h);return ct(e,Ep(s)),e}function u2(s){let e=P.useContext(ri);return ct(e,Ep(s)),e}function Tp(s){let e=u2(s),n=e.matches[e.matches.length-1];return ct(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function h2(){return Tp("useRouteId")}function d2(){let s=P.useContext(xp),e=c2("useRouteError"),n=Tp("useRouteError");return s!==void 0?s:e.errors?.[n]}function f2(){let{router:s}=o2("useNavigate"),e=Tp("useNavigate"),n=P.useRef(!1);return Qb(()=>{n.current=!0}),P.useCallback(async(l,c={})=>{Un(n.current,Yb),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var i_={};function $b(s,e,n){!e&&!i_[s]&&(i_[s]=!0,Un(!1,n))}P.memo(m2);function m2({routes:s,future:e,state:n,unstable_onError:r}){return Kb(s,void 0,n,r,e)}function s_({to:s,replace:e,state:n,relative:r}){ct(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=P.useContext(si);Un(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(ri),{pathname:d}=mr(),p=fc(),g=bp(s,_p(c),d,r==="path"),y=JSON.stringify(g);return P.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function p2(s){return t2(s.context)}function Jt(s){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g2({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1}){ct(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=bl(n));let{pathname:g="/",search:y="",hash:x="",state:E=null,key:S="default"}=n,j=P.useMemo(()=>{let U=us(g,d);return U==null?null:{location:{pathname:U,search:y,hash:x,state:E,key:S},navigationType:r}},[d,g,y,x,E,S,r]);return Un(j!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(si.Provider,{value:p},P.createElement(dc.Provider,{children:e,value:j}))}function y2({children:s,location:e}){return n2(Bm(s),e)}function Bm(s,e=[]){let n=[];return P.Children.forEach(s,(r,l)=>{if(!P.isValidElement(r))return;let c=[...e,l];if(r.type===P.Fragment){n.push.apply(n,Bm(r.props.children,c));return}ct(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Bm(r.props.children,c)),n.push(d)}),n}var hh="get",dh="application/x-www-form-urlencoded";function Xh(s){return s!=null&&typeof s.tagName=="string"}function v2(s){return Xh(s)&&s.tagName.toLowerCase()==="button"}function _2(s){return Xh(s)&&s.tagName.toLowerCase()==="form"}function b2(s){return Xh(s)&&s.tagName.toLowerCase()==="input"}function x2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function E2(s,e){return s.button===0&&(!e||e==="_self")&&!x2(s)}var ih=null;function T2(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(s){return s!=null&&!w2.has(s)?(Un(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):s}function S2(s,e){let n,r,l,c,d;if(_2(s)){let p=s.getAttribute("action");r=p?us(p,e):null,n=s.getAttribute("method")||hh,l=wm(s.getAttribute("enctype"))||dh,c=new FormData(s)}else if(v2(s)||b2(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?us(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||hh,l=wm(s.getAttribute("formenctype"))||wm(p.getAttribute("enctype"))||dh,c=new FormData(p,s),!T2()){let{name:y,type:x,value:E}=s;if(x==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if(Xh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,r=null,l=dh,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function A2(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&us(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function N2(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function R2(s,e,n){let r=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await N2(c,n);return d.links?d.links():[]}return[]}));return O2(r.flat(1).filter(C2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function r_(s,e,n,r,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function I2(s,e,{includeHydrateFallback:n}={}){return D2(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function D2(s){return[...new Set(s)]}function j2(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function O2(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let c=JSON.stringify(j2(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function Xb(){let s=P.useContext(xl);return wp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function k2(){let s=P.useContext($h);return wp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Sp=P.createContext(void 0);Sp.displayName="FrameworkContext";function Jb(){let s=P.useContext(Sp);return wp(s,"You must render this element inside a <HydratedRouter> element"),s}function M2(s,e){let n=P.useContext(Sp),[r,l]=P.useState(!1),[c,d]=P.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=P.useRef(null);P.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let Q=K=>{K.forEach(W=>{d(W.isIntersecting)})},D=new IntersectionObserver(Q,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[s]),P.useEffect(()=>{if(r){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[r]);let j=()=>{l(!0)},U=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,S,{}]:[c,S,{onFocus:zo(p,j),onBlur:zo(g,U),onMouseEnter:zo(y,j),onMouseLeave:zo(x,U),onTouchStart:zo(E,j)}]:[!1,S,{}]}function zo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function V2({page:s,...e}){let{router:n}=Xb(),r=P.useMemo(()=>qb(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?P.createElement(L2,{page:s,matches:r,...e}):null}function P2(s){let{manifest:e,routeModules:n}=Jb(),[r,l]=P.useState([]);return P.useEffect(()=>{let c=!1;return R2(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),r}function L2({page:s,matches:e,...n}){let r=mr(),{manifest:l,routeModules:c}=Jb(),{basename:d}=Xb(),{loaderData:p,matches:g}=k2(),y=P.useMemo(()=>r_(s,e,g,l,r,"data"),[s,e,g,l,r]),x=P.useMemo(()=>r_(s,e,g,l,r,"assets"),[s,e,g,l,r]),E=P.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let U=new Set,Q=!1;if(e.forEach(K=>{let W=l.routes[K.route.id];!W||!W.hasLoader||(!y.some($=>$.route.id===K.route.id)&&K.route.id in p&&c[K.route.id]?.shouldRevalidate||W.hasClientLoader?Q=!0:U.add(K.route.id))}),U.size===0)return[];let D=A2(s,d,"data");return Q&&U.size>0&&D.searchParams.set("_routes",e.filter(K=>U.has(K.route.id)).map(K=>K.route.id).join(",")),[D.pathname+D.search]},[d,p,r,l,y,e,s,c]),S=P.useMemo(()=>I2(x,l),[x,l]),j=P2(x);return P.createElement(P.Fragment,null,E.map(U=>P.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),S.map(U=>P.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),j.map(({key:U,link:Q})=>P.createElement("link",{key:U,nonce:n.nonce,...Q})))}function U2(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wb&&(window.__reactRouterVersion="7.9.6")}catch{}function z2({basename:s,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=ww({window:n,v5Compat:!0}));let l=r.current,[c,d]=P.useState({action:l.action,location:l.location}),p=P.useCallback(g=>{P.startTransition(()=>d(g))},[d]);return P.useLayoutEffect(()=>l.listen(p),[l,p]),P.createElement(g2,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var Zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ss=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,...S},j){let{basename:U}=P.useContext(si),Q=typeof y=="string"&&Zb.test(y),D,K=!1;if(typeof y=="string"&&Q&&(D=y,Wb))try{let N=new URL(window.location.href),M=y.startsWith("//")?new URL(N.protocol+y):new URL(y),O=us(M.pathname,U);M.origin===N.origin&&O!=null?y=O+M.search+M.hash:K=!0}catch{Un(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Ww(y,{relative:l}),[$,ye,de]=M2(r,S),be=F2(y,{replace:d,state:p,target:g,preventScrollReset:x,relative:l,viewTransition:E});function C(N){e&&e(N),N.defaultPrevented||be(N)}let A=P.createElement("a",{...S,...de,href:D||W,onClick:K||c?e:C,ref:U2(j,ye),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return $&&!Q?P.createElement(P.Fragment,null,A,P.createElement(V2,{page:W})):A});ss.displayName="Link";var q2=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},x){let E=mc(d,{relative:y.relative}),S=mr(),j=P.useContext($h),{navigator:U,basename:Q}=P.useContext(si),D=j!=null&&$2(E)&&p===!0,K=U.encodeLocation?U.encodeLocation(E).pathname:E.pathname,W=S.pathname,$=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(W=W.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&Q&&($=us($,Q)||$);const ye=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let de=W===K||!l&&W.startsWith(K)&&W.charAt(ye)==="/",be=$!=null&&($===K||!l&&$.startsWith(K)&&$.charAt(K.length)==="/"),C={isActive:de,isPending:be,isTransitioning:D},A=de?e:void 0,N;typeof r=="function"?N=r(C):N=[r,de?"active":null,be?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(C):c;return P.createElement(ss,{...y,"aria-current":A,className:N,ref:x,style:M,to:d,viewTransition:p},typeof g=="function"?g(C):g)});q2.displayName="NavLink";var B2=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:d=hh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,...S},j)=>{let U=Q2(),Q=K2(p,{relative:y}),D=d.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&Zb.test(p),W=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let ye=$.nativeEvent.submitter,de=ye?.getAttribute("formmethod")||d;U(ye||$.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:l,state:c,relative:y,preventScrollReset:x,viewTransition:E})};return P.createElement("form",{ref:j,method:D,action:Q,onSubmit:r?g:W,...S,"data-discover":!K&&s==="render"?"true":void 0})});B2.displayName="Form";function H2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(s){let e=P.useContext(xl);return ct(e,H2(s)),e}function F2(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:d}={}){let p=fc(),g=mr(),y=mc(s,{relative:c});return P.useCallback(x=>{if(E2(x,e)){x.preventDefault();let E=n!==void 0?n:tc(g)===tc(y);p(s,{replace:E,state:r,preventScrollReset:l,relative:c,viewTransition:d})}},[g,p,y,n,r,e,s,l,c,d])}var G2=0,Y2=()=>`__${String(++G2)}__`;function Q2(){let{router:s}=ex("useSubmit"),{basename:e}=P.useContext(si),n=h2();return P.useCallback(async(r,l={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=S2(r,e);if(l.navigate===!1){let x=l.fetcherKey||Y2();await s.fetch(x,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function K2(s,{relative:e}={}){let{basename:n}=P.useContext(si),r=P.useContext(ri);ct(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...mc(s||".",{relative:e})},d=mr();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ls([n,c.pathname])),tc(c)}function $2(s,{relative:e}={}){let n=P.useContext(Gb);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ex("useViewTransitionState"),l=mc(s,{relative:e});if(!n.isTransitioning)return!1;let c=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(l.pathname,d)!=null||Th(l.pathname,c)!=null}const X2=()=>{};var a_={};const tx=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},J2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,j=y&63;g||(j=64,d||(S=64)),r.push(n[x],n[E],n[S],n[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(tx(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):J2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const E=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new W2;const S=c<<2|p>>4;if(r.push(S),y!==64){const j=p<<4&240|y>>2;if(r.push(j),E!==64){const U=y<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class W2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z2=function(s){const e=tx(s);return nx.encodeByteArray(e,!0)},wh=function(s){return Z2(s).replace(/\./g,"")},ix=function(s){try{return nx.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tS=()=>eS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof a_>"u")return;const s=a_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ix(s[1]);return e&&JSON.parse(e)},Jh=()=>{try{return X2()||tS()||nS()||iS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sx=s=>Jh()?.emulatorHosts?.[s],sS=s=>{const e=sx(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rx=()=>Jh()?.config,ax=s=>Jh()?.[`_${s}`];class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Tl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lx(s){return(await fetch(s,{credentials:"include"})).ok}function aS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[wh(JSON.stringify(n)),wh(JSON.stringify(d)),""].join(".")}const Ko={};function lS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?s.emulator.push(e):s.prod.push(e);return s}function oS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let l_=!1;function ox(s,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||Ko[s]===e||Ko[s]||l_)return;Ko[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=lS().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{l_=!0,d()},S}function x(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=oS(r),j=n("text"),U=document.getElementById(j)||document.createElement("span"),Q=n("learnmore"),D=document.getElementById(Q)||document.createElement("a"),K=n("preprendIcon"),W=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;p($),x(D,Q);const ye=y();g(W,K),$.append(W,U,D,ye),document.body.appendChild($)}c?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function uS(){const s=Jh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const vS="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vS,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?_S(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ps(l,p,r)}}function _S(s,e){return s.replace(bS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const bS=/\{\$([^}]+)}/g;function xS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Wr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(o_(c)&&o_(d)){if(!Wr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function o_(s){return s!==null&&typeof s=="object"}function gc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Bo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function ES(s,e){const n=new TS(s,e);return n.subscribe.bind(n)}class TS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Sm),l.error===void 0&&(l.error=Sm),l.complete===void 0&&(l.complete=Sm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Sm(){}function tn(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kr="[DEFAULT]";class SS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(s){return s===Kr?void 0:s}function NS(s){return s.instantiationMode==="EAGER"}class CS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const RS={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},IS=ke.INFO,DS={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},jS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=DS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=IS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const OS=(s,e)=>e.some(n=>s instanceof n);let c_,u_;function kS(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MS(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cx=new WeakMap,Hm=new WeakMap,ux=new WeakMap,Am=new WeakMap,Np=new WeakMap;function VS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(ir(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&cx.set(n,s)}).catch(()=>{}),Np.set(e,s),e}function PS(s){if(Hm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Hm.set(s,e)}let Fm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ux.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function LS(s){Fm=s(Fm)}function US(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Nm(this),e,...n);return ux.set(r,e.sort?e.sort():[e]),ir(r)}:MS().includes(s)?function(...e){return s.apply(Nm(this),e),ir(cx.get(this))}:function(...e){return ir(s.apply(Nm(this),e))}}function zS(s){return typeof s=="function"?US(s):(s instanceof IDBTransaction&&PS(s),OS(s,kS())?new Proxy(s,Fm):s)}function ir(s){if(s instanceof IDBRequest)return VS(s);if(Am.has(s))return Am.get(s);const e=zS(s);return e!==s&&(Am.set(s,e),Np.set(e,s)),e}const Nm=s=>Np.get(s);function qS(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=ir(d);return r&&d.addEventListener("upgradeneeded",g=>{r(ir(d.result),g.oldVersion,g.newVersion,ir(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const BS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],Cm=new Map;function h_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=HS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||BS.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Cm.set(e,c),c}LS(s=>({...s,get:(e,n,r)=>h_(e,n)||s.get(e,n,r),has:(e,n)=>!!h_(e,n)||s.has(e,n)}));class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GS(s){return s.getComponent()?.type==="VERSION"}const Gm="@firebase/app",d_="0.14.6";const hs=new Ap("@firebase/app"),YS="@firebase/app-compat",QS="@firebase/analytics-compat",KS="@firebase/analytics",$S="@firebase/app-check-compat",XS="@firebase/app-check",JS="@firebase/auth",WS="@firebase/auth-compat",ZS="@firebase/database",eA="@firebase/data-connect",tA="@firebase/database-compat",nA="@firebase/functions",iA="@firebase/functions-compat",sA="@firebase/installations",rA="@firebase/installations-compat",aA="@firebase/messaging",lA="@firebase/messaging-compat",oA="@firebase/performance",cA="@firebase/performance-compat",uA="@firebase/remote-config",hA="@firebase/remote-config-compat",dA="@firebase/storage",fA="@firebase/storage-compat",mA="@firebase/firestore",pA="@firebase/ai",gA="@firebase/firestore-compat",yA="firebase",vA="12.6.0";const Ym="[DEFAULT]",_A={[Gm]:"fire-core",[YS]:"fire-core-compat",[KS]:"fire-analytics",[QS]:"fire-analytics-compat",[XS]:"fire-app-check",[$S]:"fire-app-check-compat",[JS]:"fire-auth",[WS]:"fire-auth-compat",[ZS]:"fire-rtdb",[eA]:"fire-data-connect",[tA]:"fire-rtdb-compat",[nA]:"fire-fn",[iA]:"fire-fn-compat",[sA]:"fire-iid",[rA]:"fire-iid-compat",[aA]:"fire-fcm",[lA]:"fire-fcm-compat",[oA]:"fire-perf",[cA]:"fire-perf-compat",[uA]:"fire-rc",[hA]:"fire-rc-compat",[dA]:"fire-gcs",[fA]:"fire-gcs-compat",[mA]:"fire-fst",[gA]:"fire-fst-compat",[pA]:"fire-vertex","fire-js":"fire-js",[yA]:"fire-js-all"};const Sh=new Map,bA=new Map,Qm=new Map;function f_(s,e){try{s.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function fl(s){const e=s.name;if(Qm.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,s);for(const n of Sh.values())f_(n,s);for(const n of bA.values())f_(n,s);return!0}function Cp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Vn(s){return s==null?!1:s.settings!==void 0}const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new pc("app","Firebase",xA);class EA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const wl=vA;function hx(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Ym,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(n||(n=rx()),!n)throw sr.create("no-options");const c=Sh.get(l);if(c){if(Wr(n,c.options)&&Wr(r,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new CS(l);for(const g of Qm.values())d.addComponent(g);const p=new EA(n,r,d);return Sh.set(l,p),p}function dx(s=Ym){const e=Sh.get(s);if(!e&&s===Ym&&rx())return hx();if(!e)throw sr.create("no-app",{appName:s});return e}function rr(s,e,n){let r=_A[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}fl(new Zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const TA="firebase-heartbeat-database",wA=1,nc="firebase-heartbeat-store";let Rm=null;function fx(){return Rm||(Rm=qS(TA,wA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),Rm}async function SA(s){try{const n=(await fx()).transaction(nc),r=await n.objectStore(nc).get(mx(s));return await n.done,r}catch(e){if(e instanceof ps)hs.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e?.message});hs.warn(n.message)}}}async function m_(s,e){try{const r=(await fx()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,mx(s)),await r.done}catch(n){if(n instanceof ps)hs.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function mx(s){return`${s.name}!${s.options.appId}`}const AA=1024,NA=30;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=p_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>NA){const l=DA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p_(),{heartbeatsToSend:n,unsentEntries:r}=RA(this._heartbeatsCache.heartbeats),l=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return hs.warn(e),""}}}function p_(){return new Date().toISOString().substring(0,10)}function RA(s,e=AA){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),g_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),g_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function g_(s){return wh(JSON.stringify({version:2,heartbeats:s})).length}function DA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function jA(s){fl(new Zr("platform-logger",e=>new FS(e),"PRIVATE")),fl(new Zr("heartbeat",e=>new CA(e),"PRIVATE")),rr(Gm,d_,s),rr(Gm,d_,"esm2020"),rr("fire-js","")}jA("");var OA="firebase",kA="12.6.0";rr(OA,kA,"app");function px(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MA=px,gx=new pc("auth","Firebase",px());const Ah=new Ap("@firebase/auth");function VA(s,...e){Ah.logLevel<=ke.WARN&&Ah.warn(`Auth (${wl}): ${s}`,...e)}function fh(s,...e){Ah.logLevel<=ke.ERROR&&Ah.error(`Auth (${wl}): ${s}`,...e)}function ni(s,...e){throw Rp(s,...e)}function Ri(s,...e){return Rp(s,...e)}function yx(s,e,n){const r={...MA(),[e]:n};return new pc("auth","Firebase",r).create(e,{appName:s.name})}function os(s){return yx(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return gx.create(s,...e)}function ve(s,e,...n){if(!s)throw Rp(e,...n)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw fh(e),new Error(e)}function ds(s,e){s||rs(e)}function Km(){return typeof self<"u"&&self.location?.href||""}function PA(){return y_()==="http:"||y_()==="https:"}function y_(){return typeof self<"u"&&self.location?.protocol||null}function LA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PA()||dS()||"connection"in navigator)?navigator.onLine:!0}function UA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=cS()||fS()}get(){return LA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ip(s,e){ds(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class vx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BA=new yc(3e4,6e4);function pr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function gr(s,e,n,r,l={}){return _x(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=gc({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return hS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(y.credentials="include"),vx.fetch()(await bx(s,s.config.apiHost,n,p),y)})}async function _x(s,e,n){s._canInitEmulator=!1;const r={...zA,...e};try{const l=new FA(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw sh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw sh(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw sh(s,"user-disabled",d);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yx(s,x,y);ni(s,x)}}catch(l){if(l instanceof ps)throw l;ni(s,"network-request-failed",{message:String(l)})}}async function vc(s,e,n,r,l={}){const c=await gr(s,e,n,r,l);return"mfaPendingCredential"in c&&ni(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function bx(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Ip(s.config,l):`${s.config.apiScheme}://${l}`;return qA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function HA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),BA.get())})}}function sh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ri(s,e,r);return l.customData._tokenResponse=n,l}function v_(s){return s!==void 0&&s.enterprise!==void 0}class GA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YA(s,e){return gr(s,"GET","/v2/recaptchaConfig",pr(s,e))}async function QA(s,e){return gr(s,"POST","/v1/accounts:delete",e)}async function Nh(s,e){return gr(s,"POST","/v1/accounts:lookup",e)}function $o(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KA(s,e=!1){const n=tn(s),r=await n.getIdToken(e),l=Dp(r);ve(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:$o(Im(l.auth_time)),issuedAtTime:$o(Im(l.iat)),expirationTime:$o(Im(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Im(s){return Number(s)*1e3}function Dp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const l=ix(n);return l?JSON.parse(l):(fh("Failed to decode base64 JWT payload"),null)}catch(l){return fh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function __(s){const e=Dp(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ic(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&$A(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function $A({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class XA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(s){const e=s.auth,n=await s.getIdToken(),r=await ic(s,Nh(e,{idToken:n}));ve(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?xx(l.providerUserInfo):[],d=WA(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new $m(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,x)}async function JA(s){const e=tn(s);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function xx(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ZA(s,e){const n=await _x(s,{},async()=>{const r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await bx(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(g.credentials="include"),vx.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eN(s,e){return gr(s,"POST","/v2/accounts:revokeToken",pr(s,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=__(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await ZA(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new ol;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Js(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new XA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KA(this,e)}reload(){return JA(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await ic(this,QA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:j,providerData:U,stsTokenManager:Q}=n;ve(E&&Q,e,"internal-error");const D=ol.fromJSON(this.name,Q);ve(typeof E=="string",e,"internal-error"),Js(r,e.name),Js(l,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof j=="boolean",e,"internal-error"),Js(c,e.name),Js(d,e.name),Js(p,e.name),Js(g,e.name),Js(y,e.name),Js(x,e.name);const K=new Zn({uid:E,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:D,createdAt:y,lastLoginAt:x});return U&&Array.isArray(U)&&(K.providerData=U.map(W=>({...W}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,n,r=!1){const l=new ol;l.updateFromServerResponse(n);const c=new Zn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Ch(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?xx(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ol;p.updateFromIdToken(r);const g=new Zn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new $m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const b_=new Map;function as(s){ds(s instanceof Function,"Expected a class definition");let e=b_.get(s);return e?(ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,b_.set(s,e),e)}class Ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ex.type="NONE";const x_=Ex;function mh(s,e,n){return`firebase:${s}:${e}:${n}`}class cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=mh(this.userKey,l.apiKey,c),this.fullPersistenceKey=mh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cl(as(x_),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||as(x_);const d=mh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(d);if(x){let E;if(typeof x=="string"){const S=await Nh(e,{idToken:x}).catch(()=>{});if(!S)break;E=await Zn._fromGetAccountInfoResponse(e,S,x)}else E=Zn._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new cl(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new cl(c,e,r))}}function E_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cx(e))return"Blackberry";if(Rx(e))return"Webos";if(wx(e))return"Safari";if((e.includes("chrome/")||Sx(e))&&!e.includes("edge/"))return"Chrome";if(Nx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function Tx(s=en()){return/firefox\//i.test(s)}function wx(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sx(s=en()){return/crios\//i.test(s)}function Ax(s=en()){return/iemobile/i.test(s)}function Nx(s=en()){return/android/i.test(s)}function Cx(s=en()){return/blackberry/i.test(s)}function Rx(s=en()){return/webos/i.test(s)}function jp(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function tN(s=en()){return jp(s)&&!!window.navigator?.standalone}function nN(){return mS()&&document.documentMode===10}function Ix(s=en()){return jp(s)||Nx(s)||Rx(s)||Cx(s)||/windows phone/i.test(s)||Ax(s)}function Dx(s,e=[]){let n;switch(s){case"Browser":n=E_(en());break;case"Worker":n=`${E_(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}class iN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function sN(s,e={}){return gr(s,"GET","/v2/passwordPolicy",pr(s,e))}const rN=6;class aN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class lN{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new iN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(os(this));const n=e?tn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sN(this),n=new aN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ra(s){return tn(s)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ES(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(s){Wh=s}function jx(s){return Wh.loadJS(s)}function cN(){return Wh.recaptchaEnterpriseScript}function uN(){return Wh.gapiScript}function hN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class dN{constructor(){this.enterprise=new fN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mN="recaptcha-enterprise",Ox="NO_RECAPTCHA";class pN{constructor(e){this.type=mN,this.auth=ra(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{YA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new GA(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;v_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Ox)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dN().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&v_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=cN();g.length!==0&&(g+=p),jx(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function w_(s,e,n,r=!1,l=!1){const c=new pN(s);let d;if(l)d=Ox;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xm(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await w_(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await w_(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function gN(s,e){const n=Cp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Wr(c,e??{}))return l;ni(l,"already-initialized")}return n.initialize({options:e})}function yN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(as);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function vN(s,e,n){const r=ra(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=kx(e),{host:d,port:p}=_N(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},x=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Wr(y,r.config.emulator)&&Wr(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Tl(d)?(lx(`${c}//${d}${g}`),ox("Auth",!0)):bN()}function kx(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function _N(s){const e=kx(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:S_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:S_(d)}}}function S_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function bN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function xN(s,e){return gr(s,"POST","/v1/accounts:signUp",e)}async function EN(s,e){return vc(s,"POST","/v1/accounts:signInWithPassword",pr(s,e))}async function TN(s,e){return vc(s,"POST","/v1/accounts:signInWithEmailLink",pr(s,e))}async function wN(s,e){return vc(s,"POST","/v1/accounts:signInWithEmailLink",pr(s,e))}class sc extends Op{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",EN);case"emailLink":return TN(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,r,"signUpPassword",xN);case"emailLink":return wN(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ul(s,e){return vc(s,"POST","/v1/accounts:signInWithIdp",pr(s,e))}const SN="http://localhost";class ea extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new ea(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}function AN(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NN(s){const e=qo(Bo(s)).link,n=e?qo(Bo(e)).deep_link_id:null,r=qo(Bo(s)).deep_link_id;return(r?qo(Bo(r)).link:null)||r||n||e||s}class kp{constructor(e){const n=qo(Bo(e)),r=n.apiKey??null,l=n.oobCode??null,c=AN(n.mode??null);ve(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NN(e);try{return new kp(n)}catch{return null}}}class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kp.parseLink(n);return ve(r,"argument-error"),sc._fromEmailAndCode(e,r.code,r.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Mx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _c extends Mx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ws extends _c{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class Zs extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";class er extends _c{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class tr extends _c{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function CN(s,e){return vc(s,"POST","/v1/accounts:signUp",pr(s,e))}class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await Zn._fromIdTokenResponse(e,r,l),d=A_(r);return new ta({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=A_(r);return new ta({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function A_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Rh extends ps{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Rh(e,n,r,l)}}function Vx(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(s,c,e,r):c})}async function RN(s,e,n=!1){const r=await ic(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ta._forOperation(s,"link",r)}async function IN(s,e,n=!1){const{auth:r}=s;if(Vn(r.app))return Promise.reject(os(r));const l="reauthenticate";try{const c=await ic(s,Vx(r,l,e,s),n);ve(c.idToken,r,"internal-error");const d=Dp(c.idToken);ve(d,r,"internal-error");const{sub:p}=d;return ve(s.uid===p,r,"user-mismatch"),ta._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),c}}async function Px(s,e,n=!1){if(Vn(s.app))return Promise.reject(os(s));const r="signIn",l=await Vx(s,r,e),c=await ta._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function DN(s,e){return Px(ra(s),e)}async function Lx(s){const e=ra(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jN(s,e,n){if(Vn(s.app))return Promise.reject(os(s));const r=ra(s),d=await Xm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Lx(s),g}),p=await ta._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function ON(s,e,n){return Vn(s.app)?Promise.reject(os(s)):DN(tn(s),Sl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Lx(s),r})}function kN(s,e,n,r){return tn(s).onIdTokenChanged(e,n,r)}function MN(s,e,n){return tn(s).beforeAuthStateChanged(e,n)}function VN(s,e,n,r){return tn(s).onAuthStateChanged(e,n,r)}function PN(s){return tn(s).signOut()}const Ih="__sak";class Ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LN=1e3,UN=10;class zx extends Ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ix(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);nN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UN):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zx.type="LOCAL";const zN=zx;class qx extends Ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qx.type="SESSION";const Bx=qx;function qN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await qN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];function Mp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class BN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Mp("",20);l.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function HN(s){Ii().location.href=s}function Hx(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function FN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GN(){return navigator?.serviceWorker?.controller||null}function YN(){return Hx()?self:null}const Fx="firebaseLocalStorageDb",QN=1,Dh="firebaseLocalStorage",Gx="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(s,e){return s.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function KN(){const s=indexedDB.deleteDatabase(Fx);return new bc(s).toPromise()}function Jm(){const s=indexedDB.open(Fx,QN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Dh,{keyPath:Gx})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await KN(),e(await Jm()))})})}async function N_(s,e,n){const r=ed(s,!0).put({[Gx]:e,value:n});return new bc(r).toPromise()}async function $N(s,e){const n=ed(s,!1).get(e),r=await new bc(n).toPromise();return r===void 0?null:r.value}function C_(s,e){const n=ed(s,!0).delete(e);return new bc(n).toPromise()}const XN=800,JN=3;class Yx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(YN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FN(),!this.activeServiceWorker)return;this.sender=new BN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await N_(e,Ih,"1"),await C_(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$N(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ed(l,!1).getAll();return new bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yx.type="LOCAL";const WN=Yx;new yc(3e4,6e4);function ZN(s,e){return e?as(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eC(s){return Px(s.auth,new Vp(s),s.bypassAuthState)}function tC(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),IN(n,new Vp(s),s.bypassAuthState)}async function nC(s){const{auth:e,user:n}=s;return ve(n,e,"internal-error"),RN(n,new Vp(s),s.bypassAuthState)}class Qx{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return tC;default:ni(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iC=new yc(2e3,1e4);class ll extends Qx{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iC.get())};e()}}ll.currentPopupAction=null;const sC="pendingRedirect",ph=new Map;class rC extends Qx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await aC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aC(s,e){const n=cC(e),r=oC(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function lC(s,e){ph.set(s._key(),e)}function oC(s){return as(s._redirectPersistence)}function cC(s){return mh(sC,s.config.apiKey,s.name)}async function uC(s,e,n=!1){if(Vn(s.app))return Promise.reject(os(s));const r=ra(s),l=ZN(r,e),d=await new rC(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const hC=600*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Kx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hC&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Kx({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function fC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kx(s);default:return!1}}async function mC(s,e={}){return gr(s,"GET","/v1/projects",e)}const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function yC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await mC(s);for(const n of e)try{if(vC(n))return}catch{}ni(s,"unauthorized-domain")}function vC(s){const e=Km(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!gC.test(n))return!1;if(pC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const _C=new yc(3e4,6e4);function I_(){const s=Ii().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function bC(s){return new Promise((e,n)=>{function r(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(Ri(s,"network-request-failed"))},timeout:_C.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)r();else{const l=hN("iframefcb");return Ii()[l]=()=>{gapi.load?r():n(Ri(s,"network-request-failed"))},jx(`${uN()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw gh=null,e})}let gh=null;function xC(s){return gh=gh||bC(s),gh}const EC=new yc(5e3,15e3),TC="__/auth/iframe",wC="emulator/auth/iframe",SC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Ip(e,wC):`https://${s.config.authDomain}/${TC}`,r={apiKey:e.apiKey,appName:s.name,v:wl},l=AC.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${gc(r).slice(1)}`}async function CC(s){const e=await xC(s),n=Ii().gapi;return ve(n,s,"internal-error"),e.open({where:document.body,url:NC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},EC.get());function g(){Ii().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const RC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IC=500,DC=600,jC="_blank",OC="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kC(s,e,n,r=IC,l=DC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...RC,width:r.toString(),height:l.toString(),top:c,left:d},y=en().toLowerCase();n&&(p=Sx(y)?jC:n),Tx(y)&&(e=e||OC,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[j,U])=>`${S}${j}=${U},`,"");if(tN(y)&&p!=="_self")return MC(e||"",p),new D_(null);const E=window.open(e||"",p,x);ve(E,s,"popup-blocked");try{E.focus()}catch{}return new D_(E)}function MC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const VC="__/auth/handler",PC="emulator/auth/handler",LC=encodeURIComponent("fac");async function j_(s,e,n,r,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:wl,eventId:l};if(e instanceof Mx){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",xS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))d[x]=E}if(e instanceof _c){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await s._getAppCheckToken(),y=g?`#${LC}=${encodeURIComponent(g)}`:"";return`${UC(s)}?${gc(p).slice(1)}${y}`}function UC({config:s}){return s.emulator?Ip(s,PC):`https://${s.authDomain}/${VC}`}const Dm="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bx,this._completeRedirectFn=uC,this._overrideRedirectResult=lC}async _openPopup(e,n,r,l){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await j_(e,n,r,Km(),l);return kC(e,c,Mp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await j_(e,n,r,Km(),l);return HN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CC(e),r=new dC(e);return n.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},l=>{const c=l?.[0]?.[Dm];c!==void 0&&n(!!c),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ix()||wx()||jp()}}const qC=zC;var O_="@firebase/auth",k_="1.11.1";class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(s){fl(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dx(s)},y=new lN(r,l,c,g);return yN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fl(new Zr("auth-internal",e=>{const n=ra(e.getProvider("auth").getImmediate());return(r=>new BC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(O_,k_,HC(s)),rr(O_,k_,"esm2020")}const GC=300,YC=ax("authIdTokenMaxAge")||GC;let M_=null;const QC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YC)return;const l=n?.token;M_!==l&&(M_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function KC(s=dx()){const e=Cp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=gN(s,{popupRedirectResolver:qC,persistence:[WN,zN,Bx]}),r=ax("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=QC(c.toString());MN(n,d,()=>d(n.currentUser)),kN(n,p=>d(p))}}const l=sx("auth");return l&&vN(n,`http://${l}`),n}function $C(){return document.getElementsByTagName("head")?.[0]??document}oN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Ri("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",$C().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,$x;(function(){var s;function e(C,A){function N(){}N.prototype=A.prototype,C.F=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,O,z){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return A.prototype[O].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,N){N||(N=0);const M=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)M[O]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(O=0;O<16;++O)M[O]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],O=C.g[2];let z=C.g[3],R;R=A+(z^N&(O^z))+M[0]+3614090360&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(O^A&(N^O))+M[1]+3905402710&4294967295,z=A+(R<<12&4294967295|R>>>20),R=O+(N^z&(A^N))+M[2]+606105819&4294967295,O=z+(R<<17&4294967295|R>>>15),R=N+(A^O&(z^A))+M[3]+3250441966&4294967295,N=O+(R<<22&4294967295|R>>>10),R=A+(z^N&(O^z))+M[4]+4118548399&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(O^A&(N^O))+M[5]+1200080426&4294967295,z=A+(R<<12&4294967295|R>>>20),R=O+(N^z&(A^N))+M[6]+2821735955&4294967295,O=z+(R<<17&4294967295|R>>>15),R=N+(A^O&(z^A))+M[7]+4249261313&4294967295,N=O+(R<<22&4294967295|R>>>10),R=A+(z^N&(O^z))+M[8]+1770035416&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(O^A&(N^O))+M[9]+2336552879&4294967295,z=A+(R<<12&4294967295|R>>>20),R=O+(N^z&(A^N))+M[10]+4294925233&4294967295,O=z+(R<<17&4294967295|R>>>15),R=N+(A^O&(z^A))+M[11]+2304563134&4294967295,N=O+(R<<22&4294967295|R>>>10),R=A+(z^N&(O^z))+M[12]+1804603682&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(O^A&(N^O))+M[13]+4254626195&4294967295,z=A+(R<<12&4294967295|R>>>20),R=O+(N^z&(A^N))+M[14]+2792965006&4294967295,O=z+(R<<17&4294967295|R>>>15),R=N+(A^O&(z^A))+M[15]+1236535329&4294967295,N=O+(R<<22&4294967295|R>>>10),R=A+(O^z&(N^O))+M[1]+4129170786&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^O&(A^N))+M[6]+3225465664&4294967295,z=A+(R<<9&4294967295|R>>>23),R=O+(A^N&(z^A))+M[11]+643717713&4294967295,O=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(O^z))+M[0]+3921069994&4294967295,N=O+(R<<20&4294967295|R>>>12),R=A+(O^z&(N^O))+M[5]+3593408605&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^O&(A^N))+M[10]+38016083&4294967295,z=A+(R<<9&4294967295|R>>>23),R=O+(A^N&(z^A))+M[15]+3634488961&4294967295,O=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(O^z))+M[4]+3889429448&4294967295,N=O+(R<<20&4294967295|R>>>12),R=A+(O^z&(N^O))+M[9]+568446438&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^O&(A^N))+M[14]+3275163606&4294967295,z=A+(R<<9&4294967295|R>>>23),R=O+(A^N&(z^A))+M[3]+4107603335&4294967295,O=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(O^z))+M[8]+1163531501&4294967295,N=O+(R<<20&4294967295|R>>>12),R=A+(O^z&(N^O))+M[13]+2850285829&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^O&(A^N))+M[2]+4243563512&4294967295,z=A+(R<<9&4294967295|R>>>23),R=O+(A^N&(z^A))+M[7]+1735328473&4294967295,O=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(O^z))+M[12]+2368359562&4294967295,N=O+(R<<20&4294967295|R>>>12),R=A+(N^O^z)+M[5]+4294588738&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^O)+M[8]+2272392833&4294967295,z=A+(R<<11&4294967295|R>>>21),R=O+(z^A^N)+M[11]+1839030562&4294967295,O=z+(R<<16&4294967295|R>>>16),R=N+(O^z^A)+M[14]+4259657740&4294967295,N=O+(R<<23&4294967295|R>>>9),R=A+(N^O^z)+M[1]+2763975236&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^O)+M[4]+1272893353&4294967295,z=A+(R<<11&4294967295|R>>>21),R=O+(z^A^N)+M[7]+4139469664&4294967295,O=z+(R<<16&4294967295|R>>>16),R=N+(O^z^A)+M[10]+3200236656&4294967295,N=O+(R<<23&4294967295|R>>>9),R=A+(N^O^z)+M[13]+681279174&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^O)+M[0]+3936430074&4294967295,z=A+(R<<11&4294967295|R>>>21),R=O+(z^A^N)+M[3]+3572445317&4294967295,O=z+(R<<16&4294967295|R>>>16),R=N+(O^z^A)+M[6]+76029189&4294967295,N=O+(R<<23&4294967295|R>>>9),R=A+(N^O^z)+M[9]+3654602809&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^O)+M[12]+3873151461&4294967295,z=A+(R<<11&4294967295|R>>>21),R=O+(z^A^N)+M[15]+530742520&4294967295,O=z+(R<<16&4294967295|R>>>16),R=N+(O^z^A)+M[2]+3299628645&4294967295,N=O+(R<<23&4294967295|R>>>9),R=A+(O^(N|~z))+M[0]+4096336452&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~O))+M[7]+1126891415&4294967295,z=A+(R<<10&4294967295|R>>>22),R=O+(A^(z|~N))+M[14]+2878612391&4294967295,O=z+(R<<15&4294967295|R>>>17),R=N+(z^(O|~A))+M[5]+4237533241&4294967295,N=O+(R<<21&4294967295|R>>>11),R=A+(O^(N|~z))+M[12]+1700485571&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~O))+M[3]+2399980690&4294967295,z=A+(R<<10&4294967295|R>>>22),R=O+(A^(z|~N))+M[10]+4293915773&4294967295,O=z+(R<<15&4294967295|R>>>17),R=N+(z^(O|~A))+M[1]+2240044497&4294967295,N=O+(R<<21&4294967295|R>>>11),R=A+(O^(N|~z))+M[8]+1873313359&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~O))+M[15]+4264355552&4294967295,z=A+(R<<10&4294967295|R>>>22),R=O+(A^(z|~N))+M[6]+2734768916&4294967295,O=z+(R<<15&4294967295|R>>>17),R=N+(z^(O|~A))+M[13]+1309151649&4294967295,N=O+(R<<21&4294967295|R>>>11),R=A+(O^(N|~z))+M[4]+4149444226&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~O))+M[11]+3174756917&4294967295,z=A+(R<<10&4294967295|R>>>22),R=O+(A^(z|~N))+M[2]+718787259&4294967295,O=z+(R<<15&4294967295|R>>>17),R=N+(z^(O|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const N=A-this.blockSize,M=this.C;let O=this.h,z=0;for(;z<A;){if(O==0)for(;z<=N;)l(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(M[O++]=C.charCodeAt(z++),O==this.blockSize){l(this,M),O=0;break}}else for(;z<A;)if(M[O++]=C[z++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[A++]=this.g[N]>>>M&255;return C};function c(C,A){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function d(C,A){this.h=A;const N=[];let M=!0;for(let O=C.length-1;O>=0;O--){const z=C[O]|0;M&&z==A||(N[O]=z,M=!1)}this.g=N}var p={};function g(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return D(y(-C));const A=[];let N=1;for(let M=0;C>=N;M++)A[M]=C/N|0,N*=4294967296;return new d(A,0)}function x(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return D(x(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(A,8));let M=E;for(let z=0;z<C.length;z+=8){var O=Math.min(8,C.length-z);const R=parseInt(C.substring(z,z+O),A);O<8?(O=y(Math.pow(A,O)),M=M.j(O).add(y(R))):(M=M.j(N),M=M.add(y(R)))}return M}var E=g(0),S=g(1),j=g(16777216);s=d.prototype,s.m=function(){if(Q(this))return-D(this).m();let C=0,A=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(Q(this))return"-"+D(this).toString(C);const A=y(Math.pow(C,6));var N=this;let M="";for(;;){const O=ye(N,A).g;N=K(N,O.j(A));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=O,U(N))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function Q(C){return C.h==-1}s.l=function(C){return C=K(this,C),Q(C)?-1:U(C)?0:1};function D(C){const A=C.g.length,N=[];for(let M=0;M<A;M++)N[M]=~C.g[M];return new d(N,~C.h).add(S)}s.abs=function(){return Q(this)?D(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let O=0;O<=A;O++){let z=M+(this.i(O)&65535)+(C.i(O)&65535),R=(z>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=R>>>16,z&=65535,R&=65535,N[O]=R<<16|z}return new d(N,N[N.length-1]&-2147483648?-1:0)};function K(C,A){return C.add(D(A))}s.j=function(C){if(U(this)||U(C))return E;if(Q(this))return Q(C)?D(this).j(D(C)):D(D(this).j(C));if(Q(C))return D(this.j(D(C)));if(this.l(j)<0&&C.l(j)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,N=[];for(var M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const z=this.i(M)>>>16,R=this.i(M)&65535,rt=C.i(O)>>>16,Dt=C.i(O)&65535;N[2*M+2*O]+=R*Dt,W(N,2*M+2*O),N[2*M+2*O+1]+=z*Dt,W(N,2*M+2*O+1),N[2*M+2*O+1]+=R*rt,W(N,2*M+2*O+1),N[2*M+2*O+2]+=z*rt,W(N,2*M+2*O+2)}for(C=0;C<A;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=A;C<2*A;C++)N[C]=0;return new d(N,0)};function W(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function $(C,A){this.g=C,this.h=A}function ye(C,A){if(U(A))throw Error("division by zero");if(U(C))return new $(E,E);if(Q(C))return A=ye(D(C),A),new $(D(A.g),D(A.h));if(Q(A))return A=ye(C,D(A)),new $(D(A.g),A.h);if(C.g.length>30){if(Q(C)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var N=S,M=A;M.l(C)<=0;)N=de(N),M=de(M);var O=be(N,1),z=be(M,1);for(M=be(M,2),N=be(N,2);!U(M);){var R=z.add(M);R.l(C)<=0&&(O=O.add(N),z=R),M=be(M,1),N=be(N,1)}return A=K(C,O.j(A)),new $(O,A)}for(O=E;C.l(A)>=0;){for(N=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=y(N),R=z.j(A);Q(R)||R.l(C)>0;)N-=M,z=y(N),R=z.j(A);U(z)&&(z=S),O=O.add(z),C=K(C,R)}return new $(O,C)}s.B=function(C){return ye(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)&C.i(M);return new d(N,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)|C.i(M);return new d(N,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)^C.i(M);return new d(N,this.h^C.h)};function de(C){const A=C.g.length+1,N=[];for(let M=0;M<A;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(N,C.h)}function be(C,A){const N=A>>5;A%=32;const M=C.g.length-N,O=[];for(let z=0;z<M;z++)O[z]=A>0?C.i(z+N)>>>A|C.i(z+N+1)<<32-A:C.i(z+N);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$x=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,ar=d}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xx,Ho,Jx,yh,Wm,Wx,Zx,eE;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function l(u,v){if(v)e:{var b=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var q=u[w];if(!(q in b))break e;b=b[q]}u=u[u.length-1],w=b[u],v=v(w),v!=w&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var c=c||{},d=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function y(u,v,b){return y=g,y.apply(null,arguments)}function x(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function E(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,q,G){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return v.prototype[q].apply(w,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const v=u.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=u[w];return b}return[]}function U(u,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=u.length||0;const G=q.length||0;u.length=b+G;for(let se=0;se<G;se++)u[b+se]=q[se]}else u.push(q)}}class Q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(u){d.setTimeout(()=>{throw u},0)}function K(){var u=C;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,b){const w=$.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var $=new Q(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,be=!1,C=new W,A=()=>{const u=Promise.resolve(void 0);de=()=>{u.then(N)}};function N(){for(var u;u=K();){try{u.h.call(u.g)}catch(b){D(b)}var v=$;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}be=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function rt(u,v){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(rt,O),rt.prototype.init=function(u,v){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),J=0;function re(u,v,b,w,q){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=q,this.key=++J,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,v,b){for(const w in u)v.call(b,u[w],w,u)}function Ye(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function V(u){const v={};for(const b in u)v[b]=u[b];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,v){let b,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(b in w)u[b]=w[b];for(let G=0;G<te.length;G++)b=te[G],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,v,b,w,q){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const se=Ne(u,v,w,q);return se>-1?(v=u[se],b||(v.fa=!1)):(v=new re(v,this.src,G,!!w,q),v.fa=b,u.push(v)),v};function xe(u,v){const b=v.type;if(b in u.g){var w=u.g[b],q=Array.prototype.indexOf.call(w,v,void 0),G;(G=q>=0)&&Array.prototype.splice.call(w,q,1),G&&(pe(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ne(u,v,b,w){for(let q=0;q<u.length;++q){const G=u[q];if(!G.da&&G.listener==v&&G.capture==!!b&&G.ha==w)return q}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),jt={};function at(u,v,b,w,q){if(Array.isArray(v)){for(let G=0;G<v.length;G++)at(u,v[G],b,w,q);return null}return b=Ml(b),u&&u[Dt]?u.J(v,b,p(w)?!!w.capture:!1,q):yr(u,v,b,!1,w,q)}function yr(u,v,b,w,q,G){if(!v)throw Error("Invalid event type");const se=p(q)?!!q.capture:!!q;let Se=vr(u);if(Se||(u[Le]=Se=new ce(u)),b=Se.add(v,b,w,se,G),b.proxy)return b;if(w=fa(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)z||(q=se),q===void 0&&(q=!1),u.addEventListener(v.toString(),w,q);else if(u.attachEvent)u.attachEvent(ai(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function fa(){function u(b){return v.call(u.src,u.listener,b)}const v=Ol;return u}function ma(u,v,b,w,q){if(Array.isArray(v))for(var G=0;G<v.length;G++)ma(u,v[G],b,w,q);else w=p(w)?!!w.capture:!!w,b=Ml(b),u&&u[Dt]?(u=u.i,G=String(v).toString(),G in u.g&&(v=u.g[G],b=Ne(v,b,w,q),b>-1&&(pe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[G],u.h--)))):u&&(u=vr(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ne(v,b,w,q)),(b=u>-1?v[u]:null)&&pa(b))}function pa(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Dt])xe(v.i,u);else{var b=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(b,w,u.capture):v.detachEvent?v.detachEvent(ai(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=vr(v))?(xe(b,u),b.h==0&&(b.src=null,v[Le]=null)):pe(u)}}}function ai(u){return u in jt?jt[u]:jt[u]="on"+u}function Ol(u,v){if(u.da)u=!0;else{v=new rt(v,this);const b=u.listener,w=u.ha||u.src;u.fa&&pa(u),u=b.call(w,v)}return u}function vr(u){return u=u[Le],u instanceof ce?u:null}var kl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ml(u){return typeof u=="function"?u:(u[kl]||(u[kl]=function(v){return u.handleEvent(v)}),u[kl])}function _t(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}E(_t,M),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(u,v,b,w){ma(this,u,v,b,w)};function Ot(u,v){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new O(v,u);else if(v instanceof O)v.target=v.target||u;else{var q=v;v=new O(w,u),ae(v,q)}q=!0;let G,se;if(b)for(se=b.length-1;se>=0;se--)G=v.g=b[se],q=vs(G,w,!0,v)&&q;if(G=v.g=u,q=vs(G,w,!0,v)&&q,q=vs(G,w,!1,v)&&q,b)for(se=0;se<b.length;se++)G=v.g=b[se],q=vs(G,w,!1,v)&&q}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let w=0;w<b.length;w++)pe(b[w]);delete u.g[v],u.h--}}this.G=null},_t.prototype.J=function(u,v,b,w){return this.i.add(String(u),v,!1,b,w)},_t.prototype.K=function(u,v,b,w){return this.i.add(String(u),v,!0,b,w)};function vs(u,v,b,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let G=0;G<v.length;++G){const se=v[G];if(se&&!se.da&&se.capture==b){const Se=se.listener,mt=se.ha||se.src;se.fa&&xe(u.i,se),q=Se.call(mt,w)!==!1&&q}}return q&&!w.defaultPrevented}function vd(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(u,v||0)}function Cc(u){u.g=vd(()=>{u.g=null,u.i&&(u.i=!1,Cc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class nn extends M{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){M.call(this),this.h=u,this.g={}}E(_r,M);var Vl=[];function Pl(u){ze(u.g,function(v,b){this.g.hasOwnProperty(b)&&pa(v)},u),u.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Pl(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,_d=d.JSON.parse,Rc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ic(){}function Dc(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}E(zt,O);function Tn(){O.call(this,"c")}E(Tn,O);var ft={},jc=null;function ga(){return jc=jc||new _t}ft.Ia="serverreachability";function Oc(u){O.call(this,ft.Ia,u)}E(Oc,O);function li(u){const v=ga();Ot(v,new Oc(v))}ft.STAT_EVENT="statevent";function br(u,v){O.call(this,ft.STAT_EVENT,u),this.stat=v}E(br,O);function bt(u){const v=ga();Ot(v,new br(v,u))}ft.Ja="timingevent";function oi(u,v){O.call(this,ft.Ja,u),this.size=v}E(oi,O);function ci(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function bd(u,v,b,w,q,G){u.info(function(){if(u.g)if(G){var se="",Se=G.split("&");for(let He=0;He<Se.length;He++){var mt=Se[He].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Nn=lt.split("_");se=Nn.length>=2&&Nn[1]=="type"?se+(lt+"="+mt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+v+`
`+b+`
`+se})}function kc(u,v,b,w,q,G,se){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+v+`
`+b+`
`+G+" "+se})}function ui(u,v,b,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+xd(u,b)+(w?" "+w:"")})}function xr(u,v){u.info(function(){return"TIMEOUT: "+v})}Bn.prototype.info=function(){};function xd(u,v){if(!u.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var b=G[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return _s(G)}catch{return v}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function Tr(){}E(Tr,Ic),Tr.prototype.g=function(){return new XMLHttpRequest},Ul=new Tr;function Ui(u){return encodeURIComponent(String(u))}function Mc(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function Hn(u,v,b,w){this.j=u,this.i=v,this.l=b,this.S=w||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var xt={},Vt={};function hi(u,v,b){u.M=1,u.A=wr(Tt(v)),u.u=b,u.R=!0,ya(u,null)}function ya(u,v){u.F=Date.now(),di(u),u.B=Tt(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),xa(b.i,"t",w),u.C=0,b=u.j.L,u.h=new Fn,u.g=Xc(u.j,b?v:null,!u.u),u.P>0&&(u.O=new nn(y(u.Y,u,u.g),u.P)),v=u.V,b=u.g,w=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Vl[0]=q.toString()),q=Vl);for(let G=0;G<q.length;G++){const se=at(b,q[G],w||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),li(),bd(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const v=this.O;v&&Qn(u)==3?v.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Qn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Se!=4||mt==7||(mt==8||He<=0?li(3):li(2)),fi(this);var v=this.g.ca();this.X=v;var b=Ed(this);if(this.o=v==200,kc(this.i,this.v,this.B,this.l,this.S,Se,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var G=w;break t}}G=null}if(u=G)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,bt(12),mn(this),wn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=Pc(this,b),lt==Vt){Se==4&&(this.m=4,bt(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,bt(15),ui(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,lt,null),mi(this,lt);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||b.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),wn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),eo(se),se.P=!0,bt(11))}}else ui(this.i,this.l,b,null),mi(this,b);Se==4&&mn(this),this.o&&!this.K&&(Se==4?Yc(this.j,this):(this.o=!1,di(this)))}else qi(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),mn(this),wn(this)}}}catch{}finally{}};function Ed(u){if(!Vc(u))return u.g.la();const v=qt(u.g);if(v==="")return"";let b="";const w=v.length,q=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<w;G++)u.h.h=!0,b+=u.h.i.decode(v[G],{stream:!(q&&G==w-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function Vc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Pc(u,v){var b=u.C,w=v.indexOf(`
`,b);return w==-1?Vt:(b=Number(v.substring(b,w)),isNaN(b)?xt:(w+=1,w+b>v.length?Vt:(v=v.slice(w,w+b),u.C=w+b,v)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function di(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(y(u.aa,u),v)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(li(),bt(17)),mn(this),this.m=2,wn(this)):va(this,this.T-u)};function wn(u){u.j.I==0||u.K||Yc(u.j,u)}function mn(u){fi(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Pl(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function mi(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||gi(b.h,u))){if(!u.L&&gi(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Ns(b);else break e;Dr(b),bt(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ci(y(b.Va,b),6e3));pi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ei(b,11)}else if((u.L||b.g==u)&&Aa(b),!R(v))for(q=b.Ba.g.parse(v),v=0;v<q.length;v++){let He=q[v];const lt=He[0];if(!(lt<=b.K))if(b.K=lt,He=He[1],b.I==2)if(He[0]=="c"){b.M=He[1],b.ba=He[2];const Nn=He[3];Nn!=null&&(b.ka=Nn,b.j.info("VER="+b.ka));const Ti=He[4];Ti!=null&&(b.za=Ti,b.j.info("SVER="+b.za));const Kn=He[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(w=1.5*Kn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const $n=u.g;if($n){const jr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var G=w.h;G.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Bl(G,G.h),G.h=null))}if(w.G){const Na=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(w.wa=Na,Qe(w.J,w.G,Na))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var se=u;if(w.na=$c(w,w.L?w.ba:null,w.W),se.L){Hl(w.h,se);var Se=se,mt=w.O;mt&&(Se.H=mt),Se.D&&(fi(Se),di(Se)),w.g=se}else Fc(w);b.i.length>0&&xi(b)}else He[0]!="stop"&&He[0]!="close"||Ei(b,7);else b.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ei(b,7):Wl(b):He[0]!="noop"&&b.l&&b.l.qa(He),b.A=0)}}li(4)}catch{}}var Et=class{constructor(u,v){this.g=u,this.map=v}};function zl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ql(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function gi(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Bl(u,v){u.g?u.g.add(v):u.h=v}function Hl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}zl.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return j(u.i)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let q,G=null;w>=0?(q=u[b].substring(0,w),G=u[b].substring(w+1)):q=u[b],v(q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof pn?(this.l=u.l,Pt(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,Gl(this,Bc(u.i)),this.m=u.m):u&&(v=String(u).match(Lc))?(this.l=!1,Pt(this,v[1]||"",!0),this.o=yi(v[2]||""),this.g=yi(v[3]||"",!0),bs(this,v[4]),this.h=yi(v[5]||"",!0),Gl(this,v[6]||"",!0),this.m=yi(v[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}pn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Sr(v,ba,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Sr(v,ba,!0),"@"),u.push(Ui(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Sr(b,b.charAt(0)=="/"?Yl:Uc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Sr(b,zc)),u.join("")},pn.prototype.resolve=function(u){const v=Tt(this);let b=!!u.j;b?Pt(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var w=u.h;if(b)bs(v,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=v.h.lastIndexOf("/");q!=-1&&(w=v.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const G=[];for(let se=0;se<q.length;){const Se=q[se++];Se=="."?w&&se==q.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&se==q.length&&G.push("")):(G.push(Se),w=!0)}w=G.join("/")}else w=q}return b?v.h=w:b=u.i.toString()!=="",b?Gl(v,Bc(u.i)):b=!!u.m,b&&(v.m=u.m),v};function Tt(u){return new pn(u)}function Pt(u,v,b){u.j=b?yi(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Gl(u,v,b){v instanceof Es?(u.i=v,Ea(u.i,u.l)):(b||(v=Sr(v,xs)),u.i=new Es(v,u.l))}function Qe(u,v,b){u.i.set(v,b)}function wr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,an),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,Uc=/[#\?:]/g,Yl=/[#\?]/g,xs=/[#\?@]/g,zc=/#/g;function Es(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}s=Es.prototype,s.add=function(u,v){ln(this),this.i=null,u=Ts(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function qc(u,v){ln(u),v=Ts(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ql(u,v){return ln(u),v=Ts(u,v),u.g.has(v)}s.forEach=function(u,v){ln(this),this.g.forEach(function(b,w){b.forEach(function(q){u.call(v,q,w,this)},this)},this)};function Kl(u,v){ln(u);let b=[];if(typeof v=="string")Ql(u,v)&&(b=b.concat(u.g.get(Ts(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}s.set=function(u,v){return ln(this),this.i=null,u=Ts(this,u),Ql(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},s.get=function(u,v){return u?(u=Kl(this,u),u.length>0?String(u[0]):v):v};function xa(u,v,b){qc(u,v),b.length>0&&(u.i=null,u.g.set(Ts(u,v),j(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const q=Ui(b);b=Kl(this,b);for(let G=0;G<b.length;G++){let se=q;b[G]!==""&&(se+="="+Ui(b[G])),u.push(se)}}return this.i=u.join("&")};function Bc(u){const v=new Es;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Ts(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Ea(u,v){v&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(b,w){const q=w.toLowerCase();w!=q&&(qc(this,w),xa(this,q,b))},u)),u.j=v}function Gn(u,v){const b=new Bn;if(d.Image){const w=new Image;w.onload=x(Sn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Sn,b,"TestLoadImage: error",!1,v,w),w.onabort=x(Sn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Sn,b,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function $l(u,v){const b=new Bn,w=new AbortController,q=setTimeout(()=>{w.abort(),Sn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(G=>{clearTimeout(q),G.ok?Sn(b,"TestPingServer: ok",!0,v):Sn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Sn(b,"TestPingServer: error",!1,v)})}function Sn(u,v,b,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(b)}catch{}}function ws(){this.g=new Rc}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}E(vi,Ic),vi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,v){_t.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ar,_t),s=Ar.prototype,s.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Yn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Ss(this):Yn(this),this.readyState==3&&Ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},s.Na=function(u){this.g&&(this.response=u,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}s.setRequestHeader=function(u,v){this.A.append(u,v)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let v="";return ze(u,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function Nr(u,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=An(b),typeof u=="string"?b!=null&&Ui(b):Qe(u,v,b))}function Xe(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Xe,_t);var _i=/^https?$/i,Xl=["POST","PUT"];s=Xe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(G){Cr(this,G);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)b.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())b.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),q=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Xl,v,void 0)>=0)||w||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of b)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Cr(this,G)}};function Cr(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Jl(u),zi(u)}function Jl(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},s.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=G===0){let se=String(u.D).match(Lc)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),w=!_i.test(se?se.toLowerCase():"")}b=w}if(b)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var q=Qn(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Jl(u)}}finally{zi(u)}}}}function zi(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||Ot(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),_d(v)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const v={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var b=Mc(u[w]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=v[q]||[];v[q]=G,G.push(b)}Ye(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function As(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=As.prototype,s.ka=8,s.I=1,s.connect=function(u,v,b,w){bt(0),this.W=u,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=$c(this,null,this.W),xi(this)};function Wl(u){if(wa(u),u.I==3){var v=u.V++,b=Tt(u.J);if(Qe(b,"SID",u.M),Qe(b,"RID",v),Qe(b,"TYPE","terminate"),Ir(u,b),v=new Hn(u,u.j,v),v.M=2,v.A=wr(Tt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.A,b=!0),b||(v.g=Xc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),di(v)}Kc(u)}function Ns(u){u.g&&(eo(u),u.g.cancel(),u.g=null)}function wa(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!ql(u.h)&&!u.m){u.m=!0;var v=u.Ea;de||A(),be||(de(),be=!0),C.add(v,u),u.D=0}}function Sa(u,v){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(y(u.Ea,u,v),Qc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Hn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(q.J=G,G=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Hc(this,q,v),b=Tt(this.J),Qe(b,"RID",u),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),Ir(this,b),G&&(this.R?v="headers="+Ui(An(G))+"&"+v:this.u&&Nr(b,this.u,G)),Bl(this.h,q),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",v),Qe(b,"SID","null"),q.U=!0,hi(q,b,null)):hi(q,b,v),this.I=2}}else this.I==3&&(u?Zl(this,u):this.i.length==0||ql(this.h)||Zl(this))};function Zl(u,v){var b;v?b=v.l:b=u.V++;const w=Tt(u.J);Qe(w,"SID",u.M),Qe(w,"RID",b),Qe(w,"AID",u.K),Ir(u,w),u.u&&u.o&&Nr(w,u.u,u.o),b=new Hn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Hc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bl(u.h,b),hi(b,w,v)}function Ir(u,v){u.H&&ze(u.H,function(b,w){Qe(v,w,b)}),u.l&&ze({},function(b,w){Qe(v,w,b)})}function Hc(u,v,b){b=Math.min(u.i.length,b);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var q=u.i;let Se=-1;for(;;){const mt=["count="+b];Se==-1?b>0?(Se=q[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let He=!0;for(let lt=0;lt<b;lt++){var G=q[lt].g;const Nn=q[lt].map;if(G-=Se,G<0)Se=Math.max(0,q[lt].g-100),He=!1;else try{G="req"+G+"_"||"";try{var se=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ti,Kn]of se){let $n=Kn;p(Kn)&&($n=_s(Kn)),mt.push(G+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw mt.push(G+"type="+encodeURIComponent("_badmap")),Ti}}catch{w&&w(Nn)}}if(He){se=mt.join("&");break e}}se=void 0}return u=u.i.splice(0,b),v.G=u,se}function Fc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;de||A(),be||(de(),be=!0),C.add(v,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(y(u.Da,u),Qc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ns(this),Gc(this))};function eo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Gc(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Tt(u.na);Qe(v,"RID","rpc"),Qe(v,"SID",u.M),Qe(v,"AID",u.K),Qe(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(v,"TO",u.ia),Qe(v,"TYPE","xmlhttp"),Ir(u,v),u.u&&u.o&&Nr(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=wr(Tt(v)),b.u=null,b.R=!0,ya(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),Dr(this),bt(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Yc(u,v){var b=null;if(u.g==v){Aa(u),eo(u),u.g=null;var w=2}else if(gi(u.h,v))b=v.G,Hl(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var q=u.D;w=ga(),Ot(w,new oi(w,b)),xi(u)}else Fc(u);else if(q=v.m,q==3||q==0&&v.X>0||!(w==1&&Sa(u,v)||w==2&&Dr(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),q){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Qc(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Ei(u,v){if(u.j.info("Error code "+v),v==2){var b=y(u.bb,u),w=u.Ua;const q=!w;w=new pn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(w,"https"),wr(w),q?Gn(w.toString(),b):$l(w.toString(),b)}else bt(2);u.I=0,u.l&&u.l.pa(v),Kc(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Kc(u){if(u.I=0,u.ja=[],u.l){const v=Fl(u.h);(v.length!=0||u.i.length!=0)&&(U(u.ja,v),U(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function $c(u,v,b){var w=b instanceof pn?Tt(b):new pn(b);if(w.g!="")v&&(w.g=v+"."+w.g),bs(w,w.u);else{var q=d.location;w=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const G=new pn(null);w&&Pt(G,w),v&&(G.g=v),q&&bs(G,q),b&&(G.h=b),w=G}return b=u.G,v=u.wa,b&&v&&Qe(w,b,v),Qe(w,"VER",u.ka),Ir(u,w),w}function Xc(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Xe(new vi({ab:b})):new Xe(u.ma),v.Fa(u.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}s=Jc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,v){return new sn(u,v)};function sn(u,v){_t.call(this),this.g=new As(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!R(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Bi(this)}E(sn,_t),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Wl(this.g)},sn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=_s(u),u=b);v.i.push(new Et(v.Ya++,u)),v.I==3&&xi(v)},sn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,sn.Z.N.call(this)};function Wc(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(Wc,zt);function Zc(){Tn.call(this),this.status=1}E(Zc,Tn);function Bi(u){this.g=u}E(Bi,Jc),Bi.prototype.ra=function(){Ot(this.g,"a")},Bi.prototype.qa=function(u){Ot(this.g,new Wc(u))},Bi.prototype.pa=function(u){Ot(this.g,new Zc)},Bi.prototype.oa=function(){Ot(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,eE=function(){return new Cs},Zx=function(){return ga()},Wx=ft,Wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,yh=Er,Ll.COMPLETE="complete",Jx=Ll,Dc.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ho=Dc,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Xx=Xe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",L_="4.9.2";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Al="12.3.0";const na=new Ap("@firebase/firestore");function il(){return na.logLevel}function oe(s,...e){if(na.logLevel<=ke.DEBUG){const n=e.map(Pp);na.debug(`Firestore (${Al}): ${s}`,...n)}}function fs(s,...e){if(na.logLevel<=ke.ERROR){const n=e.map(Pp);na.error(`Firestore (${Al}): ${s}`,...n)}}function ml(s,...e){if(na.logLevel<=ke.WARN){const n=e.map(Pp);na.warn(`Firestore (${Al}): ${s}`,...n)}}function Pp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tE(s,r,n)}function tE(s,e,n){let r=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function Ge(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||tE(e,l,r)}function we(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class nE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class JC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cs)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new nE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class ZC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=nR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Me(s,e){return s<e?-1:s>e?1:0}function Zm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return jm(l)===jm(c)?Me(l,c):jm(l)?1:-1}return Me(s.length,e.length)}const iR=55296,sR=57343;function jm(s){const e=s.charCodeAt(0);return e>=iR&&e<=sR}function pl(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const z_="__name__";class Ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Ci.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const r=Ci.isNumericId(e),l=Ci.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class tt extends Ci{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ci{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return rR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z_}static keyField(){return new Qt([z_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new le(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new le(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new le(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function iE(s,e,n){if(!n)throw new le(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function aR(s,e,n,r){if(e===!0&&r===!0)throw new le(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function q_(s){if(!me.isDocumentKey(s))throw new le(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function B_(s){if(me.isDocumentKey(s))throw new le(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function sE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function td(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function ti(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(s);throw new le(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function It(s,e){const n={typeString:s};return e&&(n.value=e),n}function xc(s,e){if(!sE(s))throw new le(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new le(ne.INVALID_ARGUMENT,n);return!0}const H_=-62135596800,F_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F_);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new le(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new st(0,0))}static max(){return new Ee(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const rc=-1;function lR(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new or(l,me.empty(),e)}function oR(s){return new or(s.readTime,s.key,rc)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(Ee.min(),me.empty(),rc)}static max(){return new or(Ee.max(),me.empty(),rc)}}function cR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:Me(s.largestBatchId,e.largestBatchId))}const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==uR)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>r(g)))})),d=!0,c===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((l=>l?ie.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{d[y]=x,++p,p===c&&r(d)}),(x=>l(x)))}}))}static doWhile(e,n){return new ie(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function dR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(s){return s.name==="IndexedDbTransactionError"}class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;const Up=-1;function id(s){return s==null}function jh(s){return s===0&&1/s==-1/0}function fR(s){return typeof s=="number"&&Number.isInteger(s)&&!jh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const rE="";function mR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=G_(e)),e=pR(s.get(n),e);return G_(e)}function pR(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case rE:n+="";break;default:n+=c}}return n}function G_(s){return s+rE+""}function Y_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function aa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function aE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=l??Yt.EMPTY,this.right=c??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Yt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ei([])}unionWith(e){let n=new Mt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const n=gR.exec(s);if(Ge(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const oE="server_timestamp",cE="__type__",uE="__previous_value__",hE="__local_write_time__";function zp(s){return(s?.mapValue?.fields||{})[cE]?.stringValue===oE}function sd(s){const e=s.mapValue.fields[uE];return zp(e)?sd(e):e}function ac(s){const e=cr(s.mapValue.fields[hE].timestampValue);return new st(e.seconds,e.nanos)}class yR{constructor(e,n,r,l,c,d,p,g,y,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const Oh="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}const dE="__type__",vR="__max__",lh={mapValue:{}},fE="__vector__",kh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zp(s)?4:bR(s)?9007199254740991:_R(s)?10:11:_e(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const n=hr(s);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ac(s).isEqual(ac(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cr(l.timestampValue),p=cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ur(l.bytesValue).isEqual(ur(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=yt(l.doubleValue),p=yt(c.doubleValue);return d===p?jh(d)===jh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Y_(d)!==Y_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Vi(d[g],p[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function oc(s,e){return(s.values||[]).find((n=>Vi(n,e)))!==void 0}function gl(s,e){if(s===e)return 0;const n=hr(s),r=hr(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=yt(c.integerValue||c.doubleValue),g=yt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return K_(s.timestampValue,e.timestampValue);case 4:return K_(ac(s),ac(e));case 5:return Zm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=ur(c),g=ur(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Me(p[y],g[y]);if(x!==0)return x}return Me(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Me(yt(c.latitude),yt(d.latitude));return p!==0?p:Me(yt(c.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[kh]?.arrayValue,x=g[kh]?.arrayValue,E=Me(y?.values?.length||0,x?.values?.length||0);return E!==0?E:$_(y,x)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===lh.mapValue&&d===lh.mapValue)return 0;if(c===lh.mapValue)return 1;if(d===lh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const S=Zm(g[E],x[E]);if(S!==0)return S;const j=gl(p[g[E]],y[x[E]]);if(j!==0)return j}return Me(g.length,x.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function K_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Me(s,e);const n=cr(s),r=cr(e),l=Me(n.seconds,r.seconds);return l!==0?l:Me(n.nanos,r.nanos)}function $_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=gl(n[l],r[l]);if(c)return c}return Me(n.length,r.length)}function yl(s){return ep(s)}function ep(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ur(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=ep(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${ep(n.fields[d])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function vh(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sd(s);return e?16+vh(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+vh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return aa(r.fields,((c,d)=>{l+=c.length+vh(d)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function X_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function tp(s){return!!s&&"integerValue"in s}function qp(s){return!!s&&"arrayValue"in s}function J_(s){return!!s&&"nullValue"in s}function W_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function _h(s){return!!s&&"mapValue"in s}function _R(s){return(s?.mapValue?.fields||{})[dE]?.stringValue===fE}function Xo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return aa(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(s.arrayValue.values[n]);return e}return{...s}}function bR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===vR}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=Qt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Xo(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];_h(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){aa(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Pn(Xo(this.value))}}function mE(s){const e=[];return aa(s.fields,((n,r)=>{const l=new Qt([n]);if(_h(r)){const c=mE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ei(e)}class Zt{constructor(e,n,r,l,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,Ee.min(),Ee.min(),Ee.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,l){return new Zt(e,1,n,Ee.min(),r,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ee.min(),Ee.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ee.min(),Ee.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=me.comparator(me.fromName(d.referenceValue),n.key):r=gl(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function eb(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function xR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class pE{}class Rt extends pE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TR(e,n,r):n==="array-contains"?new AR(e,r):n==="in"?new NR(e,r):n==="not-in"?new CR(e,r):n==="array-contains-any"?new RR(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wR(e,r):new SR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends pE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return gE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(s){return s.op==="and"}function yE(s){return ER(s)&&gE(s)}function ER(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function np(s){if(s instanceof Rt)return s.field.canonicalString()+s.op.toString()+yl(s.value);if(yE(s))return s.filters.map((e=>np(e))).join(",");{const e=s.filters.map((n=>np(n))).join(",");return`${s.op}(${e})`}}function vE(s,e){return s instanceof Rt?(function(r,l){return l instanceof Rt&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,e):s instanceof ii?(function(r,l){return l instanceof ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&vE(d,l.filters[p])),!0):!1})(s,e):void _e(19439)}function _E(s){return s instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(_E).join(" ,")+"}"})(s):"Filter"}class TR extends Rt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class wR extends Rt{constructor(e,n){super(e,"in",n),this.keys=bE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SR extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=bE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bE(s,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class AR extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&oc(n.arrayValue,this.value)}}class NR extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class CR extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class RR extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>oc(this.value.arrayValue,r)))}}class IR{constructor(e,n=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function tb(s,e=null,n=[],r=[],l=null,c=null,d=null){return new IR(s,e,n,r,l,c,d)}function Bp(s){const e=we(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>np(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yl(r))).join(",")),e.Te=n}return e.Te}function Hp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!xR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!vE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!eb(s.startAt,e.startAt)&&eb(s.endAt,e.endAt)}function ip(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ec{constructor(e,n=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DR(s,e,n,r,l,c,d,p){return new Ec(s,e,n,r,l,c,d,p)}function rd(s){return new Ec(s)}function nb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xE(s){return s.collectionGroup!==null}function Jo(s){const e=we(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt(Qt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Vh(c,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Vh(Qt.keyField(),r))}return e.Ie}function Di(s){const e=we(s);return e.Ee||(e.Ee=jR(e,Jo(s))),e.Ee}function jR(s,e){if(s.limitType==="F")return tb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Vh(l.field,c)}));const n=s.endAt?new Mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Mh(s.startAt.position,s.startAt.inclusive):null;return tb(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function sp(s,e){const n=s.filters.concat([e]);return new Ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function rp(s,e,n){return new Ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function ad(s,e){return Hp(Di(s),Di(e))&&s.limitType===e.limitType}function EE(s){return`${Bp(Di(s))}|lt:${s.limitType}`}function sl(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>_E(l))).join(", ")}]`),id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>yl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>yl(l))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function ld(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Jo(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=Z_(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,Jo(r),l)||r.endAt&&!(function(d,p,g){const y=Z_(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,Jo(r),l))})(s,e)}function OR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function TE(s){return(e,n)=>{let r=!1;for(const l of Jo(s)){const c=kR(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function kR(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?gl(g,y):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}const MR=new ut(me.comparator);function ms(){return MR}const wE=new ut(me.comparator);function Fo(...s){let e=wE;for(const n of s)e=e.insert(n.key,n);return e}function SE(s){let e=wE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $r(){return Wo()}function AE(){return Wo()}function Wo(){return new la((s=>s.toString()),((s,e)=>s.isEqual(e)))}const VR=new ut(me.comparator),PR=new Mt(me.comparator);function Ve(...s){let e=PR;for(const n of s)e=e.add(n);return e}const LR=new Mt(Me);function UR(){return LR}function Fp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function NE(s){return{integerValue:""+s}}function zR(s,e){return fR(e)?NE(e):Fp(s,e)}class od{constructor(){this._=void 0}}function qR(s,e,n){return s instanceof Ph?(function(l,c){const d={fields:{[cE]:{stringValue:oE},[hE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zp(c)&&(c=sd(c)),c&&(d.fields[uE]=c),{mapValue:d}})(n,e):s instanceof cc?RE(s,e):s instanceof uc?IE(s,e):(function(l,c){const d=CE(l,c),p=ib(d)+ib(l.Ae);return tp(d)&&tp(l.Ae)?NE(p):Fp(l.serializer,p)})(s,e)}function BR(s,e,n){return s instanceof cc?RE(s,e):s instanceof uc?IE(s,e):n}function CE(s,e){return s instanceof Lh?(function(r){return tp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Ph extends od{}class cc extends od{constructor(e){super(),this.elements=e}}function RE(s,e){const n=DE(e);for(const r of s.elements)n.some((l=>Vi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class uc extends od{constructor(e){super(),this.elements=e}}function IE(s,e){let n=DE(e);for(const r of s.elements)n=n.filter((l=>!Vi(l,r)));return{arrayValue:{values:n}}}class Lh extends od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ib(s){return yt(s.integerValue||s.doubleValue)}function DE(s){return qp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function HR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof cc&&l instanceof cc||r instanceof uc&&l instanceof uc?pl(r.elements,l.elements,Vi):r instanceof Lh&&l instanceof Lh?Vi(r.Ae,l.Ae):r instanceof Ph&&l instanceof Ph})(s.transform,e.transform)}class FR{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class cd{}function jE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new kE(s.key,ji.none()):new Tc(s.key,s.data,ji.none());{const n=s.data,r=Pn.empty();let l=new Mt(Qt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new oa(s.key,r,new ei(l.toArray()),ji.none())}}function GR(s,e,n){s instanceof Tc?(function(l,c,d){const p=l.value.clone(),g=rb(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof oa?(function(l,c,d){if(!bh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=rb(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(OE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Zo(s,e,n,r){return s instanceof Tc?(function(c,d,p,g){if(!bh(c.precondition,d))return p;const y=c.value.clone(),x=ab(c.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof oa?(function(c,d,p,g){if(!bh(c.precondition,d))return p;const y=ab(c.fieldTransforms,g,d),x=d.data;return x.setAll(OE(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,r):(function(c,d,p){return bh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function YR(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=CE(r.transform,l||null);c!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,c))}return n||null}function sb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&pl(r,l,((c,d)=>HR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Tc extends cd{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class oa extends cd{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function rb(s,e,n){const r=new Map;Ge(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,BR(d,p,n[l]))}return r}function ab(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,qR(c,d,e))}return r}class kE extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QR extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&GR(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=jE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,r)=>sb(n,r)))&&pl(this.baseMutations,e.baseMutations,((n,r)=>sb(n,r)))}}class Gp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return VR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Gp(e,n,r,l)}}class $R{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function JR(s){switch(s){case ne.OK:return _e(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function ME(s){if(s===void 0)return fs("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Ct.OK:return ne.OK;case Ct.CANCELLED:return ne.CANCELLED;case Ct.UNKNOWN:return ne.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ne.INTERNAL;case Ct.UNAVAILABLE:return ne.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ne.NOT_FOUND;case Ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ct.ABORTED:return ne.ABORTED;case Ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ct.DATA_LOSS:return ne.DATA_LOSS;default:return _e(39323,{code:s})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function WR(){return new TextEncoder}const ZR=new ar([4294967295,4294967295],0);function lb(s){const e=WR().encode(s),n=new $x;return n.update(e),new Uint8Array(n.digest())}function ob(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ar([n,r],0),new ar([l,c],0)]}class Yp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ar.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(ar.fromNumber(r)));return l.compare(ZR)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lb(e),[r,l]=ob(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Yp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=lb(e),[r,l]=ob(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ud{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(Ee.min(),l,new ut(Me),ms(),Ve())}}class wc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wc(r,n,Ve(),Ve(),Ve())}}class xh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class VE{constructor(e,n){this.targetId=e,this.Ce=n}}class PE{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class cb{constructor(){this.ve=0,this.Fe=ub(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:_e(38017,{changeType:c})}})),new wc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ub()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.Je=oh(),this.He=oh(),this.Ye=new ut(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(ip(c))if(r===0){const d=new me(c.path);this.et(n,d,Zt.newNoDocument(d,Ee.min()))}else Ge(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=ur(r).toUint8Array()}catch(g){if(g instanceof lE)return ml("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Yp(d,l,c)}catch(g){return ml(g instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ip(p.target)){const g=new me(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Zt.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Ve();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new ud(e,n,this.Ye,this.je,r);return this.je=ms(),this.Je=oh(),this.He=oh(),this.Ye=new ut(Me),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ut(me.comparator)}function ub(){return new ut(me.comparator)}const tI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class sI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(s,e){return s.useProto3Json||id(e)?e:{value:e}}function Uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rI(s,e){return Uh(s,e.toTimestamp())}function Oi(s){return Ge(!!s,49232),Ee.fromTimestamp((function(n){const r=cr(n);return new st(r.seconds,r.nanos)})(s))}function Qp(s,e){return lp(s,e).canonicalString()}function lp(s,e){const n=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function UE(s){const e=tt.fromString(s);return Ge(FE(e),10190,{key:e.toString()}),e}function op(s,e){return Qp(s.databaseId,e.path)}function Om(s,e){const n=UE(e);if(n.get(1)!==s.databaseId.projectId)throw new le(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new le(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(qE(n))}function zE(s,e){return Qp(s.databaseId,e)}function aI(s){const e=UE(s);return e.length===4?tt.emptyPath():qE(e)}function cp(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qE(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function hb(s,e,n){return{name:op(s,e),fields:n.value.mapValue.fields}}function lI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(Ge(x===void 0||typeof x=="string",58123),Kt.fromBase64String(x||"")):(Ge(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Kt.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const x=y.code===void 0?ne.UNKNOWN:ME(y.code);return new le(x,y.message||"")})(d);n=new PE(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Om(s,r.document.name),c=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):Ee.min(),p=new Pn({mapValue:{fields:r.document.fields}}),g=Zt.newFoundDocument(l,c,d,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new xh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Om(s,r.document),c=r.readTime?Oi(r.readTime):Ee.min(),d=Zt.newNoDocument(l,c),p=r.removedTargetIds||[];n=new xh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Om(s,r.document),c=r.removedTargetIds||[];n=new xh([],c,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new XR(l,c),p=r.targetId;n=new VE(p,d)}}return n}function oI(s,e){let n;if(e instanceof Tc)n={update:hb(s,e.key,e.value)};else if(e instanceof kE)n={delete:op(s,e.key)};else if(e instanceof oa)n={update:hb(s,e.key,e.data),updateMask:yI(e.fieldMask)};else{if(!(e instanceof QR))return _e(16599,{Vt:e.type});n={verify:op(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Ph)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:rI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),n}function cI(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(Ee.min())&&(d=Oi(c)),new FR(d,l.transformResults||[])})(n,e)))):[]}function uI(s,e){return{documents:[zE(s,e.path)]}}function hI(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zE(s,l);const c=(function(y){if(y.length!==0)return HE(ii.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:rl(S.field),direction:mI(S.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=ap(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function dI(s){let e=aI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ge(r===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=BE(E);return S instanceof ii&&yE(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((S=>(function(U){return new Vh(al(U.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,id(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,j=E.values||[];return new Mh(j,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,j=E.values||[];return new Mh(j,S)})(n.endAt)),DR(e,l,d,c,p,"F",g,y)}function fI(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=al(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=al(n.unaryFilter.field);return Rt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=al(n.unaryFilter.field);return Rt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=al(n.unaryFilter.field);return Rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Rt.create(al(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>BE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function mI(s){return tI[s]}function pI(s){return nI[s]}function gI(s){return iI[s]}function rl(s){return{fieldPath:s.canonicalString()}}function al(s){return Qt.fromServerFormat(s.fieldPath)}function HE(s){return s instanceof Rt?(function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(J_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(J_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:pI(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((l=>HE(l)));return r.length===1?r[0]:{compositeFilter:{op:gI(n.op),filters:r}}})(s):_e(54877,{filter:s})}function yI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function FE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class nr{constructor(e,n,r,l,c=Ee.min(),d=Ee.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vI{constructor(e){this.yt=e}}function _I(s){const e=dI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rp(e,e.limit,"L"):e}class bI{constructor(){this.Cn=new xI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(or.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class xI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Mt(tt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Mt(tt.comparator)).toArray()}}const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(GE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const fb="LruGarbageCollector",EI=1048576;function mb([s,e],[n,r]){const l=Me(s,n);return l===0?Me(e,r):l}class TI{constructor(e){this.Ir=e,this.buffer=new Mt(mb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(fb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?oe(fb,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Vr(3e5)}))}}class SI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(nd.ce);const r=new TI(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(db)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),il()<=ke.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function AI(s,e){return new SI(s,e)}class NI{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class RI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Zo(r.mutation,l,ei.empty(),st.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const l=$r();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Fo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let c=ms();const d=Wo(),p=(function(){return Wo()})();return n.forEach(((g,y)=>{const x=r.get(y.key);l.has(y.key)&&(x===void 0||x.mutation instanceof oa)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),Zo(x.mutation,y,x.mutation.getFieldMask(),st.now())):d.set(y.key,ei.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>d.set(y,x))),n.forEach(((y,x)=>p.set(y,new CI(x,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Wo();let l=new ut(((d,p)=>d-p)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||ei.empty();x=p.applyToLocalView(y,x),r.set(g,x);const E=(l.get(p.batchId)||Ve()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=AE();x.forEach((S=>{if(!c.has(S)){const j=jE(n.get(S),r.get(S));j!==null&&E.set(S,j),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ie.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):ie.resolve($r());let p=rc,g=c;return d.next((y=>ie.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ve()))).next((x=>({batchId:p,changes:SE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let l=Fo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Fo();return this.indexManager.getCollectionParents(e,c).next((p=>ie.forEach(p,(g=>{const y=(function(E,S){return new Ec(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((x=>{x.forEach(((E,S)=>{d=d.insert(E,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,Zt.newInvalidDocument(x)))}));let p=Fo();return d.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&Zo(x.mutation,y,ei.empty(),st.now()),ld(n,y)&&(p=p.insert(g,y))})),p}))}}class II{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:_I(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),ie.resolve()}}class DI{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return ie.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const l=$r(),c=n.length+1,d=new me(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new ut(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=$r(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=$r(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=l)););return ie.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new $R(n,r));let c=this.qr.get(n);c===void 0&&(c=Ve(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class jI{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Kp{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new me(new tt([])),r=new Ut(n,e),l=new Ut(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),r=new Ut(n,e),l=new Ut(n,e+1);let c=Ve();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class OI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KR(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ut(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Up:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Me);return n.forEach((l=>{const c=new Ut(l,0),d=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;me.isDocumentKey(c)||(c=c.child(""));const d=new Ut(new me(c),0);let p=new Mt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),ie.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(l=>{const c=new Ut(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),l=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kI{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ms();const d=n.path,p=new me(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||cR(oR(x),r)<=0||(l.has(x.key)||ld(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,r,l){_e(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new MI(this)}getSize(e){return ie.resolve(this.size)}}class MI extends NI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class VI{constructor(e){this.persistence=e,this.si=new la((n=>Bp(n)),Hp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Kp,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(c).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class YE{constructor(e,n){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new jI,this.referenceDelegate=e(this),this.Pi=new VI(this),this.indexManager=new bI,this.remoteDocumentCache=(function(l){return new kI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new vI(n),this.Ii=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new OI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new PI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class PI extends hR{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Ri=new Kp,this.Vi=null}static mi(e){return new $p(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const l=me.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new la((r=>mR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=AI(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?ie.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ie.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Ve(),l=Ve();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xp(e,n.fromCache,r,l)}}class LI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pS()?8:dR(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new LI;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(il()<=ke.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(il()<=ke.DEBUG&&oe("QueryEngine","Query:",sl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(il()<=ke.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ie.resolve())}ys(e,n){if(nb(n))return ie.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=rp(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ve(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,rp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return nb(n)||l.isEqual(Ee.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?ie.resolve(null):(il()<=ke.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),sl(n)),this.vs(e,d,n,lR(l,rc)).next((p=>p)))}))}Ds(e,n){let r=new Mt(TE(e));return n.forEach(((l,c)=>{ld(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return il()<=ke.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",sl(n)),this.ps.getDocumentsMatchingQuery(e,n,or.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jp="LocalStore",zI=3e8;class qI{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Me),this.xs=new la((c=>Bp(c)),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BI(s,e,n,r){return new qI(s,e,n,r)}async function QE(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Ve();for(const y of l){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function HI(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,S=E.keys();let j=ie.resolve();return S.forEach((U=>{j=j.next((()=>x.getEntry(g,U))).next((Q=>{const D=y.docVersions.get(U);Ge(D!==null,48541),Q.version.compareTo(D)<0&&(E.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),x.addEntry(Q)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ve();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function KE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FI(s,e){const n=we(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const S=l.get(E);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,E))));let j=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(Kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,r)),l=l.insert(E,j),(function(Q,D,K){return Q.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=zI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,j,x)&&p.push(n.Pi.updateTargetData(c,j))}));let g=ms(),y=Ve();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(GI(c,d,e.documentUpdates).next((x=>{g=x.ks,y=x.qs}))),!r.isEqual(Ee.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return ie.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function GI(s,e,n){let r=Ve(),l=Ve();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ms();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):oe(Jp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function YI(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function QI(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,ie.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new nr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function up(s,e,n){const r=we(s),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Cl(d))throw d;oe(Jp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function pb(s,e,n){const r=we(s);let l=Ee.min(),c=Ve();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const E=we(g),S=E.xs.get(x);return S!==void 0?ie.resolve(E.Ms.get(S)):E.Pi.getTargetData(y,x)})(r,d,Di(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:Ee.min(),n?c:Ve()))).next((p=>(KI(r,OR(e),p),{documents:p,Qs:c})))))}function KI(s,e,n){let r=s.Os.get(e)||Ee.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class gb{constructor(){this.activeTargetIds=UR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $I{constructor(){this.Mo=new gb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XI{Oo(e){}shutdown(){}}const yb="ConnectivityMonitor";class vb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(yb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(yb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function hp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const km="RestConnection",JI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=hp(),p=this.zo(e,n.toUriEncodedString());oe(km,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),x=Tl(y);return this.Jo(e,p,g,r,x).then((E=>(oe(km,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw ml(km,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",r),E}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=JI[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class ZI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class eD extends WI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=hp();return new Promise(((p,g)=>{const y=new Xx;y.setWithCredentials(!0),y.listenOnce(Jx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case yh.NO_ERROR:const E=y.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case yh.TIMEOUT:oe(Xt,`RPC '${e}' ${d} timed out`),g(new le(ne.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const S=y.getStatus();if(oe(Xt,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const U=j?.error;if(U&&U.status&&U.message){const Q=(function(K){const W=K.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN})(U.status);g(new le(Q,U.message))}else g(new le(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(ne.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Xt,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(l);oe(Xt,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const l=hp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=eE(),p=Zx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const x=c.join("");oe(Xt,`Creating RPC '${e}' stream ${l}: ${x}`,g);const E=d.createWebChannel(x,g);this.I_(E);let S=!1,j=!1;const U=new ZI({Yo:D=>{j?oe(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,D):(S||(oe(Xt,`Opening RPC '${e}' stream ${l} transport.`),E.open(),S=!0),oe(Xt,`RPC '${e}' stream ${l} sending:`,D),E.send(D))},Zo:()=>E.close()}),Q=(D,K,W)=>{D.listen(K,($=>{try{W($)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return Q(E,Ho.EventType.OPEN,(()=>{j||(oe(Xt,`RPC '${e}' stream ${l} transport opened.`),U.o_())})),Q(E,Ho.EventType.CLOSE,(()=>{j||(j=!0,oe(Xt,`RPC '${e}' stream ${l} transport closed`),U.a_(),this.E_(E))})),Q(E,Ho.EventType.ERROR,(D=>{j||(j=!0,ml(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,D.name,"Message:",D.message),U.a_(new le(ne.UNAVAILABLE,"The operation could not be completed")))})),Q(E,Ho.EventType.MESSAGE,(D=>{if(!j){const K=D.data[0];Ge(!!K,16349);const W=K,$=W?.error||W[0]?.error;if($){oe(Xt,`RPC '${e}' stream ${l} received error:`,$);const ye=$.status;let de=(function(A){const N=Ct[A];if(N!==void 0)return ME(N)})(ye),be=$.message;de===void 0&&(de=ne.INTERNAL,be="Unknown error status: "+ye+" with message "+$.message),j=!0,U.a_(new le(de,be)),E.close()}else oe(Xt,`RPC '${e}' stream ${l} received:`,K),U.u_(K)}})),Q(p,Wx.STAT_EVENT,(D=>{D.stat===Wm.PROXY?oe(Xt,`RPC '${e}' stream ${l} detected buffering proxy`):D.stat===Wm.NOPROXY&&oe(Xt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}function hd(s){return new sI(s,!0)}class $E{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _b="PersistentStream";class XE{constructor(e,n,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $E(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(_b,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(_b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tD extends XE{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Oi(d.readTime):Ee.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=ip(g)?{documents:uI(c,g)}:{query:hI(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=LE(c,d.resumeToken);const y=ap(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=Uh(c,d.snapshotVersion.toTimestamp());const y=ap(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=fI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class nD extends XE{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cI(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>oI(this.serializer,r)))};this.q_(n)}}class iD{}class sD extends iD{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,lp(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(ne.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,lp(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class aD{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ca(this)&&(oe(ia,"Restarting streams for network reachability change."),await(async function(g){const y=we(g);y.Ea.add(4),await Sc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await dd(y)})(this))}))})),this.Ra=new rD(r,l)}}async function dd(s){if(ca(s))for(const e of s.da)await e(!0)}async function Sc(s){for(const e of s.da)await e(!1)}function JE(s,e){const n=we(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):Rl(n).O_()&&Zp(n,e))}function Wp(s,e){const n=we(s),r=Rl(n);n.Ia.delete(e),r.O_()&&WE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ca(n)&&n.Ra.set("Unknown"))}function Zp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rl(s).Y_(e)}function WE(s,e){s.Va.Ue(e),Rl(s).Z_(e)}function eg(s){s.Va=new eI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Rl(s).start(),s.Ra.ua()}function tg(s){return ca(s)&&!Rl(s).x_()&&s.Ia.size>0}function ca(s){return we(s).Ea.size===0}function ZE(s){s.Va=void 0}async function lD(s){s.Ra.set("Online")}async function oD(s){s.Ia.forEach(((e,n)=>{Zp(s,e)}))}async function cD(s,e){ZE(s),tg(s)?(s.Ra.ha(e),eg(s)):s.Ra.set("Unknown")}async function uD(s,e,n){if(s.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){oe(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(s,r)}else if(e instanceof xh?s.Va.Ze(e):e instanceof VE?s.Va.st(e):s.Va.tt(e),!n.isEqual(Ee.min()))try{const r=await KE(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Kt.EMPTY_BYTE_STRING,x.snapshotVersion)),WE(c,g);const E=new nr(x.target,g,y,x.sequenceNumber);Zp(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){oe(ia,"Failed to raise snapshot:",r),await qh(s,r)}}async function qh(s,e,n){if(!Cl(e))throw e;s.Ea.add(1),await Sc(s),s.Ra.set("Offline"),n||(n=()=>KE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ia,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await dd(s)}))}function e1(s,e){return e().catch((n=>qh(s,n,e)))}async function fd(s){const e=we(s),n=dr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Up;for(;hD(e);)try{const l=await YI(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,dD(e,l)}catch(l){await qh(e,l)}t1(e)&&n1(e)}function hD(s){return ca(s)&&s.Ta.length<10}function dD(s,e){s.Ta.push(e);const n=dr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function t1(s){return ca(s)&&!dr(s).x_()&&s.Ta.length>0}function n1(s){dr(s).start()}async function fD(s){dr(s).ra()}async function mD(s){const e=dr(s);for(const n of s.Ta)e.ea(n.mutations)}async function pD(s,e,n){const r=s.Ta.shift(),l=Gp.from(r,e,n);await e1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await fd(s)}async function gD(s,e){e&&dr(s).X_&&await(async function(r,l){if((function(d){return JR(d)&&d!==ne.ABORTED})(l.code)){const c=r.Ta.shift();dr(r).B_(),await e1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await fd(r)}})(s,e),t1(s)&&n1(s)}async function bb(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),oe(ia,"RemoteStore received new credentials");const r=ca(n);n.Ea.add(3),await Sc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dd(n)}async function yD(s,e){const n=we(s);e?(n.Ea.delete(2),await dd(n)):e||(n.Ea.add(2),await Sc(n),n.Ra.set("Unknown"))}function Rl(s){return s.ma||(s.ma=(function(n,r,l){const c=we(n);return c.sa(),new tD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:lD.bind(null,s),t_:oD.bind(null,s),r_:cD.bind(null,s),H_:uD.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),tg(s)?eg(s):s.Ra.set("Unknown")):(await s.ma.stop(),ZE(s))}))),s.ma}function dr(s){return s.fa||(s.fa=(function(n,r,l){const c=we(n);return c.sa(),new nD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:fD.bind(null,s),r_:gD.bind(null,s),ta:mD.bind(null,s),na:pD.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await fd(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ng{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,p=new ng(e,n,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(s,e){if(fs("AsyncQueue",`${e}: ${s}`),Cl(s))return new le(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Fo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class xb{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _l{constructor(e,n,r,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new _l(e,n,hl.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class vD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _D{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=we(n),c=l.queries;l.queries=Eb(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new le(ne.ABORTED,"Firestore shutting down"))}}function Eb(){return new la((s=>EE(s)),ad)}async function sg(s,e){const n=we(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new vD,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=ig(d,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ag(n)}async function rg(s,e){const n=we(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bD(s,e){const n=we(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&ag(n)}function xD(s,e,n){const r=we(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function ag(s){s.Ca.forEach((e=>{e.next()}))}var dp,Tb;(Tb=dp||(dp={})).Ma="default",Tb.Cache="cache";class lg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class i1{constructor(e){this.key=e}}class s1{constructor(e){this.key=e}}class ED{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=TE(e),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new xb,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,E)=>{const S=l.get(x),j=ld(this.query,E)?E:null,U=!!S&&this.mutatedKeys.has(S.key),Q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let D=!1;S&&j?S.data.isEqual(j.data)?U!==Q&&(r.track({type:3,doc:j}),D=!0):this.su(S,j)||(r.track({type:2,doc:j}),D=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(p=!0)):!S&&j?(r.track({type:0,doc:j}),D=!0):S&&!j&&(r.track({type:1,doc:S}),D=!0,(g||y)&&(p=!0)),D&&(j?(d=d.add(j),c=Q?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,E)=>(function(j,U){const Q=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:D})}};return Q(j)-Q(U)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new _l(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new s1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new i1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class TD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wD{constructor(e){this.key=e,this.hu=!1}}class SD{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((p=>EE(p)),ad),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new Kp,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AD(s,e,n=!0){const r=u1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await r1(r,e,n,!0),l}async function ND(s,e){const n=u1(s);await r1(n,e,!0,!1)}async function r1(s,e,n,r){const l=await QI(s.localStore,Di(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await CD(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&JE(s.remoteStore,l),p}async function CD(s,e,n,r,l){s.pu=(E,S,j)=>(async function(Q,D,K,W){let $=D.view.ru(K);$.Cs&&($=await pb(Q.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,$))));const ye=W&&W.targetChanges.get(D.targetId),de=W&&W.targetMismatches.get(D.targetId)!=null,be=D.view.applyChanges($,Q.isPrimaryClient,ye,de);return Sb(Q,D.targetId,be.au),be.snapshot})(s,E,S,j);const c=await pb(s.localStore,e,!0),d=new ED(e,c.Qs),p=d.ru(c.documents),g=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);Sb(s,n,y.au);const x=new TD(e,n,d);return s.Tu.set(e,x),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function RD(s,e,n){const r=we(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!ad(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await up(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Wp(r.remoteStore,l.targetId),fp(r,l.targetId)})).catch(Nl)):(fp(r,l.targetId),await up(r.localStore,l.targetId,!0))}async function ID(s,e){const n=we(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wp(n.remoteStore,r.targetId))}async function DD(s,e,n){const r=LD(s);try{const l=await(function(d,p){const g=we(d),y=st.now(),x=p.reduce(((j,U)=>j.add(U.key)),Ve());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let U=ms(),Q=Ve();return g.Ns.getEntries(j,x).next((D=>{U=D,U.forEach(((K,W)=>{W.isValidDocument()||(Q=Q.add(K))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,U))).next((D=>{E=D;const K=[];for(const W of p){const $=YR(W,E.get(W.key).overlayedDocument);$!=null&&K.push(new oa(W.key,$,mE($.value.mapValue),ji.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,K,p)})).next((D=>{S=D;const K=D.applyToLocalDocumentSet(E,Q);return g.documentOverlayCache.saveOverlays(j,D.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:SE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ut(Me)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await Ac(r,l.changes),await fd(r.remoteStore)}catch(l){const c=ig(l,"Failed to persist write");n.reject(c)}}async function a1(s,e){const n=we(s);try{const r=await FI(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ge(d.hu,14607):l.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await Ac(n,r,e)}catch(r){await Nl(r)}}function wb(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=we(d);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const S of E.Sa)S.va(p)&&(y=!0)})),y&&ag(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jD(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new ut(me.comparator);d=d.insert(c,Zt.newNoDocument(c,Ee.min()));const p=Ve().add(c),g=new ud(Ee.min(),new Map,new ut(Me),d,p);await a1(r,g),r.du=r.du.remove(c),r.Au.delete(e),cg(r)}else await up(r.localStore,e,!1).then((()=>fp(r,e,n))).catch(Nl)}async function OD(s,e){const n=we(s),r=e.batch.batchId;try{const l=await HI(n.localStore,e);o1(n,r,null),l1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,l)}catch(l){await Nl(l)}}async function kD(s,e,n){const r=we(s);try{const l=await(function(d,p){const g=we(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Ge(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);o1(r,e,n),l1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,l)}catch(l){await Nl(l)}}function l1(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function o1(s,e,n){const r=we(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function fp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||c1(s,r)}))}function c1(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Wp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),cg(s))}function Sb(s,e,n){for(const r of n)r instanceof i1?(s.Ru.addReference(r.key,e),MD(s,r)):r instanceof s1?(oe(og,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||c1(s,r.key)):_e(19791,{wu:r})}function MD(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(oe(og,"New document in limbo: "+n),s.Eu.add(r),cg(s))}function cg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new wD(n)),s.du=s.du.insert(n,r),JE(s.remoteStore,new nr(Di(rd(n.path)),r,"TargetPurposeLimboResolution",nd.ce))}}async function Ac(s,e,n){const r=we(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){l.push(y);const x=Xp.As(g.targetId,y);c.push(x)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const x=we(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(y,(S=>ie.forEach(S.Es,(j=>x.persistence.referenceDelegate.addReference(E,S.targetId,j))).next((()=>ie.forEach(S.ds,(j=>x.persistence.referenceDelegate.removeReference(E,S.targetId,j)))))))))}catch(E){if(!Cl(E))throw E;oe(Jp,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const j=x.Ms.get(S),U=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(U);x.Ms=x.Ms.insert(S,Q)}}})(r.localStore,c))}async function VD(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){oe(og,"User change. New user:",e.toKey());const r=await QE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new le(ne.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.Ls)}}function PD(s,e){const n=we(s),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let l=Ve();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function u1(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jD.bind(null,e),e.Pu.H_=bD.bind(null,e.eventManager),e.Pu.yu=xD.bind(null,e.eventManager),e}function LD(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kD.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BI(this.persistence,new UI,e.initialUser,this.serializer)}Cu(e){return new YE($p.mi,this.serializer)}Du(e){return new $I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class UD extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new YE((r=>zh.mi(r,n)),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _D})()}createDatastore(e){const n=hd(e.databaseInfo.databaseId),r=(function(c){return new eD(c)})(e.databaseInfo);return(function(c,d,p,g){return new sD(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,p){return new aD(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>wb(this.syncEngine,n,0)),(function(){return vb.v()?new vb:new XI})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,x){const E=new SD(l,c,d,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);oe(ia,"RemoteStore shutting down."),r.Ea.add(5),await Sc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fr="FirestoreClient";class zD{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ig(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(fr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await QE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Ab(s,e){s.asyncQueue.verifyOperationInProgress();const n=await qD(s);oe(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>bb(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>bb(e.remoteStore,l))),s._onlineComponents=e}async function qD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(fr,"Using user provided OfflineComponentProvider");try{await Vm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Vm(s,new Bh)}}else oe(fr,"Using default OfflineComponentProvider"),await Vm(s,new UD(void 0));return s._offlineComponents}async function h1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(fr,"Using user provided OnlineComponentProvider"),await Ab(s,s._uninitializedComponentsProvider._online)):(oe(fr,"Using default OnlineComponentProvider"),await Ab(s,new mp))),s._onlineComponents}function BD(s){return h1(s).then((e=>e.syncEngine))}async function Hh(s){const e=await h1(s),n=e.eventManager;return n.onListen=AD.bind(null,e.syncEngine),n.onUnlisten=RD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ND.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ID.bind(null,e.syncEngine),n}function HD(s,e,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const x=new ug({next:S=>{x.Nu(),d.enqueueAndForget((()=>rg(c,E)));const j=S.docs.has(p);!j&&S.fromCache?y.reject(new le(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&g&&g.source==="server"?y.reject(new le(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new lg(rd(p.path),x,{includeMetadataChanges:!0,qa:!0});return sg(c,E)})(await Hh(s),s.asyncQueue,e,n,r))),r.promise}function FD(s,e,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const x=new ug({next:S=>{x.Nu(),d.enqueueAndForget((()=>rg(c,E))),S.fromCache&&g.source==="server"?y.reject(new le(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new lg(p,x,{includeMetadataChanges:!0,qa:!0});return sg(c,E)})(await Hh(s),s.asyncQueue,e,n,r))),r.promise}function d1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Nb=new Map;const f1="firestore.googleapis.com",Cb=!0;class Rb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f1,this.ssl=Cb}else this.host=e.host,this.ssl=e.ssl??Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EI)throw new le(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XC;switch(r.type){case"firstParty":return new eR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Nb.get(n);r&&(oe("ComponentProvider","Removing Datastore"),Nb.delete(n),r.terminate())})(this),Promise.resolve()}}function GD(s,e,n,r={}){s=ti(s,md);const l=Tl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(lx(`https://${p}`),ox("Firestore",!0)),c.host!==f1&&c.host!==p&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Wr(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=Wt.MOCK_USER;else{y=aS(r.mockUserToken,s._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new le(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Wt(E)}s._authCredentials=new JC(new nE(y,x))}}class ua{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xc(n,vt._jsonSchema))return new vt(e,r||null,new me(tt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:It("string",vt._jsonSchemaVersion),referencePath:It("string")};class lr extends ua{constructor(e,n,r){super(e,n,rd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new me(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function pd(s,e,...n){if(s=tn(s),iE("collection","path",e),s instanceof md){const r=tt.fromString(e,...n);return B_(r),new lr(s,null,r)}{if(!(s instanceof vt||s instanceof lr))throw new le(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return B_(r),new lr(s.firestore,null,r)}}function gs(s,e,...n){if(s=tn(s),arguments.length===1&&(e=Lp.newId()),iE("doc","path",e),s instanceof md){const r=tt.fromString(e,...n);return q_(r),new vt(s,null,new me(r))}{if(!(s instanceof vt||s instanceof lr))throw new le(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return q_(r),new vt(s.firestore,s instanceof lr?s.converter:null,new me(r))}}const Ib="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $E(this,"async_queue_retry"),this._c=()=>{const r=Mm();r&&oe(Ib,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;oe(Ib,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",jb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=ng.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:jb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Ob(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class sa extends md{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Db,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function YD(s,e){const n=typeof s=="object"?s:dx(),r=typeof s=="string"?s:Oh,l=Cp(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=sS("firestore");c&&GD(l,...c)}return l}function gd(s){if(s._terminated)throw new le(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||QD(s),s._firestoreClient}function QD(s){const e=s._freezeSettings(),n=(function(l,c,d,p){return new yR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new zD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(n){throw new le(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xc(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:It("string",Ln._jsonSchemaVersion),bytes:It("string")};class hg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class m1{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(xc(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:It("string",ki._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xc(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new le(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:It("string",Mi._jsonSchemaVersion),vectorValues:It("object")};const KD=/^__.*__$/;class $D{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}function p1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class dg{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&KD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hd(e)}Cc(e,n,r,l=!1){return new dg({Ac:e,methodName:n,Dc:r,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(s){const e=s._freezeSettings(),n=hd(s._databaseId);return new XD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function g1(s,e,n,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);_1("Data must be an object, but it was:",d,r);const p=y1(r,d);let g,y;if(c.merge)g=new ei(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=WD(e,E,n);if(!d.contains(S))throw new le(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);e4(x,S)||x.push(S)}g=new ei(x),y=d.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=d.fieldTransforms;return new $D(new Pn(p),g,y)}function JD(s,e,n,r=!1){return mg(n,s.Cc(r?4:3,e))}function mg(s,e){if(v1(s=tn(s)))return _1("Unsupported field value:",e,s),y1(s,e);if(s instanceof m1)return(function(r,l){if(!p1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=mg(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=st.fromDate(r);return{timestampValue:Uh(l.serializer,c)}}if(r instanceof st){const c=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(l.serializer,c)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:LE(l.serializer,r._byteString)};if(r instanceof vt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(d,p){return{mapValue:{fields:{[dE]:{stringValue:fE},[kh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${td(r)}`)})(s,e)}function y1(s,e){const n={};return aE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(s,((r,l)=>{const c=mg(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function v1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof ki||s instanceof Ln||s instanceof vt||s instanceof m1||s instanceof Mi)}function _1(s,e,n){if(!v1(n)||!sE(n)){const r=td(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function WD(s,e,n){if((e=tn(e))instanceof hg)return e._internalPath;if(typeof e=="string")return b1(s,e);throw Fh("Field path arguments must be of type string or ",s,!1,void 0,n)}const ZD=new RegExp("[~\\*/\\[\\]]");function b1(s,e,n){if(e.search(ZD)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new hg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Fh(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new le(ne.INVALID_ARGUMENT,p+s+g)}function e4(s,e){return s.some((n=>n.isEqual(e)))}class x1{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t4 extends x1{data(){return super.data()}}function pg(s,e){return typeof e=="string"?b1(s,e):e instanceof hg?e._internalPath:e._delegate._internalPath}function E1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class n4 extends gg{}function i4(s,e,...n){let r=[];e instanceof gg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof yg)).length,p=c.filter((g=>g instanceof yd)).length;if(d>1||d>0&&p>0)throw new le(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class yd extends n4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yd(e,n,r)}_apply(e){const n=this._parse(e);return T1(e._query,n),new ua(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=fg(e.firestore);return(function(c,d,p,g,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new le(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Mb(E,x);const U=[];for(const Q of E)U.push(kb(g,c,Q));S={arrayValue:{values:U}}}else S=kb(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Mb(E,x),S=JD(p,d,E,x==="in"||x==="not-in");return Rt.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function s4(s,e,n){const r=e,l=pg("where",s);return yd._create(l,r,n)}class yg extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)T1(d,g),d=sp(d,g)})(e._query,n),new ua(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kb(s,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new le(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(e)&&n.indexOf("/")!==-1)throw new le(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!me.isDocumentKey(r))throw new le(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X_(s,new me(r))}if(n instanceof vt)return X_(s,n._key);throw new le(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function Mb(s,e){if(!Array.isArray(s)||s.length===0)throw new le(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T1(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r4{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return aa(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new ki(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=cr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ge(FE(r),9688,{name:e});const l=new lc(r.get(1),r.get(3)),c=new me(r.popFirst(5));return l.isEqual(n)||fs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function w1(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xr extends x1{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:It("string",Xr._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Eh extends Xr{data(e={}){return super.data(e)}}class Jr{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Yo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Yo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Yo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,x=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:a4(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}function vg(s){s=ti(s,vt);const e=ti(s.firestore,sa);return HD(gd(e),s._key).then((n=>N1(e,s,n)))}Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:It("string",Jr._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class _g extends r4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function S1(s){s=ti(s,ua);const e=ti(s.firestore,sa),n=gd(e),r=new _g(e);return E1(s._query),FD(n,s._query).then((l=>new Jr(e,r,s,l)))}function Nc(s,e,n){s=ti(s,vt);const r=ti(s.firestore,sa),l=w1(s.converter,e,n);return A1(r,[g1(fg(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,ji.none())])}function l4(s,e){const n=ti(s.firestore,sa),r=gs(s),l=w1(s.converter,e);return A1(n,[g1(fg(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ji.exists(!1))]).then((()=>r))}function o4(s,...e){s=tn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ob(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ob(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof vt)d=ti(s.firestore,sa),p=rd(s._key.path),c={next:g=>{e[r]&&e[r](N1(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=ti(s,ua);d=ti(g.firestore,sa),p=g._query;const y=new _g(d);c={next:x=>{e[r]&&e[r](new Jr(d,y,g,x))},error:e[r+1],complete:e[r+2]},E1(s._query)}return(function(y,x,E,S){const j=new ug(S),U=new lg(x,j,E);return y.asyncQueue.enqueueAndForget((async()=>sg(await Hh(y),U))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>rg(await Hh(y),U)))}})(gd(d),p,l,c)}function A1(s,e){return(function(r,l){const c=new cs;return r.asyncQueue.enqueueAndForget((async()=>DD(await BD(r),l,c))),c.promise})(gd(s),e)}function N1(s,e,n){const r=n.docs.get(e._key),l=new _g(s);return new Xr(s,l,e._key,r,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Al=l})(wl),fl(new Zr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new sa(new WC(r.getProvider("auth-internal")),new tR(d,r.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(y.options.projectId,x)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(P_,L_,e),rr(P_,L_,"esm2020")})();const c4={apiKey:"AIzaSyCWOcy6bAkEw7iD7fu13Yz0wECG2199pRY",authDomain:"safehands-37385.firebaseapp.com",projectId:"safehands-37385",storageBucket:"safehands-37385.firebasestorage.app",messagingSenderId:"940411073036",appId:"1:940411073036:web:e2004967b979b369887429",measurementId:"G-FRLSYFJ9XT"},C1=hx(c4),ha=KC(C1),zn=YD(C1),u4=async s=>{try{const n=(await jN(ha,s.email,s.password)).user;return await Nc(gs(zn,"users",n.uid),{email:n.email,name:s.name||"",role:s.role||"user",covidStatus:"negative",uid:n.uid}),{success:!0,user:{uid:n.uid,email:n.email,role:s.role||"user"}}}catch(e){return{success:!1,error:e.message}}},h4=async(s,e)=>{try{const r=(await ON(ha,s,e)).user,l=gs(zn,"users",r.uid),c=await vg(l);if(c.exists()){const d=c.data();return{success:!0,user:{uid:r.uid,email:r.email,role:d.role}}}else return{success:!1,error:"User profile not found."}}catch(n){return{success:!1,error:n.message}}},d4=async()=>{try{return await PN(ha),{success:!0}}catch(s){return{success:!1,error:s.message}}};let Qo=null;VN(ha,async s=>{if(s){const e=gs(zn,"users",s.uid),n=await vg(e);n.exists()?(Qo=n.data(),Qo.uid=s.uid):Qo={uid:s.uid,email:s.email,role:"user"}}else Qo=null});const Li=()=>Qo,Pm=({roles:s})=>{const[e,n]=P.useState(!0),[r,l]=P.useState(!1),[c,d]=P.useState(null);return P.useEffect(()=>{const p=ha.onAuthStateChanged(async g=>{if(g){const y=await Li();d(y),l(!0)}else d(null),l(!1);n(!1)});return()=>p()},[]),e?h.jsx("div",{children:"Loading authentication..."}):r?s&&s.length>0&&(!c||!s.includes(c.role))?h.jsx(s_,{to:"/",replace:!0}):h.jsx(p2,{}):h.jsx(s_,{to:"/login",replace:!0})};const f4=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m4=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Vb=s=>{const e=m4(s);return e.charAt(0).toUpperCase()+e.slice(1)},R1=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),p4=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var g4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y4=P.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>P.createElement("svg",{ref:g,...g4,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:R1("lucide",l),...!c&&!p4(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,x])=>P.createElement(y,x)),...Array.isArray(c)?c:[c]]));const De=(s,e)=>{const n=P.forwardRef(({className:r,...l},c)=>P.createElement(y4,{ref:c,iconNode:e,className:R1(`lucide-${f4(Vb(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Vb(s),n};const v4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_4=De("arrow-right",v4);const b4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],x4=De("bell",b4);const E4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Gh=De("briefcase",E4);const T4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Il=De("calendar",T4);const w4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],I1=De("circle-alert",w4);const S4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bg=De("circle-check-big",S4);const A4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],N4=De("circle-plus",A4);const C4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ys=De("clock",C4);const R4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Lm=De("eye-off",R4);const I4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dl=De("eye",I4);const D4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Dl=De("house",D4);const j4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],D1=De("layout-grid",j4);const O4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Um=De("lock",O4);const k4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pp=De("mail",k4);const M4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yh=De("map-pin",M4);const V4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],j1=De("menu",V4);const P4=[["path",{d:"M5 12h14",key:"1ays0h"}]],L4=De("minus",P4);const U4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hc=De("package",U4);const z4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],ec=De("paw-print",z4);const q4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jl=De("phone",q4);const B4=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Pb=De("pill",B4);const H4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lb=De("plus",H4);const F4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qh=De("shield-check",F4);const G4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],O1=De("shield",G4);const Y4=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],xg=De("shirt",Y4);const Q4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],k1=De("shopping-cart",Q4);const K4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Kh=De("sparkles",K4);const $4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],X4=De("square-pen",$4);const J4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],W4=De("star",J4);const Z4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ej=De("trash-2",Z4);const tj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gp=De("triangle-alert",tj);const nj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Eg=De("truck",nj);const ij=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pi=De("user",ij);const sj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M1=De("users",sj);const rj=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],yp=De("utensils",rj);const aj=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],lj=De("washing-machine",aj);const oj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cj=De("x",oj),V1=async s=>{const e=gs(zn,"users",s),n=await vg(e);return n.exists()?{id:n.id,...n.data()}:null},P1=async()=>{const s=pd(zn,"users");return(await S1(s)).docs.map(r=>({id:r.id,...r.data()}))},uj=async()=>{const s=pd(zn,"bookings");return(await S1(s)).docs.map(r=>({id:r.id,...r.data()}))},da=async s=>{try{const e=pd(zn,"bookings");return{success:!0,id:(await l4(e,s)).id}}catch(e){return{success:!1,error:e.message}}},hj=async(s,e)=>{try{const n=gs(zn,"users",s);return await Nc(n,{role:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating user role:",n),{success:!1,error:n.message}}},dj=(s,e)=>{const n=pd(zn,"bookings"),r=i4(n,s4("providerId","==",s));return o4(r,c=>{const d=c.docs.map(p=>({id:p.id,...p.data()}));e(d)},c=>{console.error("Error listening to bookings:",c),e([])})},fj=async(s,e)=>{try{const n=gs(zn,"bookings",s);return await Nc(n,{status:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating booking status:",n),{success:!1,error:n.message}}},mj=async(s,e)=>{try{const n=gs(zn,"bookings",s);return await Nc(n,{providerId:e,status:"assigned"},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating booking provider:",n),{success:!1,error:n.message}}};function pj(){const[s,e]=P.useState(""),[n,r]=P.useState(""),[l,c]=P.useState(!1),d=fc(),p=[{id:"delivery-services",name:"Delivery Services",icon:hc,color:"from-red-400 to-pink-400",bgColor:"bg-red-50",description:"Groceries, food, and parcels delivered to your door."},{id:"medication",name:"Medication Delivery",icon:Eg,color:"from-blue-400 to-indigo-400",bgColor:"bg-blue-50",description:"Any medical facility can be available from home."},{id:"covid",name:"Covid 19 Testing",icon:Qh,color:"from-yellow-400 to-amber-400",bgColor:"bg-yellow-50",description:"Test your covid status from professional covid testers"},{id:"home-cleaning",name:"Home Cleaning",icon:Kh,color:"from-green-400 to-teal-400",bgColor:"bg-green-50",description:"Professional home cleaning services."},{id:"laundry",name:"Laundry Service",icon:xg,color:"from-purple-400 to-indigo-400",bgColor:"bg-purple-50",description:"Convenient laundry and dry cleaning services."},{id:"pet-care",name:"Pet Care Services",icon:ec,color:"from-orange-400 to-amber-400",bgColor:"bg-orange-50",description:"Reliable and caring services for your beloved pets."}],g=y=>{d(`/${y}`)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative pt-20 pb-16 px-4",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob [animation-delay:2s]"}),h.jsx("div",{className:"absolute top-40 left-40 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob [animation-delay:4s]"})]}),h.jsx("div",{className:"relative max-w-7xl mx-auto",children:h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("div",{className:"inline-block mb-4",children:h.jsx("span",{className:"px-4 py-2 bg-indigo-100 text-indigo-600 rounded-full text-sm font-semibold",children:"Your Daily Essentials, Delivered with Care"})}),h.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight",children:["Welcome to",h.jsx("span",{className:"block bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"SafeHands"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-12",children:"Discover amazing features and services that await you. Your trusted partner for everyday convenience."})]})})]}),h.jsx("div",{id:"services",className:"py-16 px-4 bg-white/40",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Services"}),h.jsx("p",{className:"text-lg text-gray-600",children:"Choose from our wide range of convenient services"})]}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(y=>{const x=y.icon;return h.jsxs("div",{onClick:()=>g(y.id),className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[h.jsx("div",{className:`w-20 h-20 ${y.bgColor} rounded-full flex items-center justify-center mb-6 mx-auto group-hover:scale-110 transition-transform duration-300`,children:h.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${y.color} rounded-full flex items-center justify-center shadow-lg`,children:h.jsx(x,{className:"w-8 h-8 text-white"})})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-3",children:y.name}),h.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:y.description})]},y.id)})})]})}),h.jsx("div",{className:"py-16 px-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose SafeHands?"}),h.jsx("p",{className:"text-lg text-gray-600",children:"We're committed to providing the best service experience"})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Fast Delivery",desc:"Lightning-fast service at your doorstep. Get your essentials delivered in minutes, not hours.",icon:ys,gradient:"from-blue-500 to-cyan-500"},{title:"Secure & Safe",desc:"Your safety is our priority. Contactless delivery options and verified service providers.",icon:O1,gradient:"from-green-500 to-emerald-500"},{title:"Trusted Quality",desc:"Rated 4.8/5 by thousands of happy customers. Excellence in every delivery.",icon:W4,gradient:"from-yellow-500 to-orange-500"}].map((y,x)=>{const E=y.icon;return h.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[h.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${y.gradient} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:h.jsx(E,{className:"w-8 h-8 text-white"})}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:y.title}),h.jsx("p",{className:"text-gray-600 leading-relaxed",children:y.desc})]},x)})})]})}),h.jsx("div",{className:"py-16 px-4 bg-gradient-to-r from-indigo-600 to-purple-600",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx("div",{className:"grid md:grid-cols-4 gap-8 text-center text-white",children:[{number:"50K+",label:"Happy Customers"},{number:"100K+",label:"Deliveries Made"},{number:"500+",label:"Service Partners"},{number:"4.8/5",label:"Average Rating"}].map((y,x)=>h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"text-5xl font-bold mb-2",children:y.number}),h.jsx("div",{className:"text-lg text-indigo-100",children:y.label})]},x))})})})]})}function gj(){const s=fc(),[e,n]=P.useState("signin"),[r,l]=P.useState(!1),[c,d]=P.useState(!1),[p,g]=P.useState(!1),[y,x]=P.useState(!1),[E,S]=P.useState({email:"",password:""}),[j,U]=P.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),Q=async()=>{try{const $=await h4(E.email.trim(),E.password.trim());$.success?(x(!0),setTimeout(()=>{x(!1),$.user.role==="admin"?s("/admin"):$.user.role==="service-provider"?s("/provider-dashboard"):s("/")},1500)):alert($.error)}catch($){alert($.message)}},D=async()=>{try{if(j.password!==j.confirmPassword){alert("Passwords do not match.");return}const $=await u4({email:j.email.trim(),password:j.password.trim(),name:j.name.trim(),role:j.role});$.success?(x(!0),setTimeout(()=>{x(!1),s("/")},1500)):alert($.error)}catch($){alert($.message)}},K=$=>{U({...j,password:$.target.value})},W=$=>{n($),S({email:"",password:""}),U({name:"",email:"",password:"",confirmPassword:"",role:"user"})};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),h.jsx("div",{className:"absolute top-40 left-1/2 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),y&&h.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:h.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center space-x-3",children:[h.jsx(bg,{className:"w-6 h-6"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-lg",children:e==="signin"?"Sign in successful":"Sign up successful"}),h.jsx("div",{className:"text-sm text-green-50",children:e==="signin"?"Welcome back to SafeHands!":"You have successfully signed up."})]})]})}),h.jsx("div",{className:"relative min-h-[calc(100vh-4rem)] flex items-center justify-center px-4 py-12",children:h.jsxs("div",{className:"w-full max-w-6xl grid md:grid-cols-2 gap-12 items-center",children:[h.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-200 p-8 md:p-12",children:e==="signin"?h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Sign in to your account"}),h.jsx("p",{className:"text-gray-600",children:"Welcome back! Please enter your details."})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(pp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"email",value:E.email,onChange:$=>S({...E,email:$.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your email"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(Um,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:r?"text":"password",value:E.password,onChange:$=>S({...E,password:$.target.value}),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your password"}),h.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?h.jsx(Lm,{className:"w-5 h-5"}):h.jsx(dl,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:p,onChange:$=>g($.target.checked),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"Remember me"})]}),h.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"Forgot password?"})]}),h.jsxs("button",{onClick:Q,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[h.jsx("span",{children:"Sign in"}),h.jsx(_4,{className:"w-5 h-5"})]}),h.jsxs("p",{className:"text-center text-gray-600",children:["Don't have an account?"," ",h.jsx("button",{onClick:()=>W("signup"),className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Sign up now!"})]})]})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Create your account"}),h.jsx("p",{className:"text-gray-600",children:"Join SafeHands today and get started."})]}),h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(Pi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"text",name:"name",autoComplete:"name",value:j.name,onChange:$=>U({...j,name:$.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Full Name"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email address ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(pp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"email",name:"email",autoComplete:"email",value:j.email,onChange:$=>U({...j,email:$.target.value}),className:"w-full pl-12 pr-4 py-3 bg-indigo-50 border-2 border-indigo-100 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"email@example.com"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["I am signing up as a: ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-6",children:[h.jsxs("label",{className:"inline-flex items-center",children:[h.jsx("input",{type:"radio",name:"role",value:"user",checked:j.role==="user",onChange:$=>U({...j,role:$.target.value}),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),h.jsx("span",{className:"ml-2 text-gray-700",children:"Client"})]}),h.jsxs("label",{className:"inline-flex items-center",children:[h.jsx("input",{type:"radio",name:"role",value:"service-provider",checked:j.role==="service-provider",onChange:$=>U({...j,role:$.target.value}),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),h.jsx("span",{className:"ml-2 text-gray-700",children:"Service Provider"})]})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(Um,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:r?"text":"password",name:"new-password",autoComplete:"new-password",value:j.password,onChange:$=>K($),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your password"}),h.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?h.jsx(Lm,{className:"w-5 h-5"}):h.jsx(dl,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(Um,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:c?"text":"password",name:"new-password-confirmation",autoComplete:"new-password",value:j.confirmPassword,onChange:$=>U({...j,confirmPassword:$.target.value}),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Confirm your password"}),h.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?h.jsx(Lm,{className:"w-5 h-5"}):h.jsx(dl,{className:"w-5 h-5"})})]})]}),h.jsx("button",{onClick:D,disabled:!j.name||!j.email||!j.password||j.password!==j.confirmPassword,className:"w-full py-3 bg-gradient-to-r from-blue-400 to-cyan-500 text-white font-bold rounded-xl hover:from-blue-500 hover:to-cyan-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl",children:"Create Account"}),h.jsxs("p",{className:"text-center text-gray-600",children:["Already a user?"," ",h.jsx("button",{onClick:()=>W("signin"),className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Sign in instead!"})]})]})]})}),h.jsx("div",{className:"hidden md:block",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-3xl blur-3xl"}),h.jsxs("div",{className:"relative bg-white/60 backdrop-blur-sm rounded-3xl p-8 border border-gray-200 shadow-2xl",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&auto=format&fit=crop",alt:"Professional workspace",className:"w-full h-[600px] object-cover rounded-2xl shadow-lg"}),h.jsxs("div",{className:"absolute bottom-12 left-12 right-12 bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join SafeHands Today"}),h.jsx("p",{className:"text-gray-600",children:"Experience seamless service delivery with our trusted platform. Your safety and convenience are our top priorities."})]})]})]})})]})})]})}function yj(){const[s,e]=P.useState(null),[n,r]=P.useState(!1),[l,c]=P.useState(null),[d,p]=P.useState(!0),[g,y]=P.useState("");P.useEffect(()=>{const U=ha.onAuthStateChanged(async Q=>{if(Q)try{const D=await V1(Q.uid);e(D),c(D),p(!1)}catch(D){console.error("Error fetching user profile:",D),y("Failed to load profile."),p(!1)}else p(!1)});return()=>U()},[]);const x=U=>{c({...l,[U.target.name]:U.target.value})},E=U=>{const Q=U.target.value;c({...l,quarantineStatus:Q,quarantineStartDate:Q==="active"?new Date().toISOString().split("T")[0]:"",quarantineEndDate:Q==="active"?new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0]:""})},S=async U=>{U.preventDefault(),p(!0),y("");try{if(s&&s.id){const Q=gs(zn,"users",s.id);await Nc(Q,l,{merge:!0}),e(l),r(!1),alert("Profile updated successfully!")}}catch(Q){console.error("Error updating profile:",Q),y("Failed to update profile."),alert("Failed to update profile: "+Q.message)}finally{p(!1)}},j=U=>{switch(U){case"active":return"bg-red-100 text-red-800 border-red-200";case"completed":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return d?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading profile..."}):g?h.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:g}):s?h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-white",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:h.jsx(Pi,{size:40,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:s.name||"User Name"}),h.jsx("p",{className:"text-blue-100",children:s.email||"user@example.com"})]})]})}),s.covidStatus==="positive"&&h.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-4 flex items-start gap-3",children:[h.jsx(I1,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"text-red-800 font-semibold",children:"Active Quarantine"}),h.jsx("p",{className:"text-red-700 text-sm",children:"Your status is positive. Please follow health guidelines."})]})]}),h.jsx("div",{className:"p-6",children:n?h.jsxs("form",{onSubmit:S,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Full Name"}),h.jsx("input",{type:"text",name:"name",value:l.name||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Phone"}),h.jsx("input",{type:"tel",name:"phone",value:l.phone||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email"}),h.jsx("input",{type:"email",name:"email",value:l.email||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Address"}),h.jsx("textarea",{name:"address",value:l.address||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"COVID Status"}),h.jsxs("select",{name:"covidStatus",value:l.covidStatus||"negative",onChange:E,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"negative",children:"Negative"}),h.jsx("option",{value:"positive",children:"Positive"})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Changes"}),h.jsx("button",{type:"button",onClick:()=>{r(!1),c(s)},className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400 transition",children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Personal Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[h.jsx(Pi,{size:20,className:"text-gray-600"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),h.jsx("p",{className:"font-semibold",children:s.name||"Not set"})]})]}),h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[h.jsx(jl,{size:20,className:"text-gray-600"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),h.jsx("p",{className:"font-semibold",children:s.phone||"Not set"})]})]}),h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[h.jsx(pp,{size:20,className:"text-gray-600"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),h.jsx("p",{className:"font-semibold",children:s.email||"Not set"})]})]}),h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[h.jsx(Yh,{size:20,className:"text-gray-600"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),h.jsx("p",{className:"font-semibold",children:s.address||"Not set"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"COVID Status"}),h.jsxs("div",{className:`p-4 rounded-lg border ${j(s.covidStatus)}`,children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(O1,{size:20}),h.jsx("p",{className:"font-semibold text-lg capitalize",children:s.covidStatus||"None"})]}),s.covidStatus==="positive"&&h.jsx("div",{className:"space-y-1 mt-3",children:h.jsx("p",{className:"text-sm",children:"You are advised to self-isolate."})})]})]}),h.jsx("button",{onClick:()=>r(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Edit Profile"})]})})]})})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"No user profile found."})}const vj=[{id:"SP001",name:"CleanSweep Services",serviceType:"Home Cleaning",status:"Active",contact:"clean@example.com"},{id:"SP002",name:"QuickWash Laundry",serviceType:"Laundry Service",status:"Active",contact:"wash@example.com"},{id:"SP003",name:"MediDeliver Pharmacy",serviceType:"Medication Delivery",status:"Active",contact:"medi@example.com"},{id:"SP004",name:"PetPals Care",serviceType:"Pet Care Services",status:"Active",contact:"pet@example.com"},{id:"SP005",name:"FastTrack Logistics",serviceType:"Parcel Delivery",status:"Active",contact:"fast@example.com"},{id:"SP006",name:"GourmetGo Foods",serviceType:"Food Delivery",status:"Inactive",contact:"gourmet@example.com"}];function _j(){const[s,e]=P.useState(vj),n=c=>{alert(`Viewing provider: ${c.name}
Service: ${c.serviceType}
Status: ${c.status}
Contact: ${c.contact}`),console.log("View provider:",c)},r=c=>{alert(`Editing provider: ${c.name}
(Details for editing would go here)`),console.log("Edit provider:",c)},l=()=>{alert("Adding a new service provider (form would appear here)"),console.log("Add new provider")};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Service Provider Management"}),h.jsxs("button",{onClick:l,className:"bg-indigo-600 text-white sm:px-3 sm:py-1 lg:px-4 lg:py-2 rounded-lg hover:bg-indigo-700 transition flex items-center space-x-2",children:[h.jsx(N4,{size:18}),h.jsx("span",{children:"Add New Provider"})]})]}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Name"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service Type"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Contact"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Status"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(c=>h.jsxs("tr",{children:[h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900 truncate",children:c.name}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:c.serviceType}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:c.contact}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.status==="Active"?"bg-green-100 text-green-800":c.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})}),h.jsxs("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:[h.jsx("button",{onClick:()=>n(c),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"View Provider",children:h.jsx(dl,{size:18})}),h.jsx("button",{onClick:()=>r(c),className:"text-green-600 hover:text-green-900",title:"Edit Provider",children:h.jsx(X4,{size:18})})]})]},c.id))})]})})]})}const Ub=({setActiveTab:s,usersCount:e,requestsCount:n,pendingRequestsCount:r,completedRequestsCount:l,serviceProvidersCount:c,loading:d})=>h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Dashboard Overview"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[h.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("users"),children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Users"}),h.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:d?"...":e})]}),h.jsx(M1,{size:48,className:"text-indigo-400 opacity-50"})]}),h.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("requests"),children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Requests"}),h.jsx("p",{className:"text-3xl font-bold text-blue-600",children:d?"...":n})]}),h.jsx(Gh,{size:48,className:"text-blue-400 opacity-50"})]}),h.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("requests"),children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending Requests"}),h.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:d?"...":r})]}),h.jsx(ys,{size:48,className:"text-yellow-400 opacity-50"})]}),h.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("requests"),children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed Requests"}),h.jsx("p",{className:"text-3xl font-bold text-purple-600",children:d?"...":l})]}),h.jsx(bg,{size:48,className:"text-purple-400 opacity-50"})]}),h.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("providers"),children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Service Providers"}),h.jsx("p",{className:"text-3xl font-bold text-orange-600",children:d?"...":c})]}),h.jsx(D1,{size:48,className:"text-orange-400 opacity-50"})]})]})]}),bj=({users:s,setUsers:e,loading:n})=>{const r=Li(),l=async(d,p)=>{if(!window.confirm(`Are you sure you want to change this user's role to ${p}?`))return;const g=await hj(d,p);g.success?(e(s.map(y=>y.uid===d?{...y,role:p}:y)),alert("User role updated successfully!")):alert(`Failed to update user role: ${g.error}`)},c=d=>{alert(`Viewing user: ${d.name||d.email}
Email: ${d.email}
Role: ${d.role}`),console.log("View user:",d)};return n?h.jsx("div",{className:"text-center",children:"Loading users..."}):!s||s.length===0?h.jsx("div",{className:"text-center",children:"No users found."}):h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-between items-center mb-4",children:h.jsx("h2",{className:"text-2xl font-bold",children:"User Management"})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Name"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Email"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Role"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Status"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(d=>h.jsxs("tr",{children:[" ",h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900",children:d.name||"N/A"}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:d.email}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500",children:h.jsxs("select",{value:d.role,onChange:p=>l(d.uid,p.target.value),className:"p-1 border rounded-md",disabled:d.uid===r?.uid,children:[h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"service-provider",children:"Service Provider"}),h.jsx("option",{value:"admin",children:"Admin"})]})}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d.covidStatus==="positive"?"bg-red-100 text-red-800":d.covidStatus==="negative"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:d.covidStatus})}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:h.jsx("button",{onClick:()=>c(d),className:"text-indigo-600 hover:text-indigo-900",title:"View User",children:h.jsx(dl,{size:18})})})]},d.uid))})]})})]})},xj=({requests:s,loading:e})=>{const[n,r]=P.useState(s),[l,c]=P.useState([]),[d,p]=P.useState(!0);P.useEffect(()=>{r(s)},[s]),P.useEffect(()=>{(async()=>{p(!0);const S=(await P1()).filter(j=>j.role==="service-provider"||j.role==="pending-provider");c(S),p(!1)})()},[]);const g=x=>{alert(`Viewing request ${x.id}:
Service: ${x.serviceType}
User: ${x.userName}
Status: ${x.status}
Provider: ${l.find(E=>E.uid===x.providerId)?.name||x.providerId||"Unassigned"}`),console.log("View request details:",x)},y=async(x,E)=>{const S=l.find(U=>U.uid===E)?.name||E;if(!window.confirm(`Are you sure you want to assign this booking to ${S}?`))return;const j=await mj(x,E);j.success?(r(n.map(U=>U.id===x?{...U,providerId:E,status:"assigned"}:U)),alert("Provider assigned successfully!")):alert(`Failed to assign provider: ${j.error}`)};return e||d?h.jsx("div",{className:"text-center",children:"Loading service requests..."}):!n||n.length===0?h.jsx("div",{className:"text-center",children:"No service requests found."}):h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-between items-center mb-4",children:h.jsx("h2",{className:"text-2xl font-bold",children:"Service Requests"})}),h.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12",children:"Request ID"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service Type"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"User"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Provider"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Status"}),h.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(x=>h.jsxs("tr",{children:[h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900",children:x.id}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:x.serviceType}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:x.userName}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500",children:x.providerId&&x.providerId!=="DUMMY_PROVIDER_UID_FOR_TESTING"&&x.providerId!=="unassigned"?l.find(E=>E.uid===x.providerId)?.name||"Assigned":h.jsxs("select",{value:x.providerId==="DUMMY_PROVIDER_UID_FOR_TESTING"?"unassigned":x.providerId||"unassigned",onChange:E=>y(x.id,E.target.value),className:"p-1 border rounded-md",disabled:d||x.status!=="confirmed",children:[h.jsx("option",{value:"unassigned",children:"Assign Provider"}),l.map(E=>h.jsx("option",{value:E.uid,children:E.name||E.email},E.uid))]})}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.status==="confirmed"?"bg-blue-100 text-blue-800":x.status==="assigned"?"bg-yellow-100 text-yellow-800":x.status==="Completed"?"bg-green-100 text-green-800":x.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status})}),h.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:h.jsx("button",{onClick:()=>g(x),className:"text-indigo-600 hover:text-indigo-900",title:"View Details",children:h.jsx(dl,{size:18})})})]},x.id))})]})})]})};function Ej(){const[s,e]=P.useState("home"),[n,r]=P.useState(!1),[l,c]=P.useState([]),[d,p]=P.useState([]),[g,y]=P.useState(!0),[x,E]=P.useState(null),[S,j]=P.useState(0),[U,Q]=P.useState(0),[D,K]=P.useState(0);P.useEffect(()=>{(async()=>{try{const de=await P1();c(de);const be=await uj();p(be);const C=be.filter(M=>M.status==="confirmed"||M.status==="assigned").length,A=be.filter(M=>M.status==="completed").length,N=de.filter(M=>M.role==="service-provider"||M.role==="pending-provider").length;j(C),Q(A),K(N)}catch(de){console.error("Error fetching admin data:",de),E("Failed to load admin data.")}finally{y(!1)}})()},[]);const W=()=>{r(!n)},$=()=>{switch(s){case"home":return h.jsx(Ub,{setActiveTab:e,usersCount:l.length,requestsCount:d.length,pendingRequestsCount:S,completedRequestsCount:U,serviceProvidersCount:D,loading:g});case"users":return h.jsx(bj,{users:l,setUsers:c,loading:g});case"requests":return h.jsx(xj,{requests:d,loading:g});case"providers":return h.jsx(_j,{});default:return h.jsx(Ub,{setActiveTab:e,usersCount:l.length,requestsCount:d.length,loading:g})}};return g?h.jsx("div",{className:"text-center p-8",children:"Loading Admin Dashboard..."}):x?h.jsx("div",{className:"text-center p-8 text-red-600",children:x}):h.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[n&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:W}),h.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-md transform ${n?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 md:w-64 transition-transform duration-200 ease-in-out`,children:[h.jsx("div",{className:"p-6",children:h.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Admin"})}),h.jsx("nav",{children:h.jsxs("ul",{children:[h.jsx(uh,{icon:Dl,text:"Dashboard",activeTab:s,setActiveTab:e,tabName:"home",toggleSidebar:W}),h.jsx(uh,{icon:M1,text:"Users",activeTab:s,setActiveTab:e,tabName:"users",toggleSidebar:W}),h.jsx(uh,{icon:Gh,text:"Service Requests",activeTab:s,setActiveTab:e,tabName:"requests",toggleSidebar:W}),h.jsx(uh,{icon:D1,text:"Service Providers",activeTab:s,setActiveTab:e,tabName:"providers",toggleSidebar:W})]})})]}),h.jsxs("main",{className:`flex-1 p-6 ${n?"hidden":"block"}`,children:[h.jsxs("header",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),h.jsx("button",{className:"md:hidden p-2",onClick:W,children:h.jsx(j1,{size:24})}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(x4,{}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:"Admin User"}),h.jsx("p",{className:"text-sm text-gray-500",children:"admin@safehands.com"})]})]})]}),$()]})]})}const uh=({icon:s,text:e,activeTab:n,setActiveTab:r,tabName:l,toggleSidebar:c})=>{const d=()=>{r(l),window.innerWidth<768&&c()};return h.jsxs("li",{className:`p-4 cursor-pointer flex items-center ${n===l?"bg-indigo-100 text-indigo-600":""}`,onClick:d,children:[s&&h.jsx(s,{className:"mr-3"}),e]})};function Tj({children:s}){const[e,n]=P.useState(!1),[r,l]=P.useState(null),[c,d]=P.useState(!0),p=fc();P.useEffect(()=>{const y=ha.onAuthStateChanged(async x=>{if(console.log("[Layout Debug] Auth state changed. Firebase user:",x),d(!0),x){const E=await V1(x.uid);console.log("[Layout Debug] Fetched user profile:",E),l(E)}else console.log("[Layout Debug] No user logged in."),l(null);d(!1)});return()=>y()},[]);const g=async()=>{await d4(),p("/login")};return c?h.jsx("div",{children:"Loading User..."}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[h.jsxs("nav",{className:"sticky top-0 w-full z-50 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center space-x-3 relative z-20",children:h.jsxs(ss,{to:r&&r.role==="admin"?"/admin":r&&r.role==="service-provider"?"/provider-dashboard":"/",className:"flex items-center space-x-3 focus:outline-none group",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200",children:h.jsx(hc,{className:"w-6 h-6 text-white"})}),h.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent group-hover:text-indigo-800 transition-colors duration-200",children:"SafeHands"})]})}),h.jsxs("div",{className:"hidden md:flex items-center space-x-3 relative z-20",children:[r?h.jsxs(h.Fragment,{children:[h.jsx(ss,{to:"/profile",className:"text-gray-700 hover:text-indigo-600 font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Profile"}),h.jsx("button",{onClick:g,className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Logout"})]}):h.jsx(ss,{to:"/login",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Login/Sign Up"}),h.jsx(ss,{to:"/contact-tracing",className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Contact Tracing"})]}),h.jsx("button",{className:"md:hidden text-gray-700 relative z-20",onClick:()=>n(!e),children:e?h.jsx(cj,{className:"w-6 h-6"}):h.jsx(j1,{className:"w-6 h-6"})})]})}),e&&h.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 py-3 px-4 space-y-2 relative z-10",children:[r?h.jsxs(h.Fragment,{children:[h.jsx(ss,{to:"/profile",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>n(!1),children:"Profile"}),h.jsx("button",{onClick:()=>{g(),n(!1)},className:"block w-full text-left py-2 px-3 rounded-lg text-red-700 hover:bg-red-50",children:"Logout"})]}):h.jsx(ss,{to:"/login",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>n(!1),children:"Login/Sign Up"}),h.jsx(ss,{to:"/contact-tracing",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600",onClick:()=>n(!1),children:"Contact Tracing"})]})]}),h.jsx("main",{className:"p-4 md:p-8",children:s}),h.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx(hc,{className:"w-6 h-6 text-white"})}),h.jsx("span",{className:"text-2xl font-bold",children:"SafeHands"})]}),h.jsx("p",{className:"text-gray-400 mb-6",children:"Your trusted partner for everyday services"}),h.jsxs("div",{className:"flex justify-center space-x-6 text-gray-400",children:[h.jsx("a",{href:"#",className:"hover:text-white transition",children:"Privacy Policy"}),h.jsx("a",{href:"#",className:"hover:text-white transition",children:"Terms of Service"}),h.jsx("a",{href:"#",className:"hover:text-white transition",children:"Contact Us"})]}),h.jsx("p",{className:"text-gray-500 mt-8",children:" 2025 SafeHands. All rights reserved."})]})})]})}function wj(){const[s,e]=P.useState("checkin"),[n,r]=P.useState([]),[l,c]=P.useState([]),[d,p]=P.useState({locationName:"",locationType:"restaurant",address:"",visitDate:"",visitTime:"",duration:"30",peopleCount:"1"}),[g,y]=P.useState({testDate:"",testResult:"positive",symptomsStartDate:"",isolationStatus:"yes"});P.useEffect(()=>{x()},[]);const x=()=>{const D=JSON.parse(localStorage.getItem("checkIns")||"[]"),K=JSON.parse(localStorage.getItem("exposures")||"[]");r(D),c(K)},E=D=>{D.preventDefault();const K={id:Date.now(),...d,createdAt:new Date().toISOString(),user:JSON.parse(localStorage.getItem("user")||"{}").email},W=[...n,K];localStorage.setItem("checkIns",JSON.stringify(W)),r(W),j(K),alert("Location check-in recorded successfully!"),p({locationName:"",locationType:"restaurant",address:"",visitDate:"",visitTime:"",duration:"30",peopleCount:"1"})},S=D=>{D.preventDefault();const K=JSON.parse(localStorage.getItem("user")||"{}"),W={id:Date.now(),...g,reportedBy:K.email,reportedAt:new Date().toISOString()},$=[...l,W];localStorage.setItem("exposures",JSON.stringify($)),c($),K.quarantineStatus="active",K.quarantineStartDate=g.testDate,K.quarantineEndDate=new Date(new Date(g.testDate).getTime()+336*60*60*1e3).toISOString().split("T")[0],localStorage.setItem("user",JSON.stringify(K)),U(W),alert("Exposure reported. Contacts will be notified. Please follow quarantine guidelines."),y({testDate:"",testResult:"positive",symptomsStartDate:"",isolationStatus:"yes"})},j=D=>{const K=JSON.parse(localStorage.getItem("exposures")||"[]"),W=JSON.parse(localStorage.getItem("checkIns")||"[]");K.forEach($=>{const ye=new Date($.testDate);new Date(D.visitDate),W.forEach(de=>{de.user!==D.user&&de.locationName===D.locationName&&Math.abs(new Date(de.visitDate)-ye)<1440*60*1e3&&console.log("Potential exposure detected at:",D.locationName)})})},U=D=>{const K=JSON.parse(localStorage.getItem("checkIns")||"[]"),W=new Date(D.testDate),$=K.filter(ye=>{const de=new Date(ye.visitDate),be=(W-de)/(1e3*60*60*24);return be>=0&&be<=14&&ye.user===D.reportedBy});console.log(`Notifying ${$.length} potential contacts`)},Q=()=>{const D=JSON.parse(localStorage.getItem("user")||"{}"),K=n.filter($=>$.user===D.email);let W=[];return l.forEach($=>{const ye=new Date($.testDate);K.forEach(de=>{const C=(new Date(de.visitDate)-ye)/(1e3*60*60*24);C>=-14&&C<=0&&W.push({location:de.locationName,date:de.visitDate,riskLevel:C>=-7?"high":"medium"})})}),W};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(Yh,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manual Contact Tracing"}),h.jsx("p",{className:"text-gray-600",children:"Track your visits and report exposures"})]})]}),Q().length>0&&h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[h.jsx(gp,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"text-yellow-800 font-semibold",children:"Potential Exposure Detected"}),h.jsx("p",{className:"text-yellow-700 text-sm",children:"You may have visited a location where a positive case was reported. Please monitor symptoms and consider testing."})]})]}),h.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[h.jsx("button",{onClick:()=>e("checkin"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="checkin"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Location Check-In"}),h.jsx("button",{onClick:()=>e("report"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="report"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Report Exposure"}),h.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"My History"})]}),s==="checkin"&&h.jsxs("form",{onSubmit:E,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Location Name"}),h.jsx("input",{type:"text",value:d.locationName,onChange:D=>p({...d,locationName:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., City Mall, Green Park",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Location Type"}),h.jsxs("select",{value:d.locationType,onChange:D=>p({...d,locationType:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"restaurant",children:"Restaurant"}),h.jsx("option",{value:"grocery",children:"Grocery Store"}),h.jsx("option",{value:"pharmacy",children:"Pharmacy"}),h.jsx("option",{value:"park",children:"Park"}),h.jsx("option",{value:"mall",children:"Shopping Mall"}),h.jsx("option",{value:"office",children:"Office"}),h.jsx("option",{value:"other",children:"Other"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Address"}),h.jsx("input",{type:"text",value:d.address,onChange:D=>p({...d,address:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Visit Date"}),h.jsx("input",{type:"date",value:d.visitDate,onChange:D=>p({...d,visitDate:D.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Visit Time"}),h.jsx("input",{type:"time",value:d.visitTime,onChange:D=>p({...d,visitTime:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Duration (minutes)"}),h.jsx("input",{type:"number",value:d.duration,onChange:D=>p({...d,duration:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition",children:"Record Check-In"})]}),s==="report"&&h.jsxs("form",{onSubmit:S,className:"space-y-4",children:[h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(I1,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"text-red-800 font-semibold",children:"Report Positive COVID-19 Test"}),h.jsx("p",{className:"text-red-700 text-sm",children:"This will notify people who may have been in contact with you. All information is kept confidential."})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Test Date"}),h.jsx("input",{type:"date",value:g.testDate,onChange:D=>y({...g,testDate:D.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Test Result"}),h.jsxs("select",{value:g.testResult,onChange:D=>y({...g,testResult:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[h.jsx("option",{value:"positive",children:"Positive"}),h.jsx("option",{value:"presumed-positive",children:"Presumed Positive"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"When did symptoms start? (Optional)"}),h.jsx("input",{type:"date",value:g.symptomsStartDate,onChange:D=>y({...g,symptomsStartDate:D.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Are you in isolation?"}),h.jsxs("select",{value:g.isolationStatus,onChange:D=>y({...g,isolationStatus:D.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[h.jsx("option",{value:"yes",children:"Yes, I am isolating"}),h.jsx("option",{value:"no",children:"No, not yet"})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition",children:"Submit Exposure Report"})]}),s==="history"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(ys,{size:20,className:"text-blue-500"}),"Recent Check-Ins"]}),n.length===0?h.jsx("p",{className:"text-gray-500 text-center py-8",children:"No check-ins recorded yet"}):h.jsx("div",{className:"space-y-3",children:n.slice(-10).reverse().map(D=>h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:D.locationName}),h.jsx("p",{className:"text-sm text-gray-600 capitalize",children:D.locationType})]}),h.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[D.duration," mins"]})]}),h.jsx("p",{className:"text-sm text-gray-600",children:D.address}),h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[D.visitDate," at ",D.visitTime]})]},D.id))})]}),Q().length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(gp,{size:20,className:"text-yellow-500"}),"Potential Exposures"]}),h.jsx("div",{className:"space-y-3",children:Q().map((D,K)=>h.jsx("div",{className:`p-4 rounded-lg border ${D.riskLevel==="high"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:D.location}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",D.date]})]}),h.jsxs("span",{className:`text-xs px-2 py-1 rounded font-semibold ${D.riskLevel==="high"?"bg-red-200 text-red-800":"bg-yellow-200 text-yellow-800"}`,children:[D.riskLevel.toUpperCase()," RISK"]})]})},K))})]})]})]})})})}const Sj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function zb(){const[s,e]=P.useState([]),[n,r]=P.useState({name:"",quantity:1,unit:"kg"}),[l,c]=P.useState(""),[d,p]=P.useState(""),[g,y]=P.useState(""),x=()=>{n.name&&(e([...s,{...n,id:Date.now()}]),r({name:"",quantity:1,unit:"kg"}))},E=U=>{e(s.filter(Q=>Q.id!==U))},S=(U,Q)=>{e(s.map(D=>D.id===U?{...D,quantity:Math.max(1,D.quantity+Q)}:D))},j=async U=>{if(U.preventDefault(),s.length===0){alert("Please add at least one item");return}const Q=Li();if(!Q){alert("You must be logged in to book a delivery.");return}const K={clientId:Q.uid,userName:Q.name||Q.email,providerId:"DUMMY_PROVIDER_UID_FOR_TESTING",serviceType:"Grocery Delivery",bookingDate:new Date(d),contactToken:Sj(),status:"confirmed",details:{items:s,deliveryAddress:l,notes:g}},W=await da(K);W.success?(alert("Grocery delivery booked successfully!"),e([]),c(""),p(""),y("")):alert(`Failed to book delivery: ${W.error}`)};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(k1,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grocery Delivery"}),h.jsx("p",{className:"text-gray-600",children:"Add items and delivery details"})]})]}),h.jsxs("form",{onSubmit:j,className:"space-y-6",children:[h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Items"}),h.jsxs("div",{className:"flex gap-2 mb-4",children:[h.jsx("input",{type:"text",placeholder:"Item name",value:n.name,onChange:U=>r({...n,name:U.target.value}),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),h.jsx("input",{type:"number",min:"1",value:n.quantity,onChange:U=>r({...n,quantity:parseInt(U.target.value)}),className:"w-20 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),h.jsxs("select",{value:n.unit,onChange:U=>r({...n,unit:U.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[h.jsx("option",{value:"kg",children:"kg"}),h.jsx("option",{value:"g",children:"g"}),h.jsx("option",{value:"L",children:"L"}),h.jsx("option",{value:"pcs",children:"pcs"})]}),h.jsx("button",{type:"button",onClick:x,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition",children:h.jsx(Lb,{size:20})})]}),s.length>0&&h.jsx("div",{className:"space-y-2",children:s.map(U=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[h.jsx("span",{className:"font-medium",children:U.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{type:"button",onClick:()=>S(U.id,-1),className:"p-1 hover:bg-gray-200 rounded",children:h.jsx(L4,{size:16})}),h.jsxs("span",{className:"font-semibold",children:[U.quantity," ",U.unit]}),h.jsx("button",{type:"button",onClick:()=>S(U.id,1),className:"p-1 hover:bg-gray-200 rounded",children:h.jsx(Lb,{size:16})}),h.jsx("button",{type:"button",onClick:()=>E(U.id),className:"p-1 hover:bg-red-100 rounded text-red-600 ml-2",children:h.jsx(ej,{size:16})})]})]},U.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),h.jsx("textarea",{value:l,onChange:U=>c(U.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:"3",required:!0,placeholder:"Enter your delivery address"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),h.jsx("input",{type:"date",value:d,onChange:U=>p(U.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Additional Notes (Optional)"}),h.jsx("textarea",{value:g,onChange:U=>y(U.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:"3",placeholder:"Special instructions or preferences"})]}),h.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition",children:"Book Grocery Delivery"})]})]})})})}const Aj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Nj(){const[s,e]=P.useState({customerName:"",contactNumber:"",deliveryAddress:"",preferredDate:"",preferredTime:"",cuisinePreference:"any",notes:""}),n=l=>{const{name:c,value:d}=l.target;e({...s,[c]:d})},r=async l=>{l.preventDefault();const c=Li();if(!c){alert("You must be logged in to order food delivery.");return}const d="DUMMY_PROVIDER_UID_FOR_TESTING",p=new Date(`${s.preferredDate}T${s.preferredTime}`),g={clientId:c.uid,userName:c.name||c.email,providerId:d,serviceType:"Food Delivery",bookingDate:p,contactToken:Aj(),status:"confirmed",details:{customerName:s.customerName,contactNumber:s.contactNumber,deliveryAddress:s.deliveryAddress,cuisinePreference:s.cuisinePreference,notes:s.notes}},y=await da(g);y.success?(alert("Food delivery order placed successfully!"),e({customerName:"",contactNumber:"",deliveryAddress:"",preferredDate:"",preferredTime:"",cuisinePreference:"any",notes:""})):alert(`Failed to place order: ${y.error}`)};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(yp,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Food Delivery Request"}),h.jsx("p",{className:"text-gray-600",children:"Order your favorite food from local restaurants."})]})]}),h.jsxs("form",{onSubmit:r,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"customerName",name:"customerName",value:s.customerName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Enter your full name",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),h.jsxs("div",{className:"relative",children:[h.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:s.contactNumber,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"e.g., +1234567890",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("textarea",{id:"deliveryAddress",name:"deliveryAddress",value:s.deliveryAddress,onChange:n,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Enter full address for food delivery",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),h.jsxs("div",{className:"relative",children:[h.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:s.preferredDate,onChange:n,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Time"}),h.jsxs("div",{className:"relative",children:[h.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:s.preferredTime,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"cuisinePreference",className:"block text-sm font-semibold mb-2",children:"Cuisine Preference"}),h.jsxs("select",{id:"cuisinePreference",name:"cuisinePreference",value:s.cuisinePreference,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[h.jsx("option",{value:"any",children:"Any / No Preference"}),h.jsx("option",{value:"italian",children:"Italian"}),h.jsx("option",{value:"chinese",children:"Chinese"}),h.jsx("option",{value:"indian",children:"Indian"}),h.jsx("option",{value:"mexican",children:"Mexican"}),h.jsx("option",{value:"fast-food",children:"Fast Food"}),h.jsx("option",{value:"other",children:"Other"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions / Dietary Needs (Optional)"}),h.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:n,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"e.g., allergies, delivery instructions, restaurant preference"})]}),h.jsxs("button",{type:"submit",className:"w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition flex items-center justify-center space-x-2",children:[h.jsx(yp,{size:20}),h.jsx("span",{children:"Order Food"})]})]})]})})})}const Cj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Rj(){const s={senderName:"",senderPhone:"",senderAddress:"",recipientName:"",recipientPhone:"",recipientAddress:"",packageType:"document",packageWeight:"",packageValue:"",deliverySpeed:"standard",pickupDate:"",pickupTime:"",specialHandling:[],description:"",insurance:!1},[e,n]=P.useState(s),r=g=>{const{name:y,value:x,type:E,checked:S}=g.target;n({...e,[y]:E==="checkbox"?S:x})},l=g=>{const y=e.specialHandling.includes(g)?e.specialHandling.filter(x=>x!==g):[...e.specialHandling,g];n({...e,specialHandling:y})},c=()=>{let g=5.99;return e.packageType==="small"&&(g=8.99),e.packageType==="medium"&&(g=12.99),e.packageType==="large"&&(g=19.99),e.deliverySpeed==="express"&&(g*=1.5),e.deliverySpeed==="overnight"&&(g*=2),e.insurance&&(g+=3.99),g.toFixed(2)},d=async g=>{g.preventDefault();const y=Li();if(!y){alert("You must be logged in to book a delivery.");return}const x="DUMMY_PROVIDER_UID_FOR_TESTING",E=new Date(`${e.pickupDate}T${e.pickupTime.split("-")[0]}`),S={clientId:y.uid,userName:y.name||y.email,providerId:x,serviceType:"Parcel Delivery",bookingDate:E,contactToken:Cj(),status:"confirmed",details:{...e,estimatedCost:c()}},j=await da(S);j.success?(alert("Parcel delivery booked successfully!"),n(s)):alert(`Failed to book delivery: ${j.error}`)},p=["Fragile","Keep Upright","Keep Dry","Temperature Sensitive"];return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(hc,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Parcel Delivery"}),h.jsx("p",{className:"text-gray-600",children:"Send parcels with contactless pickup and delivery"})]})]}),h.jsxs("form",{onSubmit:d,className:"space-y-6",children:[h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Yh,{className:"text-purple-500",size:20}),h.jsx("h2",{className:"text-lg font-semibold",children:"Sender Information"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Sender Name"}),h.jsx("input",{type:"text",name:"senderName",value:e.senderName,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Sender Phone"}),h.jsx("input",{type:"tel",name:"senderPhone",value:e.senderPhone,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Address"}),h.jsx("textarea",{name:"senderAddress",value:e.senderAddress,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:"3",required:!0})]})]}),h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Yh,{className:"text-purple-500",size:20}),h.jsx("h2",{className:"text-lg font-semibold",children:"Recipient Information"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Recipient Name"}),h.jsx("input",{type:"text",name:"recipientName",value:e.recipientName,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Recipient Phone"}),h.jsx("input",{type:"tel",name:"recipientPhone",value:e.recipientPhone,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),h.jsx("textarea",{name:"recipientAddress",value:e.recipientAddress,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:"3",required:!0})]})]}),h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Package Details"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Package Type"}),h.jsxs("select",{name:"packageType",value:e.packageType,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[h.jsx("option",{value:"document",children:"Document (Envelope)"}),h.jsx("option",{value:"small",children:"Small Package (up to 5kg)"}),h.jsx("option",{value:"medium",children:"Medium Package (5-15kg)"}),h.jsx("option",{value:"large",children:"Large Package (15-30kg)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Weight (kg)"}),h.jsx("input",{type:"number",name:"packageWeight",value:e.packageWeight,onChange:r,step:"0.1",min:"0.1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Declared Value ($)"}),h.jsx("input",{type:"number",name:"packageValue",value:e.packageValue,onChange:r,step:"0.01",min:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Speed"}),h.jsxs("select",{name:"deliverySpeed",value:e.deliverySpeed,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[h.jsx("option",{value:"standard",children:"Standard (3-5 days)"}),h.jsx("option",{value:"express",children:"Express (1-2 days)"}),h.jsx("option",{value:"overnight",children:"Overnight (Next day)"})]})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Package Description"}),h.jsx("textarea",{name:"description",value:e.description,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2",placeholder:"Brief description of contents",required:!0})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Special Handling"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:p.map(g=>h.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded cursor-pointer hover:bg-gray-50",children:[h.jsx("input",{type:"checkbox",checked:e.specialHandling.includes(g),onChange:()=>l(g),className:"w-4 h-4 text-purple-500"}),h.jsx("span",{className:"text-sm",children:g})]},g))})]}),h.jsx("div",{className:"mt-4",children:h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",name:"insurance",checked:e.insurance,onChange:r,className:"w-4 h-4 text-purple-500"}),h.jsx("span",{className:"text-sm font-semibold",children:"Add Insurance Coverage (+$3.99)"})]})})]}),h.jsxs("div",{className:"border rounded-lg p-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pickup Schedule"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Date"}),h.jsx("input",{type:"date",name:"pickupDate",value:e.pickupDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Time"}),h.jsxs("select",{name:"pickupTime",value:e.pickupTime,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[h.jsx("option",{value:"",children:"Select time slot"}),h.jsx("option",{value:"09:00-12:00",children:"9:00 AM - 12:00 PM"}),h.jsx("option",{value:"12:00-15:00",children:"12:00 PM - 3:00 PM"}),h.jsx("option",{value:"15:00-18:00",children:"3:00 PM - 6:00 PM"})]})]})]})]}),h.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"font-semibold",children:"Estimated Cost:"}),h.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["$",c()]})]}),h.jsx("p",{className:"text-sm text-gray-600",children:"Final cost may vary based on actual weight and dimensions"})]}),h.jsx("button",{type:"submit",className:"w-full bg-purple-500 text-white py-3 rounded-lg font-semibold hover:bg-purple-600 transition",children:"Book Parcel Delivery"})]})]})})})}function Ij(){const[s,e]=P.useState("grocery"),n=()=>{switch(s){case"grocery":return h.jsx(zb,{});case"food":return h.jsx(Nj,{});case"parcel":return h.jsx(Rj,{});default:return h.jsx(zb,{})}};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("div",{className:"flex items-center gap-3 mb-6",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Services"}),h.jsx("p",{className:"text-gray-600",children:"Your one-stop shop for all delivery needs."})]})}),h.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[h.jsx("button",{onClick:()=>e("grocery"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="grocery"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Grocery Delivery"}),h.jsx("button",{onClick:()=>e("food"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="food"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Food Delivery"}),h.jsx("button",{onClick:()=>e("parcel"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="parcel"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Parcel Delivery"})]}),n()]})})})}const Dj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function jj(){const s={patientName:"",medicationName:"",quantity:1,deliveryAddress:"",deliveryDate:"",notes:""},[e,n]=P.useState(s),r=c=>{const{name:d,value:p}=c.target;n({...e,[d]:p})},l=async c=>{c.preventDefault();const d=Li();if(!d){alert("You must be logged in to request a delivery.");return}const g={clientId:d.uid,userName:d.name||d.email,providerId:"DUMMY_PROVIDER_UID_FOR_TESTING",serviceType:"Medication Delivery",bookingDate:new Date(e.deliveryDate),contactToken:Dj(),status:"confirmed",details:{...e}},y=await da(g);y.success?(alert("Medication delivery request submitted successfully!"),n(s)):alert(`Failed to submit request: ${y.error}`)};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(Pb,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Medication Delivery Request"}),h.jsx("p",{className:"text-gray-600",children:"Request your essential medications delivered to your doorstep."})]})]}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold mb-2",children:"Patient Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"patientName",name:"patientName",value:e.patientName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter patient's full name",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"medicationName",className:"block text-sm font-semibold mb-2",children:"Medication Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Pb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"medicationName",name:"medicationName",value:e.medicationName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Paracetamol, Insulin",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"quantity",className:"block text-sm font-semibold mb-2",children:"Quantity"}),h.jsx("input",{type:"number",id:"quantity",name:"quantity",value:e.quantity,onChange:r,min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("textarea",{id:"deliveryAddress",name:"deliveryAddress",value:e.deliveryAddress,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter full delivery address",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"deliveryDate",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),h.jsxs("div",{className:"relative",children:[h.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:e.deliveryDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),h.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., leave at doorstep, contact upon arrival"})]}),h.jsxs("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition flex items-center justify-center space-x-2",children:[h.jsx(Eg,{size:20}),h.jsx("span",{children:"Request Delivery"})]})]})]})})})}const Oj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function kj(){const s={patientName:"",contactNumber:"",preferredDate:"",preferredTime:"",testingAddress:"",notes:""},[e,n]=P.useState(s),r=c=>{const{name:d,value:p}=c.target;n({...e,[d]:p})},l=async c=>{c.preventDefault();const d=Li();if(!d){alert("You must be logged in to request a test.");return}const p="DUMMY_PROVIDER_UID_FOR_TESTING",g=new Date(`${e.preferredDate}T${e.preferredTime}`),y={clientId:d.uid,userName:d.name||d.email,providerId:p,serviceType:"Covid 19 Testing",bookingDate:g,contactToken:Oj(),status:"confirmed",details:{...e}},x=await da(y);x.success?(alert("COVID-19 test request submitted successfully!"),n(s)):alert(`Failed to submit request: ${x.error}`)};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-yellow-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(Qh,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"COVID-19 Testing Request"}),h.jsx("p",{className:"text-gray-600",children:"Schedule a mobile COVID-19 test at your convenience."})]})]}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold mb-2",children:"Patient Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"patientName",name:"patientName",value:e.patientName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"Enter patient's full name",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),h.jsxs("div",{className:"relative",children:[h.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"e.g., +1234567890",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Test Date"}),h.jsxs("div",{className:"relative",children:[h.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:e.preferredDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Test Time"}),h.jsxs("div",{className:"relative",children:[h.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:e.preferredTime,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",required:!0})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"testingAddress",className:"block text-sm font-semibold mb-2",children:"Testing Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("textarea",{id:"testingAddress",name:"testingAddress",value:e.testingAddress,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"Enter full address for mobile testing",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions / Symptoms (Optional)"}),h.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"e.g., specific symptoms, preferred testing location details"})]}),h.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-3 rounded-lg font-semibold hover:bg-yellow-600 transition flex items-center justify-center space-x-2",children:[h.jsx(Qh,{size:20}),h.jsx("span",{children:"Request COVID-19 Test"})]})]})]})})})}const Mj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Vj(){const[s,e]=P.useState({customerName:"",contactNumber:"",address:"",preferredDate:"",preferredTime:"",cleaningType:"basic",numberOfRooms:1,notes:""}),n=l=>{const{name:c,value:d}=l.target;e({...s,[c]:d})},r=async l=>{l.preventDefault();const c=Li();if(!c||!c.uid){alert("You must be logged in to request a service.");return}const d="DUMMY_PROVIDER_UID_FOR_TESTING",p=new Date(`${s.preferredDate}T${s.preferredTime}`),g={clientId:c.uid,userName:c.name||c.email,providerId:d,serviceType:"Home Cleaning",bookingDate:p,contactToken:Mj(),status:"confirmed",details:{customerName:s.customerName,contactNumber:s.contactNumber,address:s.address,cleaningType:s.cleaningType,numberOfRooms:s.numberOfRooms,notes:s.notes}},y=await da(g);y.success?(alert("Home Cleaning request submitted successfully! A service provider will be assigned shortly."),e({customerName:"",contactNumber:"",address:"",preferredDate:"",preferredTime:"",cleaningType:"basic",numberOfRooms:1,notes:""})):alert(`There was an error submitting your request: ${y.error}`)};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(Kh,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Home Cleaning Request"}),h.jsx("p",{className:"text-gray-600",children:"Book professional home cleaning services."})]})]}),h.jsxs("form",{onSubmit:r,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"customerName",name:"customerName",value:s.customerName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Enter your full name",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),h.jsxs("div",{className:"relative",children:[h.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:s.contactNumber,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"e.g., +1234567890",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"address",className:"block text-sm font-semibold mb-2",children:"Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("textarea",{id:"address",name:"address",value:s.address,onChange:n,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Enter full address for cleaning service",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Date"}),h.jsxs("div",{className:"relative",children:[h.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:s.preferredDate,onChange:n,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Time"}),h.jsxs("div",{className:"relative",children:[h.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:s.preferredTime,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"cleaningType",className:"block text-sm font-semibold mb-2",children:"Type of Cleaning"}),h.jsxs("select",{id:"cleaningType",name:"cleaningType",value:s.cleaningType,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[h.jsx("option",{value:"basic",children:"Basic Cleaning"}),h.jsx("option",{value:"deep",children:"Deep Cleaning"}),h.jsx("option",{value:"move-in-out",children:"Move-in/Move-out Cleaning"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"numberOfRooms",className:"block text-sm font-semibold mb-2",children:"Number of Rooms"}),h.jsx("input",{type:"number",id:"numberOfRooms",name:"numberOfRooms",value:s.numberOfRooms,onChange:n,min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),h.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:n,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"e.g., focus on kitchen, specific areas to avoid"})]}),h.jsxs("button",{type:"submit",className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition flex items-center justify-center space-x-2",children:[h.jsx(Kh,{size:20}),h.jsx("span",{children:"Request Home Cleaning"})]})]})]})})})}const Pj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Lj(){const s={customerName:"",contactNumber:"",pickupAddress:"",preferredPickupDate:"",preferredPickupTime:"",serviceType:"wash-fold",notes:""},[e,n]=P.useState(s),r=c=>{const{name:d,value:p}=c.target;n({...e,[d]:p})},l=async c=>{c.preventDefault();const d=Li();if(!d){alert("You must be logged in to request a service.");return}const p="DUMMY_PROVIDER_UID_FOR_TESTING",g=new Date(`${e.preferredPickupDate}T${e.preferredPickupTime}`),y={clientId:d.uid,userName:d.name||d.email,providerId:p,serviceType:"Laundry Service",bookingDate:g,contactToken:Pj(),status:"confirmed",details:{...e}},x=await da(y);x.success?(alert("Laundry Service request submitted successfully!"),n(s)):alert(`Failed to submit request: ${x.error}`)};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(lj,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Laundry Service Request"}),h.jsx("p",{className:"text-gray-600",children:"Schedule your laundry pickup and delivery."})]})]}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"customerName",name:"customerName",value:e.customerName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter your full name",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),h.jsxs("div",{className:"relative",children:[h.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"e.g., +1234567890",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"pickupAddress",className:"block text-sm font-semibold mb-2",children:"Pickup Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("textarea",{id:"pickupAddress",name:"pickupAddress",value:e.pickupAddress,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter full address for laundry pickup",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredPickupDate",className:"block text-sm font-semibold mb-2",children:"Preferred Pickup Date"}),h.jsxs("div",{className:"relative",children:[h.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"date",id:"preferredPickupDate",name:"preferredPickupDate",value:e.preferredPickupDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredPickupTime",className:"block text-sm font-semibold mb-2",children:"Preferred Pickup Time"}),h.jsxs("div",{className:"relative",children:[h.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"time",id:"preferredPickupTime",name:"preferredPickupTime",value:e.preferredPickupTime,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-semibold mb-2",children:"Service Type"}),h.jsxs("select",{id:"serviceType",name:"serviceType",value:e.serviceType,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",children:[h.jsx("option",{value:"wash-fold",children:"Wash & Fold"}),h.jsx("option",{value:"dry-cleaning",children:"Dry Cleaning"}),h.jsx("option",{value:"ironing",children:"Ironing Only"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),h.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"e.g., delicate items, specific detergent, delivery instructions"})]}),h.jsxs("button",{type:"submit",className:"w-full bg-purple-500 text-white py-3 rounded-lg font-semibold hover:bg-purple-600 transition flex items-center justify-center space-x-2",children:[h.jsx(xg,{size:20}),h.jsx("span",{children:"Request Laundry Service"})]})]})]})})})}const zm=[{id:"Grocery Delivery",name:"Grocery Delivery",icon:k1},{id:"Food Delivery",name:"Food Delivery",icon:yp},{id:"Parcel Delivery",name:"Parcel Delivery",icon:hc},{id:"Medication Delivery",name:"Medication Delivery",icon:Eg},{id:"Covid 19 Testing",name:"Covid 19 Testing",icon:Qh},{id:"Home Cleaning",name:"Home Cleaning",icon:Kh},{id:"Laundry Service",name:"Laundry Service",icon:xg},{id:"Pet Care Services",name:"Pet Care Services",icon:ec}],Uj=()=>{const[s,e]=P.useState([]),[n,r]=P.useState(!0),[l,c]=P.useState(zm[0].id),d=Li(),[p,g]=P.useState(0),[y,x]=P.useState(0),[E,S]=P.useState(0);P.useEffect(()=>{if(d&&d.uid){r(!0);const D=dj(d.uid,K=>{e(K);const W=K.filter(de=>de.status==="confirmed"||de.status==="assigned"||de.status==="accepted").length,$=K.filter(de=>de.status==="in-progress").length,ye=K.filter(de=>de.status==="completed").length;g(W),x($),S(ye),K.length>0&&!l&&c(zm[0].id),r(!1)});return()=>D()}else r(!1)},[d,l]);const j=async(D,K)=>{const W=await fj(D,K);W.success?alert(`Booking status updated to ${K}`):alert(`Error updating status: ${W.error}`)},U=()=>{window.confirm("Are you sure you want to report a positive test result? This will notify recent clients and is irreversible.")&&alert("You have reported a positive test. Thank you for helping keep the community safe. Recent clients will be notified.")},Q=P.useMemo(()=>s.filter(D=>D.serviceType===l),[s,l]);return n?h.jsx("div",{className:"p-8 text-center",children:"Loading your dashboard..."}):h.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[h.jsxs("aside",{className:"w-64 bg-white shadow-md flex-shrink-0",children:[h.jsx("div",{className:"p-6 border-b",children:h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Service Categories"})}),h.jsx("nav",{className:"p-4",children:h.jsx("ul",{children:zm.map(D=>{const K=D.icon;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>c(D.id),className:`w-full flex items-center px-4 py-3 my-1 rounded-lg transition-all duration-200 ${l===D.id?"bg-indigo-100 text-indigo-600 font-bold":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[h.jsx(K,{className:"mr-3",size:20}),h.jsx("span",{children:D.name})]})},D.id)})})})]}),h.jsxs("main",{className:"flex-1 p-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Provider Dashboard"}),h.jsxs("button",{onClick:U,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center space-x-2",children:[h.jsx(gp,{size:20}),h.jsx("span",{children:"Report Positive Test"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending"}),h.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?"...":p})]}),h.jsx(ys,{className:"text-yellow-400 opacity-50",size:48})]}),h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"In Progress"}),h.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n?"...":y})]}),h.jsx(Gh,{className:"text-blue-400 opacity-50",size:48})]}),h.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed"}),h.jsx("p",{className:"text-3xl font-bold text-green-600",children:n?"...":E})]}),h.jsx(bg,{className:"text-green-400 opacity-50",size:48})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[h.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Gh,{className:"mr-3"})," Bookings for ",l]}),Q.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500",children:"No assigned bookings for this service category."})}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client Name"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Date"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Update Status"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.map(D=>h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 flex items-center",children:[h.jsx(Pi,{size:16,className:"mr-2 text-gray-500"}),D.userName]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.bookingDate?new Date(D.bookingDate.seconds*1e3).toLocaleString():"N/A"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D.status==="accepted"?"bg-blue-100 text-blue-800":D.status==="in-progress"?"bg-yellow-100 text-yellow-800":D.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs("select",{onChange:K=>j(D.id,K.target.value),value:D.status,className:"p-1 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[h.jsx("option",{value:"confirmed",children:"Confirmed"}),h.jsx("option",{value:"accepted",children:"Accepted"}),h.jsx("option",{value:"in-progress",children:"In Progress"}),h.jsx("option",{value:"completed",children:"Completed"})]})})]},D.id))})]})})]})]})]})};function zj(){const[s,e]=P.useState({ownerName:"",contactNumber:"",petName:"",petType:"dog",serviceType:"dog-walking",preferredDate:"",preferredTime:"",notes:""}),n=l=>{const{name:c,value:d}=l.target;e({...s,[c]:d})},r=l=>{l.preventDefault(),alert(`Pet Care Service request submitted!
`+JSON.stringify(s,null,2)),console.log("Pet Care Service Request:",s),e({ownerName:"",contactNumber:"",petName:"",petType:"dog",serviceType:"dog-walking",preferredDate:"",preferredTime:"",notes:""})};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-lg flex items-center justify-center",children:h.jsx(ec,{className:"text-white",size:24})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pet Care Service Request"}),h.jsx("p",{className:"text-gray-600",children:"Request reliable and caring services for your beloved pets."})]})]}),h.jsxs("form",{onSubmit:r,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-semibold mb-2",children:"Pet Owner Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:s.ownerName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Enter pet owner's full name",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),h.jsxs("div",{className:"relative",children:[h.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:s.contactNumber,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"e.g., +1234567890",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"petName",className:"block text-sm font-semibold mb-2",children:"Pet Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",id:"petName",name:"petName",value:s.petName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Enter pet's name",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"petType",className:"block text-sm font-semibold mb-2",children:"Pet Type"}),h.jsxs("select",{id:"petType",name:"petType",value:s.petType,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"dog",children:"Dog"}),h.jsx("option",{value:"cat",children:"Cat"}),h.jsx("option",{value:"other",children:"Other"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-semibold mb-2",children:"Service Type"}),h.jsxs("select",{id:"serviceType",name:"serviceType",value:s.serviceType,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"dog-walking",children:"Dog Walking"}),h.jsx("option",{value:"pet-sitting",children:"Pet Sitting"}),h.jsx("option",{value:"grooming",children:"Grooming"}),h.jsx("option",{value:"vet-visit",children:"Vet Visit Assistance"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Date"}),h.jsxs("div",{className:"relative",children:[h.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:s.preferredDate,onChange:n,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Time"}),h.jsxs("div",{className:"relative",children:[h.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:s.preferredTime,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",required:!0})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),h.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:n,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"e.g., pet's habits, specific feeding instructions, leash location"})]}),h.jsxs("button",{type:"submit",className:"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition flex items-center justify-center space-x-2",children:[h.jsx(ec,{size:20}),h.jsx("span",{children:"Request Pet Care"})]})]})]})})})}function qj(){return h.jsx(z2,{basename:"/SWE_FInalProject/",children:h.jsx(Tj,{children:h.jsxs(y2,{children:[h.jsx(Jt,{path:"/login",element:h.jsx(gj,{})}),h.jsx(Jt,{path:"/",element:h.jsx(pj,{})}),h.jsx(Jt,{path:"/contact-tracing",element:h.jsx(wj,{})}),h.jsx(Jt,{path:"/delivery-services",element:h.jsx(Ij,{})}),h.jsx(Jt,{path:"/medication",element:h.jsx(jj,{})}),h.jsx(Jt,{path:"/covid",element:h.jsx(kj,{})}),h.jsx(Jt,{path:"/home-cleaning",element:h.jsx(Vj,{})}),h.jsx(Jt,{path:"/laundry",element:h.jsx(Lj,{})}),h.jsx(Jt,{path:"/pet-care",element:h.jsx(zj,{})}),h.jsx(Jt,{element:h.jsx(Pm,{}),children:h.jsx(Jt,{path:"/profile",element:h.jsx(yj,{})})}),h.jsx(Jt,{element:h.jsx(Pm,{roles:["service-provider"]}),children:h.jsx(Jt,{path:"/provider-dashboard",element:h.jsx(Uj,{})})}),h.jsx(Jt,{element:h.jsx(Pm,{roles:["admin"]}),children:h.jsx(Jt,{path:"/admin",element:h.jsx(Ej,{})})})]})})})}Tw.createRoot(document.getElementById("root")).render(h.jsx(P.StrictMode,{children:h.jsx(qj,{})}));

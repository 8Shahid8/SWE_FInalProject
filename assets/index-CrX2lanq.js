(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var gm={exports:{}},Lo={};var qv;function f2(){if(qv)return Lo;qv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:h,ref:l!==void 0?l:null,props:c}}return Lo.Fragment=e,Lo.jsx=n,Lo.jsxs=n,Lo}var Bv;function m2(){return Bv||(Bv=1,gm.exports=f2()),gm.exports}var d=m2(),ym={exports:{}},Ee={};var Hv;function p2(){if(Hv)return Ee;Hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,M={};function W(k,ee,ae){this.props=k,this.context=ee,this.refs=M,this.updater=ae||U}W.prototype.isReactComponent={},W.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},W.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ie(){}ie.prototype=W.prototype;function K(k,ee,ae){this.props=k,this.context=ee,this.refs=M,this.updater=ae||U}var ve=K.prototype=new ie;ve.constructor=K,Q(ve,W.prototype),ve.isPureReactComponent=!0;var _e=Array.isArray;function we(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(k,ee,ae){var ce=ae.ref;return{$$typeof:s,type:k,key:ee,ref:ce!==void 0?ce:null,props:ae}}function V(k,ee){return N(k.type,ee,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function z(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return ee[ae]})}var R=/\/+/g;function rt(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?z(""+k.key):ee.toString(36)}function Dt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(we,we):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,ee,ae,ce,be){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(Ne){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case s:case e:Le=!0;break;case x:return Le=k._init,X(Le(k._payload),ee,ae,ce,be)}}if(Le)return be=be(k),Le=ce===""?"."+rt(k,0):ce,_e(be)?(ae="",Le!=null&&(ae=Le.replace(R,"$&/")+"/"),X(be,ee,ae,"",function(yr){return yr})):be!=null&&(D(be)&&(be=V(be,ae+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Le)),ee.push(be)),1;Le=0;var jt=ce===""?".":ce+":";if(_e(k))for(var at=0;at<k.length;at++)ce=k[at],Ne=jt+rt(ce,at),Le+=X(ce,ee,ae,Ne,be);else if(at=O(k),typeof at=="function")for(k=at.call(k),at=0;!(ce=k.next()).done;)ce=ce.value,Ne=jt+rt(ce,at++),Le+=X(ce,ee,ae,Ne,be);else if(Ne==="object"){if(typeof k.then=="function")return X(Dt(k),ee,ae,ce,be);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Le}function re(k,ee,ae){if(k==null)return k;var ce=[],be=0;return X(k,ce,"","",function(Ne){return ee.call(ae,Ne,be++)}),ce}function me(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var ze=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ye={map:re,forEach:function(k,ee,ae){re(k,function(){ee.apply(this,arguments)},ae)},count:function(k){var ee=0;return re(k,function(){ee++}),ee},toArray:function(k){return re(k,function(ee){return ee})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ee.Activity=E,Ee.Children=Ye,Ee.Component=W,Ee.Fragment=n,Ee.Profiler=l,Ee.PureComponent=K,Ee.StrictMode=r,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Ee.cache=function(k){return function(){return k.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(k,ee,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=Q({},k.props),be=k.key;if(ee!=null)for(Ne in ee.key!==void 0&&(be=""+ee.key),ee)!A.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(ce[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=ae;else if(1<Ne){for(var Le=Array(Ne),jt=0;jt<Ne;jt++)Le[jt]=arguments[jt+2];ce.children=Le}return N(k.type,be,ce)},Ee.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ee.createElement=function(k,ee,ae){var ce,be={},Ne=null;if(ee!=null)for(ce in ee.key!==void 0&&(Ne=""+ee.key),ee)A.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ee[ce]);var Le=arguments.length-2;if(Le===1)be.children=ae;else if(1<Le){for(var jt=Array(Le),at=0;at<Le;at++)jt[at]=arguments[at+2];be.children=jt}if(k&&k.defaultProps)for(ce in Le=k.defaultProps,Le)be[ce]===void 0&&(be[ce]=Le[ce]);return N(k,Ne,be)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(k){return{$$typeof:p,render:k}},Ee.isValidElement=D,Ee.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:me}},Ee.memo=function(k,ee){return{$$typeof:y,type:k,compare:ee===void 0?null:ee}},Ee.startTransition=function(k){var ee=I.T,ae={};I.T=ae;try{var ce=k(),be=I.S;be!==null&&be(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(we,ze)}catch(Ne){ze(Ne)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),I.T=ee}},Ee.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ee.use=function(k){return I.H.use(k)},Ee.useActionState=function(k,ee,ae){return I.H.useActionState(k,ee,ae)},Ee.useCallback=function(k,ee){return I.H.useCallback(k,ee)},Ee.useContext=function(k){return I.H.useContext(k)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(k,ee){return I.H.useDeferredValue(k,ee)},Ee.useEffect=function(k,ee){return I.H.useEffect(k,ee)},Ee.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Ee.useId=function(){return I.H.useId()},Ee.useImperativeHandle=function(k,ee,ae){return I.H.useImperativeHandle(k,ee,ae)},Ee.useInsertionEffect=function(k,ee){return I.H.useInsertionEffect(k,ee)},Ee.useLayoutEffect=function(k,ee){return I.H.useLayoutEffect(k,ee)},Ee.useMemo=function(k,ee){return I.H.useMemo(k,ee)},Ee.useOptimistic=function(k,ee){return I.H.useOptimistic(k,ee)},Ee.useReducer=function(k,ee,ae){return I.H.useReducer(k,ee,ae)},Ee.useRef=function(k){return I.H.useRef(k)},Ee.useState=function(k){return I.H.useState(k)},Ee.useSyncExternalStore=function(k,ee,ae){return I.H.useSyncExternalStore(k,ee,ae)},Ee.useTransition=function(){return I.H.useTransition()},Ee.version="19.2.0",Ee}var Fv;function gp(){return Fv||(Fv=1,ym.exports=p2()),ym.exports}var P=gp(),vm={exports:{}},Uo={},_m={exports:{}},bm={};var Gv;function g2(){return Gv||(Gv=1,(function(s){function e(X,re){var me=X.length;X.push(re);e:for(;0<me;){var ze=me-1>>>1,Ye=X[ze];if(0<l(Ye,re))X[ze]=re,X[me]=Ye,me=ze;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],me=X.pop();if(me!==re){X[0]=me;e:for(var ze=0,Ye=X.length,k=Ye>>>1;ze<k;){var ee=2*(ze+1)-1,ae=X[ee],ce=ee+1,be=X[ce];if(0>l(ae,me))ce<Ye&&0>l(be,ae)?(X[ze]=be,X[ce]=me,ze=ce):(X[ze]=ae,X[ee]=me,ze=ee);else if(ce<Ye&&0>l(be,me))X[ze]=be,X[ce]=me,ze=ce;else break e}}return re}function l(X,re){var me=X.sortIndex-re.sortIndex;return me!==0?me:X.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,E=null,S=3,O=!1,U=!1,Q=!1,M=!1,W=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ve(X){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=X)r(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function _e(X){if(Q=!1,ve(X),!U)if(n(g)!==null)U=!0,we||(we=!0,z());else{var re=n(y);re!==null&&Dt(_e,re.startTime-X)}}var we=!1,I=-1,A=5,N=-1;function V(){return M?!0:!(s.unstable_now()-N<A)}function D(){if(M=!1,we){var X=s.unstable_now();N=X;var re=!0;try{e:{U=!1,Q&&(Q=!1,ie(I),I=-1),O=!0;var me=S;try{t:{for(ve(X),E=n(g);E!==null&&!(E.expirationTime>X&&V());){var ze=E.callback;if(typeof ze=="function"){E.callback=null,S=E.priorityLevel;var Ye=ze(E.expirationTime<=X);if(X=s.unstable_now(),typeof Ye=="function"){E.callback=Ye,ve(X),re=!0;break t}E===n(g)&&r(g),ve(X)}else r(g);E=n(g)}if(E!==null)re=!0;else{var k=n(y);k!==null&&Dt(_e,k.startTime-X),re=!1}}break e}finally{E=null,S=me,O=!1}re=void 0}}finally{re?z():we=!1}}}var z;if(typeof K=="function")z=function(){K(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=D,z=function(){rt.postMessage(null)}}else z=function(){W(D,0)};function Dt(X,re){I=W(function(){X(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(X){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var me=S;S=re;try{return X()}finally{S=me}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=S;S=X;try{return re()}finally{S=me}},s.unstable_scheduleCallback=function(X,re,me){var ze=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,X){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=me+Ye,X={id:x++,callback:re,priorityLevel:X,startTime:me,expirationTime:Ye,sortIndex:-1},me>ze?(X.sortIndex=me,e(y,X),n(g)===null&&X===n(y)&&(Q?(ie(I),I=-1):Q=!0,Dt(_e,me-ze))):(X.sortIndex=Ye,e(g,X),U||O||(U=!0,we||(we=!0,z()))),X},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(X){var re=S;return function(){var me=S;S=re;try{return X.apply(this,arguments)}finally{S=me}}}})(bm)),bm}var Yv;function y2(){return Yv||(Yv=1,_m.exports=g2()),_m.exports}var xm={exports:{}},$t={};var Qv;function v2(){if(Qv)return $t;Qv=1;var s=gp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},$t.flushSync=function(g){var y=h.T,x=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=y,r.p=x,r.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:O}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},$t.useFormStatus=function(){return h.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Kv;function _2(){if(Kv)return xm.exports;Kv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xm.exports=v2(),xm.exports}var $v;function b2(){if($v)return Uo;$v=1;var s=y2(),e=gp(),n=_2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===o)return g(f),i;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=m;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,o=m;break}if(T===o){_=!0,o=f,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,o=f;break}if(T===o){_=!0,o=m,a=f;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case W:return"Profiler";case M:return"StrictMode";case _e:return"Suspense";case we:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case K:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Ye=-1;function k(t){return{current:t}}function ee(t){0>Ye||(t.current=ze[Ye],ze[Ye]=null,Ye--)}function ae(t,i){Ye++,ze[Ye]=t.current,t.current=i}var ce=k(null),be=k(null),Ne=k(null),Le=k(null);function jt(t,i){switch(ae(Ne,i),ae(be,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?uv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=uv(i),t=hv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ce),ae(ce,t)}function at(){ee(ce),ee(be),ee(Ne)}function yr(t){t.memoizedState!==null&&ae(Le,t);var i=ce.current,a=hv(i,t.type);i!==a&&(ae(be,t),ae(ce,a))}function fa(t){be.current===t&&(ee(ce),ee(be)),Le.current===t&&(ee(Le),ko._currentValue=me)}var ma,pa;function ai(t){if(ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var Ol=!1;function vr(t,i){if(!t||Ol)return"";Ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var F=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){F=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){F=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var C=_.split(`
`),H=T.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===H.length)for(o=C.length-1,f=H.length-1;1<=o&&0<=f&&C[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==H[f]){var $=`
`+C[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=f);break}}}finally{Ol=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function kl(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return vr(t.type,!1);case 11:return vr(t.type.render,!1);case 1:return vr(t.type,!0);case 31:return ai("Activity");default:return""}}function Ml(t){try{var i="",a=null;do i+=kl(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,yd=s.unstable_shouldYield,Rc=s.unstable_requestPaint,nn=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,Vl=s.unstable_ImmediatePriority,Pl=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,vd=s.unstable_LowPriority,Cc=s.unstable_IdlePriority,Ic=s.log,Dc=s.unstable_setDisableYieldValue,qn=null,zt=null;function Tn(t){if(typeof Ic=="function"&&Dc(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var ft=Math.clz32?Math.clz32:Oc,jc=Math.log,ga=Math.LN2;function Oc(t){return t>>>=0,t===0?32:31-(jc(t)/ga|0)|0}var li=256,br=262144,bt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?f=oi(o):(_&=T,_!==0?f=oi(_):a||(a=T&~t,a!==0&&(f=oi(a))))):(T=o&~m,T!==0?f=oi(T):_!==0?f=oi(_):a||(a=o&~t,a!==0&&(f=oi(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function Bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _d(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kc(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bd(t,i,a,o,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ft(a),Z=1<<$;T[$]=0,C[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var Y=F[$];Y!==null&&(Y.lane&=-536870913)}a&=~Z}o!==0&&Er(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Er(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-ft(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ll(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-ft(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function Ul(t,i){var a=i&-i;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:kv(t.type))}function Hn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Fn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Fn,Vt="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ya="__reactEvents$"+Fn,xd="__reactListeners$"+Fn,Vc="__reactHandles$"+Fn,Pc="__reactResources$"+Fn,di="__reactMarker$"+Fn;function va(t){delete t[xt],delete t[Vt],delete t[ya],delete t[xd],delete t[Vc]}function fi(t){var i=t[xt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=vv(t);t!==null;){if(a=t[xt])return a;t=vv(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[xt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function mi(t){var i=t[Pc];return i||(i=t[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[di]=!0}var zl=new Set,ql={};function pi(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(ql[t]=i,t=0;t<i.length;t++)zl.add(i[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Fl={};function Lc(t){return _t.call(Fl,t)?!0:_t.call(Hl,t)?!1:Bl.test(t)?Fl[t]=!0:(Hl[t]=!0,!1)}function _a(t,i,a){if(Lc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _s(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gl(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=_s(t)?"checked":"value";t._valueTracker=Gl(t,i,""+t[i])}}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=_s(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function an(t){return t.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ba(t,i,a,o,f,m,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yl(t,_,Pt(i)):a!=null?Yl(t,_,Pt(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Uc(t,i,a,o,f,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Yl(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function zc(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function xs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||qc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Kl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&Ql(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&Ql(t,m,i[m])}function xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Es.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var $l=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,vi=null;function Ar(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[Vt]||null;if(!f)throw Error(r(90));ba(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&wr(o)}break e;case"textarea":zc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bs(t,!!a.multiple,i,!1)}}}var Ta=!1;function ws(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var o=t(i);return o}finally{if(Ta=!1,(Ts!==null||vi!==null)&&(Mu(),Ts&&(i=Ts,t=vi,vi=Ts=null,Ar(i),t)))for(i=0;i<t.length;i++)Ar(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(An)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Nr=!1}var _i=null,Xl=null,Rr=null;function Jl(){if(Rr)return Rr;var t,i=Xl,a=i.length,o,f="value"in _i?_i.value:_i.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===f[m-o];o++);return Rr=f.slice(t,1<o?1-o:void 0)}function Cr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Qn(){return!1}function qt(t){function i(a,o,f,m,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zi:Qn,this.isPropagationStopped=Qn,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=qt(qi),Ss=E({},qi,{view:0,detail:0}),Wl=qt(Ss),As,wa,xi,Sa=E({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(As=t.screenX-xi.screenX,wa=t.screenY-xi.screenY):wa=As=0,xi=t),As)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Zl=qt(Sa),Ir=E({},Sa,{dataTransfer:0}),Hc=qt(Ir),Fc=E({},Ss,{relatedTarget:0}),Dr=qt(Fc),eo=E({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=qt(eo),Aa=E({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yc=qt(Aa),Qc=E({},qi,{data:0}),Ei=qt(Qc),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xc[t])?!!i[t]:!1}function Ns(){return Jc}var sn=E({},Ss,{key:function(t){if(t.key){var i=Kc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wc=qt(sn),Zc=E({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=qt(Zc),u=E({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),v=qt(u),b=E({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(b),q=E({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(q),se=E({},qi,{newState:0,oldState:0}),Se=qt(se),mt=[9,13,27,32],He=An&&"CompositionEvent"in window,lt=null;An&&"documentMode"in document&&(lt=document.documentMode);var Nn=An&&"TextEvent"in window&&!lt,Ti=An&&(!He||lt&&8<lt&&11>=lt),Kn=" ",$n=!1;function jr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function P1(t,i){switch(t){case"compositionend":return Na(i);case"keypress":return i.which!==32?null:($n=!0,Kn);case"textInput":return t=i.data,t===Kn&&$n?null:t;default:return null}}function L1(t,i){if(Ra)return t==="compositionend"||!He&&jr(t,i)?(t=Jl(),Rr=Xl=_i=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!U1[t.type]:i==="textarea"}function Eg(t,i,a,o){Ts?vi?vi.push(o):vi=[o]:Ts=o,i=Bu(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var to=null,no=null;function z1(t){sv(t,0)}function eu(t){var i=mn(t);if(wr(i))return t}function Tg(t,i){if(t==="change")return i}var wg=!1;if(An){var Ed;if(An){var Td="oninput"in document;if(!Td){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Td=typeof Sg.oninput=="function"}Ed=Td}else Ed=!1;wg=Ed&&(!document.documentMode||9<document.documentMode)}function Ag(){to&&(to.detachEvent("onpropertychange",Ng),no=to=null)}function Ng(t){if(t.propertyName==="value"&&eu(no)){var i=[];Eg(i,no,t,Sn(t)),ws(z1,i)}}function q1(t,i,a){t==="focusin"?(Ag(),to=i,no=a,to.attachEvent("onpropertychange",Ng)):t==="focusout"&&Ag()}function B1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(no)}function H1(t,i){if(t==="click")return eu(i)}function F1(t,i){if(t==="input"||t==="change")return eu(i)}function G1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:G1;function io(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!_t.call(i,f)||!gn(t[f],i[f]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,i){var a=Rg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function wd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Y1=An&&"documentMode"in document&&11>=document.documentMode,Ca=null,Sd=null,so=null,Ad=!1;function jg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ad||Ca==null||Ca!==yi(o)||(o=Ca,"selectionStart"in o&&wd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),so&&io(so,o)||(so=o,o=Bu(Sd,"onSelect"),0<o.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ca)))}function Or(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Nd={},Og={};An&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function kr(t){if(Nd[t])return Nd[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Og)return Nd[t]=i[a];return t}var kg=kr("animationend"),Mg=kr("animationiteration"),Vg=kr("animationstart"),Q1=kr("transitionrun"),K1=kr("transitionstart"),$1=kr("transitioncancel"),Pg=kr("transitionend"),Lg=new Map,Rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rd.push("scrollEnd");function Xn(t,i){Lg.set(t,i),pi(i,[t])}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Da=0,Cd=0;function nu(){for(var t=Da,i=Cd=Da=0;i<t;){var a=Rn[i];Rn[i++]=null;var o=Rn[i];Rn[i++]=null;var f=Rn[i];Rn[i++]=null;var m=Rn[i];if(Rn[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&Ug(a,f,m)}}function iu(t,i,a,o){Rn[Da++]=t,Rn[Da++]=i,Rn[Da++]=a,Rn[Da++]=o,Cd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Id(t,i,a,o){return iu(t,i,a,o),su(t)}function Mr(t,i){return iu(t,null,null,i),su(t)}function Ug(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-ft(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),m):null}function su(t){if(50<No)throw No=0,zf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ja={};function X1(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,o){return new X1(t,i,a,o)}function Dd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ru(t,i,a,o,f,m){var _=0;if(o=t,typeof t=="function")Dd(t)&&(_=1);else if(typeof t=="string")_=t2(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,a,i,f),t.elementType=N,t.lanes=m,t;case Q:return Vr(a.children,f,m,i);case M:_=8,f|=24;break;case W:return t=yn(12,a,i,f|2),t.elementType=W,t.lanes=m,t;case _e:return t=yn(13,a,i,f),t.elementType=_e,t.lanes=m,t;case we:return t=yn(19,a,i,f),t.elementType=we,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:_=10;break e;case ie:_=9;break e;case ve:_=11;break e;case I:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=yn(_,a,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function Vr(t,i,a,o){return t=yn(7,t,o,i),t.lanes=a,t}function jd(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function qg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Od(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Bg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ml(i)},Bg.set(t,i),i)}return{value:t,source:i,stack:Ml(i)}}var Oa=[],ka=0,au=null,ro=0,In=[],Dn=0,Rs=null,wi=1,Si="";function Fi(t,i){Oa[ka++]=ro,Oa[ka++]=au,au=t,ro=i}function Hg(t,i,a){In[Dn++]=wi,In[Dn++]=Si,In[Dn++]=Rs,Rs=t;var o=wi;t=Si;var f=32-ft(o)-1;o&=~(1<<f),a+=1;var m=32-ft(i)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,wi=1<<32-ft(i)+f|a<<f|o,Si=m+t}else wi=1<<m|a<<f|o,Si=t}function kd(t){t.return!==null&&(Fi(t,1),Hg(t,1,0))}function Md(t){for(;t===au;)au=Oa[--ka],Oa[ka]=null,ro=Oa[--ka],Oa[ka]=null;for(;t===Rs;)Rs=In[--Dn],In[Dn]=null,Si=In[--Dn],In[Dn]=null,wi=In[--Dn],In[Dn]=null}function Fg(t,i){In[Dn++]=wi,In[Dn++]=Si,In[Dn++]=Rs,wi=i.id,Si=i.overflow,Rs=t}var Bt=null,nt=null,Pe=!1,Cs=null,jn=!1,Vd=Error(r(519));function Is(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ao(Cn(i,t)),Vd}function Gg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[xt]=t,i[Vt]=o,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<Co.length;a++)Ie(Co[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Uc(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),xs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||ov(i.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),o.onScroll!=null&&Ie("scroll",i),o.onScrollEnd!=null&&Ie("scrollend",i),o.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Is(t,!0)}function Yg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Bt=Bt.return}}function Ma(t){if(t!==Bt)return!1;if(!Pe)return Yg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&nt&&Is(t),Yg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=yv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=yv(t)}else i===27?(i=nt,Fs(t.type)?(t=am,am=null,nt=t):nt=i):nt=Bt?kn(t.stateNode.nextSibling):null;return!0}function Pr(){nt=Bt=null,Pe=!1}function Pd(){var t=Cs;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Cs=null),t}function ao(t){Cs===null?Cs=[t]:Cs.push(t)}var Ld=k(null),Lr=null,Gi=null;function Ds(t,i,a){ae(Ld,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Ld.current,ee(Ld)}function Ud(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function zd(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var C=0;C<i.length;C++)if(T.context===i[C]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Ud(m.return,a,t),o||(_=null);break e}m=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Ud(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Va(t,i,a,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=f.type;gn(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ko):t=[ko])}f=f.return}t!==null&&zd(i,t,a,o),i.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ur(t){Lr=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Qg(Lr,t)}function ou(t,i){return Lr===null&&Ur(t),Qg(t,i)}function Qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var J1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},W1=s.unstable_scheduleCallback,Z1=s.unstable_NormalPriority,wt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new J1,data:new Map,refCount:0}}function lo(t){t.refCount--,t.refCount===0&&W1(Z1,function(){t.controller.abort()})}var oo=null,Bd=0,Pa=0,La=null;function eT(t,i){if(oo===null){var a=oo=[];Bd=0,Pa=Yf(),La={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Bd++,i.then(Kg,Kg),i}function Kg(){if(--Bd===0&&oo!==null){La!==null&&(La.status="fulfilled");var t=oo;oo=null,Pa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var $g=X.S;X.S=function(t,i){j0=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eT(t,i),$g!==null&&$g(t,i)};var zr=k(null);function Hd(){var t=zr.current;return t!==null?t:et.pooledCache}function cu(t,i){i===null?ae(zr,zr.current):ae(zr,i.pool)}function Xg(){var t=Hd();return t===null?null:{parent:wt._currentValue,pool:t}}var Ua=Error(r(460)),Fd=Error(r(474)),uu=Error(r(542)),hu={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t}throw Br=i,Ua}}function qr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,Ua):a}}var Br=null;function Zg(){if(Br===null)throw Error(r(459));var t=Br;return Br=null,t}function ey(t){if(t===Ua||t===uu)throw Error(r(483))}var za=null,co=0;function du(t){var i=co;return co+=1,za===null&&(za=[]),Wg(za,t,i)}function uo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fu(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ty(t){function i(L,j){if(t){var B=L.deletions;B===null?(L.deletions=[j],L.flags|=16):B.push(j)}}function a(L,j){if(!t)return null;for(;j!==null;)i(L,j),j=j.sibling;return null}function o(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function f(L,j){return L=Hi(L,j),L.index=0,L.sibling=null,L}function m(L,j,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<j?(L.flags|=67108866,j):B):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,j,B,J){return j===null||j.tag!==6?(j=jd(B,L.mode,J),j.return=L,j):(j=f(j,B),j.return=L,j)}function C(L,j,B,J){var de=B.type;return de===Q?$(L,j,B.props.children,J,B.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&qr(de)===j.type)?(j=f(j,B.props),uo(j,B),j.return=L,j):(j=ru(B.type,B.key,B.props,null,L.mode,J),uo(j,B),j.return=L,j)}function H(L,j,B,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=Od(B,L.mode,J),j.return=L,j):(j=f(j,B.children||[]),j.return=L,j)}function $(L,j,B,J,de){return j===null||j.tag!==7?(j=Vr(B,L.mode,J,de),j.return=L,j):(j=f(j,B),j.return=L,j)}function Z(L,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=jd(""+j,L.mode,B),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return B=ru(j.type,j.key,j.props,null,L.mode,B),uo(B,j),B.return=L,B;case U:return j=Od(j,L.mode,B),j.return=L,j;case A:return j=qr(j),Z(L,j,B)}if(Dt(j)||z(j))return j=Vr(j,L.mode,B,null),j.return=L,j;if(typeof j.then=="function")return Z(L,du(j),B);if(j.$$typeof===K)return Z(L,ou(L,j),B);fu(L,j)}return null}function F(L,j,B,J){var de=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:T(L,j,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===de?C(L,j,B,J):null;case U:return B.key===de?H(L,j,B,J):null;case A:return B=qr(B),F(L,j,B,J)}if(Dt(B)||z(B))return de!==null?null:$(L,j,B,J,null);if(typeof B.then=="function")return F(L,j,du(B),J);if(B.$$typeof===K)return F(L,j,ou(L,B),J);fu(L,B)}return null}function Y(L,j,B,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,T(j,L,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return L=L.get(J.key===null?B:J.key)||null,C(j,L,J,de);case U:return L=L.get(J.key===null?B:J.key)||null,H(j,L,J,de);case A:return J=qr(J),Y(L,j,B,J,de)}if(Dt(J)||z(J))return L=L.get(B)||null,$(j,L,J,de,null);if(typeof J.then=="function")return Y(L,j,B,du(J),de);if(J.$$typeof===K)return Y(L,j,B,ou(j,J),de);fu(j,J)}return null}function ue(L,j,B,J){for(var de=null,qe=null,he=j,Re=j=0,Oe=null;he!==null&&Re<B.length;Re++){he.index>Re?(Oe=he,he=null):Oe=he.sibling;var Be=F(L,he,B[Re],J);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(L,he),j=m(Be,j,Re),qe===null?de=Be:qe.sibling=Be,qe=Be,he=Oe}if(Re===B.length)return a(L,he),Pe&&Fi(L,Re),de;if(he===null){for(;Re<B.length;Re++)he=Z(L,B[Re],J),he!==null&&(j=m(he,j,Re),qe===null?de=he:qe.sibling=he,qe=he);return Pe&&Fi(L,Re),de}for(he=o(he);Re<B.length;Re++)Oe=Y(he,L,Re,B[Re],J),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Re:Oe.key),j=m(Oe,j,Re),qe===null?de=Oe:qe.sibling=Oe,qe=Oe);return t&&he.forEach(function($s){return i(L,$s)}),Pe&&Fi(L,Re),de}function pe(L,j,B,J){if(B==null)throw Error(r(151));for(var de=null,qe=null,he=j,Re=j=0,Oe=null,Be=B.next();he!==null&&!Be.done;Re++,Be=B.next()){he.index>Re?(Oe=he,he=null):Oe=he.sibling;var $s=F(L,he,Be.value,J);if($s===null){he===null&&(he=Oe);break}t&&he&&$s.alternate===null&&i(L,he),j=m($s,j,Re),qe===null?de=$s:qe.sibling=$s,qe=$s,he=Oe}if(Be.done)return a(L,he),Pe&&Fi(L,Re),de;if(he===null){for(;!Be.done;Re++,Be=B.next())Be=Z(L,Be.value,J),Be!==null&&(j=m(Be,j,Re),qe===null?de=Be:qe.sibling=Be,qe=Be);return Pe&&Fi(L,Re),de}for(he=o(he);!Be.done;Re++,Be=B.next())Be=Y(he,L,Re,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Re:Be.key),j=m(Be,j,Re),qe===null?de=Be:qe.sibling=Be,qe=Be);return t&&he.forEach(function(d2){return i(L,d2)}),Pe&&Fi(L,Re),de}function Ze(L,j,B,J){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var de=B.key;j!==null;){if(j.key===de){if(de=B.type,de===Q){if(j.tag===7){a(L,j.sibling),J=f(j,B.props.children),J.return=L,L=J;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&qr(de)===j.type){a(L,j.sibling),J=f(j,B.props),uo(J,B),J.return=L,L=J;break e}a(L,j);break}else i(L,j);j=j.sibling}B.type===Q?(J=Vr(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=ru(B.type,B.key,B.props,null,L.mode,J),uo(J,B),J.return=L,L=J)}return _(L);case U:e:{for(de=B.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){a(L,j.sibling),J=f(j,B.children||[]),J.return=L,L=J;break e}else{a(L,j);break}else i(L,j);j=j.sibling}J=Od(B,L.mode,J),J.return=L,L=J}return _(L);case A:return B=qr(B),Ze(L,j,B,J)}if(Dt(B))return ue(L,j,B,J);if(z(B)){if(de=z(B),typeof de!="function")throw Error(r(150));return B=de.call(B),pe(L,j,B,J)}if(typeof B.then=="function")return Ze(L,j,du(B),J);if(B.$$typeof===K)return Ze(L,j,ou(L,B),J);fu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(a(L,j.sibling),J=f(j,B),J.return=L,L=J):(a(L,j),J=jd(B,L.mode,J),J.return=L,L=J),_(L)):a(L,j)}return function(L,j,B,J){try{co=0;var de=Ze(L,j,B,J);return za=null,de}catch(he){if(he===Ua||he===uu)throw he;var qe=yn(29,he,null,L.mode);return qe.lanes=J,qe.return=L,qe}finally{}}}var Hr=ty(!0),ny=ty(!1),js=!1;function Gd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=su(t),Ug(t,null,a),i}return iu(t,o,i,a),su(t)}function ho(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}function Qd(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Kd=!1;function fo(){if(Kd){var t=La;if(t!==null)throw t}}function mo(t,i,a,o){Kd=!1;var f=t.updateQueue;js=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,H=C.next;C.next=null,_===null?m=H:_.next=H,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=H:T.next=H,$.lastBaseUpdate=C))}if(m!==null){var Z=f.baseState;_=0,$=H=C=null,T=m;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(je&F)===F:(o&F)===F){F!==0&&F===Pa&&(Kd=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,pe=T;F=i;var Ze=a;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){Z=ue.call(Ze,Z,F);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,F=typeof ue=="function"?ue.call(Ze,Z,F):ue,F==null)break e;Z=E({},Z,F);break e;case 2:js=!0}}F=T.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(H=$=Y,C=Z):$=$.next=Y,_|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=H,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Us|=_,t.lanes=_,t.memoizedState=Z}}function iy(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function sy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],i)}var qa=k(null),mu=k(0);function ry(t,i){t=ts,ae(mu,t),ae(qa,i),ts=t|i.baseLanes}function $d(){ae(mu,ts),ae(qa,qa.current)}function Xd(){ts=mu.current,ee(qa),ee(mu)}var vn=k(null),On=null;function Ms(t){var i=t.alternate;ae(pt,pt.current&1),ae(vn,t),On===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(On=t)}function Jd(t){ae(pt,pt.current),ae(vn,t),On===null&&(On=t)}function ay(t){t.tag===22?(ae(pt,pt.current),ae(vn,t),On===null&&(On=t)):Vs()}function Vs(){ae(pt,pt.current),ae(vn,vn.current)}function _n(t){ee(vn),On===t&&(On=null),ee(pt)}var pt=k(0);function pu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sm(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Ae=null,Je=null,St=null,gu=!1,Ba=!1,Fr=!1,yu=0,po=0,Ha=null,nT=0;function ht(){throw Error(r(321))}function Wd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Zd(t,i,a,o,f,m){return Qi=m,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Hy:pf,Fr=!1,m=a(o,f),Fr=!1,Ba&&(m=oy(i,a,o,f)),ly(t),m}function ly(t){X.H=vo;var i=Je!==null&&Je.next!==null;if(Qi=0,St=Je=Ae=null,gu=!1,po=0,Ha=null,i)throw Error(r(300));t===null||At||(t=t.dependencies,t!==null&&lu(t)&&(At=!0))}function oy(t,i,a,o){Ae=t;var f=0;do{if(Ba&&(Ha=null),po=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,St=Je=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Fy,m=i(a,o)}while(Ba);return m}function iT(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?go(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ae.flags|=1024),i}function ef(){var t=yu!==0;return yu=0,t}function tf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nf(t){if(gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gu=!1}Qi=0,St=Je=Ae=null,Ba=!1,po=yu=0,Ha=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=t:St=St.next=t,St}function gt(){if(Je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=St===null?Ae.memoizedState:St.next;if(i!==null)St=i,Je=t;else{if(t===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?Ae.memoizedState=St=t:St=St.next=t}return St}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function go(t){var i=po;return po+=1,Ha===null&&(Ha=[]),t=Wg(Ha,t,i),i=Ae,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Hy:pf),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===K)return Ht(t)}throw Error(r(438,String(t)))}function sf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vu(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function bu(t){var i=gt();return rf(i,Je,t)}function rf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var T=_=null,C=null,H=i,$=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(je&Z)===Z:(Qi&Z)===Z){var F=H.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Pa&&($=!0);else if((Qi&F)===F){H=H.next,F===Pa&&($=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=Z,_=m):C=C.next=Z,Ae.lanes|=F,Us|=F;Z=H.action,Fr&&a(m,Z),m=H.hasEagerState?H.eagerState:a(m,Z)}else F={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=F,_=m):C=C.next=F,Ae.lanes|=Z,Us|=Z;H=H.next}while(H!==null&&H!==i);if(C===null?_=m:C.next=T,!gn(m,t.memoizedState)&&(At=!0,$&&(a=La,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=C,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function af(t){var i=gt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);gn(m,i.memoizedState)||(At=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,o]}function cy(t,i,a){var o=Ae,f=gt(),m=Pe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!gn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,At=!0),f=f.queue,cf(dy.bind(null,o,f,t),[t]),f.getSnapshot!==i||_||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Fa(9,{destroy:void 0},hy.bind(null,o,f,a,i),null),et===null)throw Error(r(349));m||(Qi&127)!==0||uy(o,i,a)}return a}function uy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=vu(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hy(t,i,a,o){i.value=a,i.getSnapshot=o,fy(i)&&my(t)}function dy(t,i,a){return a(function(){fy(i)&&my(t)})}function fy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function my(t){var i=Mr(t,2);i!==null&&dn(i,t,2)}function lf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Fr){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function py(t,i,a,o){return t.baseState=a,rf(t,Je,typeof o=="function"?o:Ki)}function sT(t,i,a,o,f){if(Tu(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};X.T!==null?a(!0):m.isTransition=!1,o(m),a=i.pending,a===null?(m.next=i.pending=m,gy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function gy(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=X.T,_={};X.T=_;try{var T=a(f,o),C=X.S;C!==null&&C(_,T),yy(t,i,T)}catch(H){of(t,i,H)}finally{m!==null&&_.types!==null&&(m.types=_.types),X.T=m}}else try{m=a(f,o),yy(t,i,m)}catch(H){of(t,i,H)}}function yy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vy(t,i,o)},function(o){return of(t,i,o)}):vy(t,i,a)}function vy(t,i,a){i.status="fulfilled",i.value=a,_y(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gy(t,a)))}function of(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,_y(i),i=i.next;while(i!==o)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function by(t,i){return i}function xy(t,i){if(Pe){var a=et.formState;if(a!==null){e:{var o=Ae;if(Pe){if(nt){t:{for(var f=nt,m=jn;f.nodeType!==8;){if(!m){f=null;break t}if(f=kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){nt=kn(f.nextSibling),o=f.data==="F!";break e}}Is(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:i},a.queue=o,a=zy.bind(null,Ae,o),o.dispatch=a,o=lf(!1),m=mf.bind(null,Ae,!1,o.queue),o=rn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=sT.bind(null,Ae,f,m,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function Ey(t){var i=gt();return Ty(i,Je,t)}function Ty(t,i,a){if(i=rf(t,i,by)[0],t=bu(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=go(i)}catch(_){throw _===Ua?uu:_}else o=i;i=gt();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Fa(9,{destroy:void 0},rT.bind(null,f,a),null)),[o,m,t]}function rT(t,i){t.action=i}function wy(t){var i=gt(),a=Je;if(a!==null)return Ty(i,a,t);gt(),i=i.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Fa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=vu(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Sy(){return gt().memoizedState}function xu(t,i,a,o){var f=rn();Ae.flags|=t,f.memoizedState=Fa(1|i,{destroy:void 0},a,o===void 0?null:o)}function Eu(t,i,a,o){var f=gt();o=o===void 0?null:o;var m=f.memoizedState.inst;Je!==null&&o!==null&&Wd(o,Je.memoizedState.deps)?f.memoizedState=Fa(i,m,a,o):(Ae.flags|=t,f.memoizedState=Fa(1|i,m,a,o))}function Ay(t,i){xu(8390656,8,t,i)}function cf(t,i){Eu(2048,8,t,i)}function aT(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=vu(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ny(t){var i=gt().memoizedState;return aT({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ry(t,i){return Eu(4,2,t,i)}function Cy(t,i){return Eu(4,4,t,i)}function Iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dy(t,i,a){a=a!=null?a.concat([t]):null,Eu(4,4,Iy.bind(null,i,t),a)}function uf(){}function jy(t,i){var a=gt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Wd(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Oy(t,i){var a=gt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Wd(i,o[1]))return o[0];if(o=t(),Fr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,i],o}function hf(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=k0(),Ae.lanes|=t,Us|=t,a)}function ky(t,i,a,o){return gn(a,i)?a:qa.current!==null?(t=hf(t,a,o),gn(t,i)||(At=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(je&261930)===0?(At=!0,t.memoizedState=a):(t=k0(),Ae.lanes|=t,Us|=t,i)}function My(t,i,a,o,f){var m=re.p;re.p=m!==0&&8>m?m:8;var _=X.T,T={};X.T=T,mf(t,!1,i,a);try{var C=f(),H=X.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=tT(C,o);yo(t,i,$,En(t))}else yo(t,i,o,En(t))}catch(Z){yo(t,i,{then:function(){},status:"rejected",reason:Z},En())}finally{re.p=m,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function lT(){}function df(t,i,a,o){if(t.tag!==5)throw Error(r(476));var f=Vy(t).queue;My(t,f,i,me,a===null?lT:function(){return Py(t),a(o)})}function Vy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=Vy(t);i.next===null&&(i=t.alternate.memoizedState),yo(t,i.next.queue,{},En())}function ff(){return Ht(ko)}function Ly(){return gt().memoizedState}function Uy(){return gt().memoizedState}function oT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=Os(a);var o=ks(i,t,a);o!==null&&(dn(o,i,a),ho(o,i,a)),i={cache:qd()},t.payload=i;return}i=i.return}}function cT(t,i,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(t)?qy(i,a):(a=Id(t,i,a,o),a!==null&&(dn(a,t,o),By(a,i,o)))}function zy(t,i,a){var o=En();yo(t,i,a,o)}function yo(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))qy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,T=m(_,a);if(f.hasEagerState=!0,f.eagerState=T,gn(T,_))return iu(t,i,f,0),et===null&&nu(),!1}catch{}finally{}if(a=Id(t,i,f,o),a!==null)return dn(a,t,o),By(a,i,o),!0}return!1}function mf(t,i,a,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(i)throw Error(r(479))}else i=Id(t,a,o,2),i!==null&&dn(i,t,2)}function Tu(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function qy(t,i){Ba=gu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function By(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}var vo={readContext:Ht,use:_u,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};vo.useEffectEvent=ht;var Hy={readContext:Ht,use:_u,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Ay,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,xu(4194308,4,Iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return xu(4194308,4,t,i)},useInsertionEffect:function(t,i){xu(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var o=t();if(Fr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=rn();if(a!==void 0){var f=a(i);if(Fr){Tn(!0);try{a(i)}finally{Tn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=cT.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=lf(t);var i=t.queue,a=zy.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(t,i){var a=rn();return hf(a,t,i)},useTransition:function(){var t=lf(!1);return t=My.bind(null,Ae,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ae,f=rn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),et===null)throw Error(r(349));(je&127)!==0||uy(o,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Ay(dy.bind(null,o,m,t),[t]),o.flags|=2048,Fa(9,{destroy:void 0},hy.bind(null,o,m,a,i),null),a},useId:function(){var t=rn(),i=et.identifierPrefix;if(Pe){var a=Si,o=wi;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=nT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ff,useFormState:xy,useActionState:xy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=mf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:sf,useCacheRefresh:function(){return rn().memoizedState=oT.bind(null,Ae)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},pf={readContext:Ht,use:_u,useCallback:jy,useContext:Ht,useEffect:cf,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:bu,useRef:Sy,useState:function(){return bu(Ki)},useDebugValue:uf,useDeferredValue:function(t,i){var a=gt();return ky(a,Je.memoizedState,t,i)},useTransition:function(){var t=bu(Ki)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:cy,useId:Ly,useHostTransitionStatus:ff,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,i){var a=gt();return py(a,Je,t,i)},useMemoCache:sf,useCacheRefresh:Uy};pf.useEffectEvent=Ny;var Fy={readContext:Ht,use:_u,useCallback:jy,useContext:Ht,useEffect:cf,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:af,useRef:Sy,useState:function(){return af(Ki)},useDebugValue:uf,useDeferredValue:function(t,i){var a=gt();return Je===null?hf(a,t,i):ky(a,Je.memoizedState,t,i)},useTransition:function(){var t=af(Ki)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:cy,useId:Ly,useHostTransitionStatus:ff,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var a=gt();return Je!==null?py(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sf,useCacheRefresh:Uy};Fy.useEffectEvent=Ny;function gf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=En(),f=Os(o);f.payload=i,a!=null&&(f.callback=a),i=ks(t,f,o),i!==null&&(dn(i,t,o),ho(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=En(),f=Os(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=ks(t,f,o),i!==null&&(dn(i,t,o),ho(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),o=Os(a);o.tag=2,i!=null&&(o.callback=i),i=ks(t,o,a),i!==null&&(dn(i,t,a),ho(i,t,a))}};function Gy(t,i,a,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):i.prototype&&i.prototype.isPureReactComponent?!io(a,o)||!io(f,m):!0}function Yy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&yf.enqueueReplaceState(i,i.state,null)}function Gr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Qy(t){tu(t)}function Ky(t){console.error(t)}function $y(t){tu(t)}function wu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Xy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vf(t,i,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(t,i)},a}function Jy(t){return t=Os(t),t.tag=3,t}function Wy(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){Xy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Xy(i,a,o),typeof f!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function uT(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,f,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?Vu():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===hu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Hf(t,o,f)),!1;case 22:return a.flags|=65536,o===hu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Hf(t,o,f)),!1}throw Error(r(435,a.tag))}return Hf(t,o,f),Vu(),!1}if(Pe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Vd&&(t=Error(r(422),{cause:o}),ao(Cn(t,a)))):(o!==Vd&&(i=Error(r(423),{cause:o}),ao(Cn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Cn(o,a),f=vf(t.stateNode,o,f),Qd(t,f),dt!==4&&(dt=2)),!1;var m=Error(r(520),{cause:o});if(m=Cn(m,a),Ao===null?Ao=[m]:Ao.push(m),dt!==4&&(dt=2),i===null)return!0;o=Cn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=vf(a.stateNode,o,t),Qd(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zs===null||!zs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Jy(f),Wy(f,t,a,o),Qd(a,f),!1}a=a.return}while(a!==null);return!1}var _f=Error(r(461)),At=!1;function Ft(t,i,a,o){i.child=t===null?ny(i,null,a,o):Hr(i,t.child,a,o)}function Zy(t,i,a,o,f){a=a.render;var m=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ur(i),o=Zd(t,i,a,_,m,f),T=ef(),t!==null&&!At?(tf(t,i,f),$i(t,i,f)):(Pe&&T&&kd(i),i.flags|=1,Ft(t,i,o,f),i.child)}function e0(t,i,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!Dd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,t0(t,i,m,o,f)):(t=ru(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Nf(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:io,a(_,o)&&t.ref===i.ref)return $i(t,i,f)}return i.flags|=1,t=Hi(m,o),t.ref=i.ref,t.return=i,i.child=t}function t0(t,i,a,o,f){if(t!==null){var m=t.memoizedProps;if(io(m,o)&&t.ref===i.ref)if(At=!1,i.pendingProps=o=m,Nf(t,f))(t.flags&131072)!==0&&(At=!0);else return i.lanes=t.lanes,$i(t,i,f)}return bf(t,i,a,o,f)}function n0(t,i,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,i.child=null;return i0(t,i,m,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(i,m!==null?m.cachePool:null),m!==null?ry(i,m):$d(),ay(i);else return o=i.lanes=536870912,i0(t,i,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(cu(i,m.cachePool),ry(i,m),Vs(),i.memoizedState=null):(t!==null&&cu(i,null),$d(),Vs());return Ft(t,i,f,a),i.child}function _o(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function i0(t,i,a,o,f){var m=Hd();return m=m===null?null:{parent:wt._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&cu(i,null),$d(),ay(i),t!==null&&Va(t,i,o,!0),i.childLanes=f,null}function Su(t,i){return i=Nu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function s0(t,i,a){return Hr(i,t.child,null,a),t=Su(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function hT(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=Su(i,o),i.lanes=536870912,_o(null,t);if(Jd(i),(t=nt)?(t=gv(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw Is(i);return i.lanes=536870912,null}return Su(i,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Jd(i),f)if(i.flags&256)i.flags&=-257,i=s0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(At||Va(t,i,a,!1),f=(a&t.childLanes)!==0,At||f){if(o=et,o!==null&&(_=Ul(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Mr(t,_),dn(o,t,_),_f;Vu(),i=s0(t,i,a)}else t=m.treeContext,nt=kn(_.nextSibling),Bt=i,Pe=!0,Cs=null,jn=!1,t!==null&&Fg(i,t),i=Su(i,o),i.flags|=4096;return i}return t=Hi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Au(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function bf(t,i,a,o,f){return Ur(i),a=Zd(t,i,a,o,void 0,f),o=ef(),t!==null&&!At?(tf(t,i,f),$i(t,i,f)):(Pe&&o&&kd(i),i.flags|=1,Ft(t,i,a,f),i.child)}function r0(t,i,a,o,f,m){return Ur(i),i.updateQueue=null,a=oy(i,o,a,f),ly(t),o=ef(),t!==null&&!At?(tf(t,i,m),$i(t,i,m)):(Pe&&o&&kd(i),i.flags|=1,Ft(t,i,a,m),i.child)}function a0(t,i,a,o,f){if(Ur(i),i.stateNode===null){var m=ja,_=a.contextType;typeof _=="object"&&_!==null&&(m=Ht(_)),m=new a(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=yf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},Gd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Ht(_):ja,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gf(i,a,_,o),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&yf.enqueueReplaceState(m,m.state,null),mo(i,o,m,f),fo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var T=i.memoizedProps,C=Gr(a,T);m.props=C;var H=m.context,$=a.contextType;_=ja,typeof $=="object"&&$!==null&&(_=Ht($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||H!==_)&&Yy(i,m,o,_),js=!1;var F=i.memoizedState;m.state=F,mo(i,o,m,f),fo(),H=i.memoizedState,T||F!==H||js?(typeof Z=="function"&&(gf(i,a,Z,o),H=i.memoizedState),(C=js||Gy(i,a,C,o,F,H,_))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=H),m.props=o,m.state=H,m.context=_,o=C):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,Yd(t,i),_=i.memoizedProps,$=Gr(a,_),m.props=$,Z=i.pendingProps,F=m.context,H=a.contextType,C=ja,typeof H=="object"&&H!==null&&(C=Ht(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==Z||F!==C)&&Yy(i,m,o,C),js=!1,F=i.memoizedState,m.state=F,mo(i,o,m,f),fo();var Y=i.memoizedState;_!==Z||F!==Y||js||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof T=="function"&&(gf(i,a,T,o),Y=i.memoizedState),($=js||Gy(i,a,$,o,F,Y,C)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,Y,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,Y,C)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),m.props=o,m.state=Y,m.context=C,o=$):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,Au(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=Hr(i,t.child,null,f),i.child=Hr(i,null,a,f)):Ft(t,i,a,f),i.memoizedState=m.state,t=i.child):t=$i(t,i,f),t}function l0(t,i,a,o){return Pr(),i.flags|=256,Ft(t,i,a,o),i.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(t){return{baseLanes:t,cachePool:Xg()}}function Tf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function o0(t,i,a){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Ms(i):Vs(),(t=nt)?(t=gv(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw Is(i);return rm(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,f?(Vs(),f=i.mode,T=Nu({mode:"hidden",children:T},f),o=Vr(o,f,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Ef(a),o.childLanes=Tf(t,_,a),i.memoizedState=xf,_o(null,o)):(Ms(i),wf(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(m)i.flags&256?(Ms(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(Vs(),i.child=t.child,i.flags|=128,i=null):(Vs(),T=o.fallback,f=i.mode,o=Nu({mode:"visible",children:o.children},f),T=Vr(T,f,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Hr(i,t.child,null,a),o=i.child,o.memoizedState=Ef(a),o.childLanes=Tf(t,_,a),i.memoizedState=xf,i=_o(null,o));else if(Ms(i),rm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(r(419)),o.stack="",o.digest=_,ao({value:o,source:null,stack:null}),i=Sf(t,i,a)}else if(At||Va(t,i,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=et,_!==null&&(o=Ul(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Mr(t,o),dn(_,t,o),_f;sm(T)||Vu(),i=Sf(t,i,a)}else sm(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,nt=kn(T.nextSibling),Bt=i,Pe=!0,Cs=null,jn=!1,t!==null&&Fg(i,t),i=wf(i,o.children),i.flags|=4096);return i}return f?(Vs(),T=o.fallback,f=i.mode,C=t.child,H=C.sibling,o=Hi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,H!==null?T=Hi(H,T):(T=Vr(T,f,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,_o(null,o),o=i.child,T=t.child.memoizedState,T===null?T=Ef(a):(f=T.cachePool,f!==null?(C=wt._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Xg(),T={baseLanes:T.baseLanes|a,cachePool:f}),o.memoizedState=T,o.childLanes=Tf(t,_,a),i.memoizedState=xf,_o(t.child,o)):(Ms(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function wf(t,i){return i=Nu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nu(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Sf(t,i,a){return Hr(i,t.child,null,a),t=wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function c0(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Ud(t.return,i,a)}function Af(t,i,a,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function u0(t,i,a){var o=i.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Ft(t,i,o,a),o=Pe?ro:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,a,i);else if(t.tag===19)c0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&pu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Af(i,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&pu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Af(i,!0,a,null,m,o);break;case"together":Af(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function $i(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Us|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Nf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function dT(t,i,a){switch(i.tag){case 3:jt(i,i.stateNode.containerInfo),Ds(i,wt,t.memoizedState.cache),Pr();break;case 27:case 5:yr(i);break;case 4:jt(i,i.stateNode.containerInfo);break;case 10:Ds(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jd(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ms(i),i.flags|=128,null):(a&i.child.childLanes)!==0?o0(t,i,a):(Ms(i),t=$i(t,i,a),t!==null?t.sibling:null);Ms(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Va(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return u0(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(pt,pt.current),o)break;return null;case 22:return i.lanes=0,n0(t,i,a,i.pendingProps);case 24:Ds(i,wt,t.memoizedState.cache)}return $i(t,i,a)}function h0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)At=!0;else{if(!Nf(t,a)&&(i.flags&128)===0)return At=!1,dT(t,i,a);At=(t.flags&131072)!==0}else At=!1,Pe&&(i.flags&1048576)!==0&&Hg(i,ro,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=qr(i.elementType),i.type=t,typeof t=="function")Dd(t)?(o=Gr(t,o),i.tag=1,i=a0(null,i,t,o,a)):(i.tag=0,i=bf(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===ve){i.tag=11,i=Zy(null,i,t,o,a);break e}else if(f===I){i.tag=14,i=e0(null,i,t,o,a);break e}}throw i=rt(t)||t,Error(r(306,i,""))}}return i;case 0:return bf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=Gr(o,i.pendingProps),a0(t,i,o,f,a);case 3:e:{if(jt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var m=i.memoizedState;f=m.element,Yd(t,i),mo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Ds(i,wt,o),o!==m.cache&&zd(i,[wt],a,!0),fo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=l0(t,i,o,a);break e}else if(o!==f){f=Cn(Error(r(424)),i),ao(f),i=l0(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=kn(t.firstChild),Bt=i,Pe=!0,Cs=null,jn=!0,a=ny(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),o===f){i=$i(t,i,a);break e}Ft(t,i,o,a)}i=i.child}return i;case 26:return Au(t,i),t===null?(a=Ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,o=Hu(Ne.current).createElement(a),o[xt]=i,o[Vt]=t,Gt(o,a,t),Et(o),i.stateNode=o):i.memoizedState=Ev(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yr(i),t===null&&Pe&&(o=i.stateNode=_v(i.type,i.pendingProps,Ne.current),Bt=i,jn=!0,f=nt,Fs(i.type)?(am=f,nt=kn(o.firstChild)):nt=f),Ft(t,i,i.pendingProps.children,a),Au(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=o=nt)&&(o=BT(o,i.type,i.pendingProps,jn),o!==null?(i.stateNode=o,Bt=i,nt=kn(o.firstChild),jn=!1,f=!0):f=!1),f||Is(i)),yr(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,tm(f,m)?o=null:_!==null&&tm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Zd(t,i,iT,null,null,a),ko._currentValue=f),Au(t,i),Ft(t,i,o,a),i.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=HT(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Bt=i,nt=null,t=!0):t=!1),t||Is(i)),null;case 13:return o0(t,i,a);case 4:return jt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Hr(i,null,o,a):Ft(t,i,o,a),i.child;case 11:return Zy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ds(i,i.type,o.value),Ft(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ur(i),f=Ht(f),o=o(f),i.flags|=1,Ft(t,i,o,a),i.child;case 14:return e0(t,i,i.type,i.pendingProps,a);case 15:return t0(t,i,i.type,i.pendingProps,a);case 19:return u0(t,i,a);case 31:return hT(t,i,a);case 22:return n0(t,i,a,i.pendingProps);case 24:return Ur(i),o=Ht(wt),t===null?(f=Hd(),f===null&&(f=et,m=qd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:o,cache:f},Gd(i),Ds(i,wt,f)):((t.lanes&a)!==0&&(Yd(t,i),mo(i,null,null,a),fo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ds(i,wt,o)):(o=m.cache,Ds(i,wt,o),o!==f.cache&&zd(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Xi(t){t.flags|=4}function Rf(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(L0())t.flags|=8192;else throw Br=hu,Fd}else t.flags&=-16777217}function d0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(i))if(L0())t.flags|=8192;else throw Br=hu,Fd}function Ru(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?kc():536870912,t.lanes|=i,Ka|=i)}function bo(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function fT(t,i,a){var o=i.pendingProps;switch(Md(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yi(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pd())),it(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(Xi(i),m!==null?(it(i),d0(i,m)):(it(i),Rf(i,f,null,o,a))):m?m!==t.memoizedState?(Xi(i),it(i),d0(i,m)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Xi(i),it(i),Rf(i,f,t,o,a)),null;case 27:if(fa(i),a=Ne.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return it(i),null}t=ce.current,Ma(i)?Gg(i):(t=_v(f,o,a),i.stateNode=t,Xi(i))}return it(i),null;case 5:if(fa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return it(i),null}if(m=ce.current,Ma(i))Gg(i);else{var _=Hu(Ne.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[xt]=i,m[Vt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Gt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xi(i)}}return it(i),Rf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ne.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=Bt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[xt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ov(t.nodeValue,a)),t||Is(i,!0)}else t=Hu(t).createTextNode(o),t[xt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ma(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[xt]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=Pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ru(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&Xf(i.stateNode.containerInfo),it(i),null;case 10:return Yi(i.type),it(i),null;case 19:if(ee(pt),o=i.memoizedState,o===null)return it(i),null;if(f=(i.flags&128)!==0,m=o.rendering,m===null)if(f)bo(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=pu(t),m!==null){for(i.flags|=128,bo(o,!1),t=m.updateQueue,i.updateQueue=t,Ru(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)zg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Pe&&Fi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&nn()>Ou&&(i.flags|=128,f=!0,bo(o,!1),i.lanes=4194304)}else{if(!f)if(t=pu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Ru(i,t),bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Pe)return it(i),null}else 2*nn()-o.renderingStartTime>Ou&&a!==536870912&&(i.flags|=128,f=!0,bo(o,!1),i.lanes=4194304);o.isBackwards?(m.sibling=i.child,i.child=m):(t=o.last,t!==null?t.sibling=m:i.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=pt.current,ae(pt,f?a&1|2:a&1),Pe&&Fi(i,o.treeForkCount),t):(it(i),null);case 22:case 23:return _n(i),Xd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Ru(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&ee(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(wt),it(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function mT(t,i){switch(Md(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(wt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(pt),null;case 4:return at(),null;case 10:return Yi(i.type),null;case 22:case 23:return _n(i),Xd(),t!==null&&ee(zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(wt),null;case 25:return null;default:return null}}function f0(t,i){switch(Md(i),i.tag){case 3:Yi(wt),at();break;case 26:case 27:case 5:fa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:ee(pt);break;case 10:Yi(i.type);break;case 22:case 23:_n(i),Xd(),t!==null&&ee(zr);break;case 24:Yi(wt)}}function xo(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==f)}}catch(T){$e(i,i.return,T)}}function Ps(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var C=a,H=T;try{H()}catch($){$e(f,C,$)}}}o=o.next}while(o!==m)}}catch($){$e(i,i.return,$)}}function m0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sy(i,a)}catch(o){$e(t,t.return,o)}}}function p0(t,i,a){a.props=Gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function Eo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){$e(t,i,f)}}function Ai(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){$e(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,i,f)}else a.current=null}function g0(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function Cf(t,i,a){try{var o=t.stateNode;VT(o,t.type,a,i),o[Vt]=i}catch(f){$e(t,t.return,f)}}function y0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function If(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Df(t,i,a),t=t.sibling;t!==null;)Df(t,i,a),t=t.sibling}function Cu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cu(t,i,a),t=t.sibling;t!==null;)Cu(t,i,a),t=t.sibling}function v0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,o,a),i[xt]=t,i[Vt]=a}catch(m){$e(t,t.return,m)}}var Ji=!1,Nt=!1,jf=!1,_0=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function pT(t,i){if(t=t.containerInfo,Zf=Xu,t=Dg(t),wd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,H=0,$=0,Z=t,F=null;t:for(;;){for(var Y;Z!==a||f!==0&&Z.nodeType!==3||(T=_+f),Z!==m||o!==0&&Z.nodeType!==3||(C=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)F=Z,Z=Y;for(;;){if(Z===t)break t;if(F===a&&++H===f&&(T=_),F===m&&++$===o&&(C=_),(Y=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Y}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Xu=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ue=Gr(a.type,f);t=o.getSnapshotBeforeUpdate(ue,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){$e(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function b0(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),o&4&&xo(5,a);break;case 1:if(Zi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=Gr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}o&64&&m0(a),o&512&&Eo(a,a.return);break;case 3:if(Zi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&o&4&&v0(a);case 26:case 5:Zi(t,a),i===null&&o&4&&g0(a),o&512&&Eo(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),o&4&&T0(t,a);break;case 13:Zi(t,a),o&4&&w0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wT.bind(null,a),FT(t,a))));break;case 22:if(o=a.memoizedState!==null||Ji,!o){i=i!==null&&i.memoizedState!==null||Nt,f=Ji;var m=Nt;Ji=o,(Nt=i)&&!m?es(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),Ji=f,Nt=m}break;case 30:break;default:Zi(t,a)}}function x0(t){var i=t.alternate;i!==null&&(t.alternate=null,x0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Wi(t,i,a){for(a=a.child;a!==null;)E0(t,i,a),a=a.sibling}function E0(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Nt||Ai(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ai(a,i);var o=ot,f=on;Fs(a.type)&&(ot=a.stateNode,on=!1),Wi(t,i,a),Do(a.stateNode),ot=o,on=f;break;case 5:Nt||Ai(a,i);case 6:if(o=ot,f=on,ot=null,Wi(t,i,a),ot=o,on=f,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(m){$e(a,i,m)}else try{ot.removeChild(a.stateNode)}catch(m){$e(a,i,m)}break;case 18:ot!==null&&(on?(t=ot,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),nl(t)):mv(ot,a.stateNode));break;case 4:o=ot,f=on,ot=a.stateNode.containerInfo,on=!0,Wi(t,i,a),ot=o,on=f;break;case 0:case 11:case 14:case 15:Ps(2,a,i),Nt||Ps(4,a,i),Wi(t,i,a);break;case 1:Nt||(Ai(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&p0(a,i,o)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:Nt=(o=Nt)||a.memoizedState!==null,Wi(t,i,a),Nt=o;break;default:Wi(t,i,a)}}function T0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(a){$e(i,i.return,a)}}}function w0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(a){$e(i,i.return,a)}}function gT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _0),i;default:throw Error(r(435,t.tag))}}function Iu(t,i){var a=gT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=ST.bind(null,t,o);o.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){ot=T.stateNode,on=!1;break e}break;case 5:ot=T.stateNode,on=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ot===null)throw Error(r(160));E0(m,_,f),ot=null,on=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)S0(i,t),i=i.sibling}var Jn=null;function S0(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),un(t),o&4&&(Ps(3,t,t.return),xo(3,t),Ps(5,t,t.return));break;case 1:cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),o&64&&Ji&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Jn;if(cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[di]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Gt(m,o,a),m[xt]=t,Et(m),o=m;break e;case"link":var _=Sv("link","href",f).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=f.createElement(o),Gt(m,o,a),f.head.appendChild(m);break;case"meta":if(_=Sv("meta","content",f).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=f.createElement(o),Gt(m,o,a),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[xt]=t,Et(m),o=m}t.stateNode=o}else Av(f,t.type,t.stateNode);else t.stateNode=wv(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Av(f,t.type,t.stateNode):wv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Cf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),a!==null&&o&4&&Cf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),un(t),o&512&&(Nt||a===null||Ai(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ue){$e(t,t.return,ue)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Cf(t,f,a!==null?a.memoizedProps:f)),o&1024&&(jf=!0);break;case 6:if(cn(i,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){$e(t,t.return,ue)}}break;case 3:if(Yu=null,f=Jn,Jn=Fu(i.containerInfo),cn(i,t),Jn=f,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{nl(i.containerInfo)}catch(ue){$e(t,t.return,ue)}jf&&(jf=!1,A0(t));break;case 4:o=Jn,Jn=Fu(t.stateNode.containerInfo),cn(i,t),un(t),Jn=o;break;case 12:cn(i,t),un(t);break;case 31:cn(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 13:cn(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ju=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 22:f=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=Ji,$=Nt;if(Ji=H||f,Nt=$||C,cn(i,t),Nt=$,Ji=H,un(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||Ji||Nt||Yr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(m=C.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){$e(C,C.return,ue)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(ue){$e(C,C.return,ue)}}}else if(i.tag===18){if(a===null){C=i;try{var Y=C.stateNode;f?pv(Y,!0):pv(C.stateNode,!1)}catch(ue){$e(C,C.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Iu(t,a))));break;case 19:cn(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 30:break;case 21:break;default:cn(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(y0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=If(t);Cu(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=If(t);Cu(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,H=If(t);Df(t,H,C);break;default:throw Error(r(161))}}catch($){$e(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function A0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;A0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)b0(t,i.alternate,i),i=i.sibling}function Yr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ps(4,i,i.return),Yr(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&p0(i,i.return,a),Yr(i);break;case 27:Do(i.stateNode);case 26:case 5:Ai(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}t=t.sibling}}function es(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:es(f,m,a),xo(4,m);break;case 1:if(es(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(o,o.return,H)}if(o=m,f=o.updateQueue,f!==null){var T=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)iy(C[f],T)}catch(H){$e(o,o.return,H)}}a&&_&64&&m0(m),Eo(m,m.return);break;case 27:v0(m);case 26:case 5:es(f,m,a),a&&o===null&&_&4&&g0(m),Eo(m,m.return);break;case 12:es(f,m,a);break;case 31:es(f,m,a),a&&_&4&&T0(f,m);break;case 13:es(f,m,a),a&&_&4&&w0(f,m);break;case 22:m.memoizedState===null&&es(f,m,a),Eo(m,m.return);break;case 30:break;default:es(f,m,a)}i=i.sibling}}function Of(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&lo(a))}function kf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t))}function Wn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N0(t,i,a,o),i=i.sibling}function N0(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,o),f&2048&&xo(9,i);break;case 1:Wn(t,i,a,o);break;case 3:Wn(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t)));break;case 12:if(f&2048){Wn(t,i,a,o),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$e(i,i.return,C)}}else Wn(t,i,a,o);break;case 31:Wn(t,i,a,o);break;case 13:Wn(t,i,a,o);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?Wn(t,i,a,o):To(t,i):m._visibility&2?Wn(t,i,a,o):(m._visibility|=2,Ga(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Of(_,i);break;case 24:Wn(t,i,a,o),f&2048&&kf(i.alternate,i);break;default:Wn(t,i,a,o)}}function Ga(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,T=a,C=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(m,_,T,C,f),xo(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ga(m,_,T,C,f):To(m,_):($._visibility|=2,Ga(m,_,T,C,f)),f&&H&2048&&Of(_.alternate,_);break;case 24:Ga(m,_,T,C,f),f&&H&2048&&kf(_.alternate,_);break;default:Ga(m,_,T,C,f)}i=i.sibling}}function To(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:To(a,o),f&2048&&Of(o.alternate,o);break;case 24:To(a,o),f&2048&&kf(o.alternate,o);break;default:To(a,o)}i=i.sibling}}var wo=8192;function Ya(t,i,a){if(t.subtreeFlags&wo)for(t=t.child;t!==null;)R0(t,i,a),t=t.sibling}function R0(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&wo&&t.memoizedState!==null&&n2(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var o=Jn;Jn=Fu(t.stateNode.containerInfo),Ya(t,i,a),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=wo,wo=16777216,Ya(t,i,a),wo=o):Ya(t,i,a));break;default:Ya(t,i,a)}}function C0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function So(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,D0(o,t)}C0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I0(t),t=t.sibling}function I0(t){switch(t.tag){case 0:case 11:case 15:So(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:So(t);break;case 12:So(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Du(t)):So(t);break;default:So(t)}}function Du(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,D0(o,t)}C0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ps(8,i,i.return),Du(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Du(i));break;default:Du(i)}t=t.sibling}}function D0(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ps(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Lt=o;else e:for(a=t;Lt!==null;){o=Lt;var f=o.sibling,m=o.return;if(x0(o),o===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}var yT={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},vT=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ce=null,je=0,Ke=0,bn=null,Ls=!1,Qa=!1,Mf=!1,ts=0,dt=0,Us=0,Qr=0,Vf=0,xn=0,Ka=0,Ao=null,hn=null,Pf=!1,ju=0,j0=0,Ou=1/0,ku=null,zs=null,kt=0,qs=null,$a=null,ns=0,Lf=0,Uf=null,O0=null,No=0,zf=null;function En(){return(Fe&2)!==0&&je!==0?je&-je:X.T!==null?Yf():Mc()}function k0(){if(xn===0)if((je&536870912)===0||Pe){var t=br;br<<=1,(br&3932160)===0&&(br=262144),xn=t}else xn=536870912;return t=vn.current,t!==null&&(t.flags|=32),xn}function dn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Bs(t,je,xn,!1)),xr(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Qr|=a),dt===4&&Bs(t,je,xn,!1)),Ni(t))}function M0(t,i,a){if((Fe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Bn(t,i),f=o?xT(t,i):Bf(t,i,!0),m=o;do{if(f===0){Qa&&!o&&Bs(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!_T(a)){f=Bf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;f=Ao;var C=T.current.memoizedState.isDehydrated;if(C&&(Xa(T,_).flags|=256),_=Bf(T,_,!1),_!==2){if(Mf&&!C){T.errorRecoveryDisabledLanes|=m,Qr|=m,f=4;break e}m=hn,hn=f,m!==null&&(hn===null?hn=m:hn.push.apply(hn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Xa(t,0),Bs(t,i,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bs(o,i,xn,!Ls);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=ju+300-nn(),10<f)){if(Bs(o,i,xn,!Ls),ci(o,0,!0)!==0)break e;ns=i,o.timeoutHandle=dv(V0.bind(null,o,a,hn,ku,Pf,i,xn,Qr,Ka,Ls,m,"Throttled",-0,0),f);break e}V0(o,a,hn,ku,Pf,i,xn,Qr,Ka,Ls,m,null,-0,0)}}break}while(!0);Ni(t)}function V0(t,i,a,o,f,m,_,T,C,H,$,Z,F,Y){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},R0(i,m,Z);var ue=(m&62914560)===m?ju-nn():(m&4194048)===m?j0-nn():0;if(ue=i2(Z,ue),ue!==null){ns=m,t.cancelPendingCommit=ue(F0.bind(null,t,i,m,a,o,f,_,T,C,$,Z,null,F,Y)),Bs(t,m,_,!H);return}}F0(t,i,m,a,o,f,_,T,C)}function _T(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!gn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bs(t,i,a,o){i&=~Vf,i&=~Qr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-ft(f),_=1<<m;o[m]=-1,f&=~_}a!==0&&Er(t,a,i)}function Mu(){return(Fe&6)===0?(Ro(0),!1):!0}function qf(){if(Ce!==null){if(Ke===0)var t=Ce.return;else t=Ce,Gi=Lr=null,nf(t),za=null,co=0,t=Ce;for(;t!==null;)f0(t.alternate,t),t=t.return;Ce=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ns=0,qf(),et=t,Ce=a=Hi(t.current,null),je=i,Ke=0,bn=null,Ls=!1,Qa=Bn(t,i),Mf=!1,Ka=xn=Vf=Qr=Us=dt=0,hn=Ao=null,Pf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-ft(o),m=1<<f;i|=t[f],o&=~m}return ts=i,nu(),a}function P0(t,i){Ae=null,X.H=vo,i===Ua||i===uu?(i=Zg(),Ke=3):i===Fd?(i=Zg(),Ke=4):Ke=i===_f?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ce===null&&(dt=1,wu(t,Cn(i,t.current)))}function L0(){var t=vn.current;return t===null?!0:(je&4194048)===je?On===null:(je&62914560)===je||(je&536870912)!==0?t===On:!1}function U0(){var t=X.H;return X.H=vo,t===null?vo:t}function z0(){var t=X.A;return X.A=yT,t}function Vu(){dt=4,Ls||(je&4194048)!==je&&vn.current!==null||(Qa=!0),(Us&134217727)===0&&(Qr&134217727)===0||et===null||Bs(et,je,xn,!1)}function Bf(t,i,a){var o=Fe;Fe|=2;var f=U0(),m=z0();(et!==t||je!==i)&&(ku=null,Xa(t,i)),i=!1;var _=dt;e:do try{if(Ke!==0&&Ce!==null){var T=Ce,C=bn;switch(Ke){case 8:qf(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var H=Ke;if(Ke=0,bn=null,Ja(t,T,C,H),a&&Qa){_=0;break e}break;default:H=Ke,Ke=0,bn=null,Ja(t,T,C,H)}}bT(),_=dt;break}catch($){P0(t,$)}while(!0);return i&&t.shellSuspendCounter++,Gi=Lr=null,Fe=o,X.H=f,X.A=m,Ce===null&&(et=null,je=0,nu()),_}function bT(){for(;Ce!==null;)q0(Ce)}function xT(t,i){var a=Fe;Fe|=2;var o=U0(),f=z0();et!==t||je!==i?(ku=null,Ou=nn()+500,Xa(t,i)):Qa=Bn(t,i);e:do try{if(Ke!==0&&Ce!==null){i=Ce;var m=bn;t:switch(Ke){case 1:Ke=0,bn=null,Ja(t,i,m,1);break;case 2:case 9:if(Jg(m)){Ke=0,bn=null,B0(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ni(t)},m.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Jg(m)?(Ke=0,bn=null,B0(i)):(Ke=0,bn=null,Ja(t,i,m,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(_?Nv(_):T.stateNode.complete){Ke=0,bn=null;var C=T.sibling;if(C!==null)Ce=C;else{var H=T.return;H!==null?(Ce=H,Pu(H)):Ce=null}break t}}Ke=0,bn=null,Ja(t,i,m,5);break;case 6:Ke=0,bn=null,Ja(t,i,m,6);break;case 8:qf(),dt=6;break e;default:throw Error(r(462))}}ET();break}catch($){P0(t,$)}while(!0);return Gi=Lr=null,X.H=o,X.A=f,Fe=a,Ce!==null?0:(et=null,je=0,nu(),dt)}function ET(){for(;Ce!==null&&!yd();)q0(Ce)}function q0(t){var i=h0(t.alternate,t,ts);t.memoizedProps=t.pendingProps,i===null?Pu(t):Ce=i}function B0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=r0(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=r0(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:nf(i);default:f0(a,i),i=Ce=zg(i,ts),i=h0(a,i,ts)}t.memoizedProps=t.pendingProps,i===null?Pu(t):Ce=i}function Ja(t,i,a,o){Gi=Lr=null,nf(i),za=null,co=0;var f=i.return;try{if(uT(t,f,i,a,je)){dt=1,wu(t,Cn(a,t.current)),Ce=null;return}}catch(m){if(f!==null)throw Ce=f,m;dt=1,wu(t,Cn(a,t.current)),Ce=null;return}i.flags&32768?(Pe||o===1?t=!0:Qa||(je&536870912)!==0?t=!1:(Ls=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),H0(i,t)):Pu(i)}function Pu(t){var i=t;do{if((i.flags&32768)!==0){H0(i,Ls);return}t=i.return;var a=fT(i.alternate,i,ts);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);dt===0&&(dt=5)}function H0(t,i){do{var a=mT(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);dt=6,Ce=null}function F0(t,i,a,o,f,m,_,T,C){t.cancelPendingCommit=null;do Lu();while(kt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=Cd,bd(t,a,m,_,T,C),t===et&&(Ce=et=null,je=0),$a=i,qs=t,ns=a,Lf=m,Uf=f,O0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AT(vs,function(){return $0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,f=re.p,re.p=2,_=Fe,Fe|=4;try{pT(t,i,a)}finally{Fe=_,re.p=f,X.T=o}}kt=1,G0(),Y0(),Q0()}}function G0(){if(kt===1){kt=0;var t=qs,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=re.p;re.p=2;var f=Fe;Fe|=4;try{S0(i,t);var m=em,_=Dg(t.containerInfo),T=m.focusedElem,C=m.selectionRange;if(_!==T&&T&&T.ownerDocument&&Ig(T.ownerDocument.documentElement,T)){if(C!==null&&wd(T)){var H=C.start,$=C.end;if($===void 0&&($=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ue=T.textContent.length,pe=Math.min(C.start,ue),Ze=C.end===void 0?pe:Math.min(C.end,ue);!Y.extend&&pe>Ze&&(_=Ze,Ze=pe,pe=_);var L=Cg(T,pe),j=Cg(T,Ze);if(L&&j&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),pe>Ze?(Y.addRange(B),Y.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Y.addRange(B))}}}}for(Z=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Xu=!!Zf,em=Zf=null}finally{Fe=f,re.p=o,X.T=a}}t.current=i,kt=2}}function Y0(){if(kt===2){kt=0;var t=qs,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=re.p;re.p=2;var f=Fe;Fe|=4;try{b0(t,i.alternate,i)}finally{Fe=f,re.p=o,X.T=a}}kt=3}}function Q0(){if(kt===4||kt===3){kt=0,Rc();var t=qs,i=$a,a=ns,o=O0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,$a=qs=null,K0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(zs=null),Ui(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=X.T,f=re.p,re.p=2,X.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];m(T.value,{componentStack:T.stack})}}finally{X.T=i,re.p=f}}(ns&3)!==0&&Lu(),Ni(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===zf?No++:(No=0,zf=t):No=0,Ro(0)}}function K0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,lo(i)))}function Lu(){return G0(),Y0(),Q0(),$0()}function $0(){if(kt!==5)return!1;var t=qs,i=Lf;Lf=0;var a=Ui(ns),o=X.T,f=re.p;try{re.p=32>a?32:a,X.T=null,a=Uf,Uf=null;var m=qs,_=ns;if(kt=0,$a=qs=null,ns=0,(Fe&6)!==0)throw Error(r(331));var T=Fe;if(Fe|=4,I0(m.current),N0(m,m.current,_,a),Fe=T,Ro(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,m)}catch{}return!0}finally{re.p=f,X.T=o,K0(t,i)}}function X0(t,i,a){i=Cn(a,i),i=vf(t.stateNode,i,2),t=ks(t,i,2),t!==null&&(xr(t,2),Ni(t))}function $e(t,i,a){if(t.tag===3)X0(t,t,a);else for(;i!==null;){if(i.tag===3){X0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){t=Cn(a,t),a=Jy(2),o=ks(i,a,2),o!==null&&(Wy(a,o,i,t),xr(o,2),Ni(o));break}}i=i.return}}function Hf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new vT;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(Mf=!0,f.add(a),t=TT.bind(null,t,i,a),i.then(t,t))}function TT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>nn()-ju?(Fe&2)===0&&Xa(t,0):Vf|=a,Ka===je&&(Ka=0)),Ni(t)}function J0(t,i){i===0&&(i=kc()),t=Mr(t,i),t!==null&&(xr(t,i),Ni(t))}function wT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),J0(t,a)}function ST(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),J0(t,a)}function AT(t,i){return Ot(t,i)}var Uu=null,Wa=null,Ff=!1,zu=!1,Gf=!1,Hs=0;function Ni(t){t!==Wa&&t.next===null&&(Wa===null?Uu=Wa=t:Wa=Wa.next=t),zu=!0,Ff||(Ff=!0,RT())}function Ro(t,i){if(!Gf&&zu){Gf=!0;do for(var a=!1,o=Uu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-ft(42|t)+1)-1,m&=f&~(_&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,tv(o,m))}else m=je,m=ci(o,o===et?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Bn(o,m)||(a=!0,tv(o,m));o=o.next}while(a);Gf=!1}}function NT(){W0()}function W0(){zu=Ff=!1;var t=0;Hs!==0&&LT()&&(t=Hs);for(var i=nn(),a=null,o=Uu;o!==null;){var f=o.next,m=Z0(o,i);m===0?(o.next=null,a===null?Uu=f:a.next=f,f===null&&(Wa=a)):(a=o,(t!==0||(m&3)!==0)&&(zu=!0)),o=f}kt!==0&&kt!==5||Ro(t),Hs!==0&&(Hs=0)}function Z0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-ft(m),T=1<<_,C=f[_];C===-1?((T&a)===0||(T&o)!==0)&&(f[_]=_d(T,i)):C<=i&&(t.expiredLanes|=T),m&=~T}if(i=et,a=je,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&ys(o),Ui(a)){case 2:case 8:a=Pl;break;case 32:a=vs;break;case 268435456:a=Cc;break;default:a=vs}return o=ev.bind(null,t),a=Ot(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&ys(o),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lu()&&t.callbackNode!==a)return null;var o=je;return o=ci(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(M0(t,o,i),Z0(t,nn()),t.callbackNode!=null&&t.callbackNode===a?ev.bind(null,t):null)}function tv(t,i){if(Lu())return null;M0(t,i,!0)}function RT(){zT(function(){(Fe&6)!==0?Ot(Vl,NT):W0()})}function Yf(){if(Hs===0){var t=Pa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Hs=t}return Hs}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function iv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function CT(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var m=nv((f[Vt]||null).action),_=o.submitter;_&&(i=(i=_[Vt]||null)?nv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var T=new bi("action","action",null,o,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var C=_?iv(f,_):new FormData(f);df(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=_?iv(f,_):new FormData(f),df(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Qf=0;Qf<Rd.length;Qf++){var Kf=Rd[Qf],IT=Kf.toLowerCase(),DT=Kf[0].toUpperCase()+Kf.slice(1);Xn(IT,"on"+DT)}Xn(kg,"onAnimationEnd"),Xn(Mg,"onAnimationIteration"),Xn(Vg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Q1,"onTransitionRun"),Xn(K1,"onTransitionStart"),Xn($1,"onTransitionCancel"),Xn(Pg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function sv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch($){tu($)}f.currentTarget=null,m=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,H=T.currentTarget,T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=H;try{m(f)}catch($){tu($)}f.currentTarget=null,m=C}}}}function Ie(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var o=t+"__bubble";a.has(o)||(rv(i,t,2,!1),a.add(o))}function $f(t,i,a){var o=0;i&&(o|=4),rv(a,t,o,i)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[qu]){t[qu]=!0,zl.forEach(function(a){a!=="selectionchange"&&(jT.has(a)||$f(a,!1,t),$f(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qu]||(i[qu]=!0,$f("selectionchange",!1,i))}}function rv(t,i,a,o){switch(kv(i)){case 2:var f=a2;break;case 8:f=l2;break;default:f=hm}a=f.bind(null,i,a,t),f=void 0,!Nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Jf(t,i,a,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=fi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=m=_;continue e}T=T.parentNode}}o=o.return}ws(function(){var H=m,$=Sn(a),Z=[];e:{var F=Lg.get(t);if(F!==void 0){var Y=bi,ue=t;switch(t){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":Y=Wc;break;case"focusin":ue="focus",Y=Dr;break;case"focusout":ue="blur",Y=Dr;break;case"beforeblur":case"afterblur":Y=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case kg:case Mg:case Vg:Y=Gc;break;case Pg:Y=w;break;case"scroll":case"scrollend":Y=Wl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bi;break;case"toggle":case"beforetoggle":Y=Se}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),L=pe?F!==null?F+"Capture":null:F;pe=[];for(var j=H,B;j!==null;){var J=j;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=Yn(j,L),J!=null&&pe.push(Io(j,J,B))),Ze)break;j=j.return}0<pe.length&&(F=new Y(F,ue,null,a,$),Z.push({event:F,listeners:pe}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==$l&&(ue=a.relatedTarget||a.fromElement)&&(fi(ue)||ue[hi]))break e;if((Y||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ue=a.relatedTarget||a.toElement,Y=H,ue=ue?fi(ue):null,ue!==null&&(Ze=c(ue),pe=ue.tag,ue!==Ze||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(Y=null,ue=H),Y!==ue)){if(pe=Zl,J="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Bi,J="onPointerLeave",L="onPointerEnter",j="pointer"),Ze=Y==null?F:mn(Y),B=ue==null?F:mn(ue),F=new pe(J,j+"leave",Y,a,$),F.target=Ze,F.relatedTarget=B,J=null,fi($)===H&&(pe=new pe(L,j+"enter",ue,a,$),pe.target=B,pe.relatedTarget=Ze,J=pe),Ze=J,Y&&ue)t:{for(pe=OT,L=Y,j=ue,B=0,J=L;J;J=pe(J))B++;J=0;for(var de=j;de;de=pe(de))J++;for(;0<B-J;)L=pe(L),B--;for(;0<J-B;)j=pe(j),J--;for(;B--;){if(L===j||j!==null&&L===j.alternate){pe=L;break t}L=pe(L),j=pe(j)}pe=null}else pe=null;Y!==null&&av(Z,F,Y,pe,!1),ue!==null&&Ze!==null&&av(Z,Ze,ue,pe,!0)}}e:{if(F=H?mn(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var qe=Tg;else if(xg(F))if(wg)qe=F1;else{qe=B1;var he=q1}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&xa(H.elementType)&&(qe=Tg):qe=H1;if(qe&&(qe=qe(t,H))){Eg(Z,qe,a,$);break e}he&&he(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Yl(F,"number",F.value)}switch(he=H?mn(H):window,t){case"focusin":(xg(he)||he.contentEditable==="true")&&(Ca=he,Sd=H,so=null);break;case"focusout":so=Sd=Ca=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,jg(Z,a,$);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":jg(Z,a,$)}var Re;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ra?jr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ti&&a.locale!=="ko"&&(Ra||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ra&&(Re=Jl()):(_i=$,Xl="value"in _i?_i.value:_i.textContent,Ra=!0)),he=Bu(H,Oe),0<he.length&&(Oe=new Ei(Oe,t,null,a,$),Z.push({event:Oe,listeners:he}),Re?Oe.data=Re:(Re=Na(a),Re!==null&&(Oe.data=Re)))),(Re=Nn?P1(t,a):L1(t,a))&&(Oe=Bu(H,"onBeforeInput"),0<Oe.length&&(he=new Ei("onBeforeInput","beforeinput",null,a,$),Z.push({event:he,listeners:Oe}),he.data=Re)),CT(Z,t,H,a,$)}sv(Z,i)})}function Io(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Bu(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Yn(t,a),f!=null&&o.unshift(Io(t,f,m)),f=Yn(t,i),f!=null&&o.push(Io(t,f,m))),t.tag===3)return o;t=t.return}return[]}function OT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function av(t,i,a,o,f){for(var m=i._reactName,_=[];a!==null&&a!==o;){var T=a,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||H===null||(C=H,f?(H=Yn(a,m),H!=null&&_.unshift(Io(a,H,C))):f||(H=Yn(a,m),H!=null&&_.push(Io(a,H,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var kT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(kT,`
`).replace(MT,"")}function ov(t,i){return i=lv(i),lv(t)===i}function We(t,i,a,o,f,m){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":Kl(t,o,m);break;case"data":if(i!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),_a(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bc.get(a)||a,_a(t,a,o))}}function Wf(t,i,a,o,f,m){switch(a){case"style":Kl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=t[Vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):_a(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,m,_,a,null)}}f&&We(t,i,"srcSet",a.srcSet,a,null),o&&We(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var T=m=_=f=null,C=null,H=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":f=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":H=$;break;case"value":m=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:We(t,i,o,$,a,null)}}Uc(t,m,T,C,H,_,f,!1);return;case"select":Ie("invalid",t),o=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:We(t,i,f,T,a,null)}i=m,a=_,t.multiple=!!o,i!=null?bs(t,!!o,i,!1):a!=null&&bs(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),m=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:We(t,i,_,T,a,null)}xs(t,o,f,m);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,i,C,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<Co.length;o++)Ie(Co[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(o=a[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,H,o,a,null)}return;default:if(xa(i)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Wf(t,i,$,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&We(t,i,T,o,a,null))}function VT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,T=null,C=null,H=null,$=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=Z;default:o.hasOwnProperty(Y)||We(t,i,Y,null,o,Z)}}for(var F in o){var Y=o[F];if(Z=a[F],o.hasOwnProperty(F)&&(Y!=null||Z!=null))switch(F){case"type":m=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Y!==Z&&We(t,i,F,Y,o,Z)}}ba(t,_,T,C,H,$,m,f);return;case"select":Y=_=T=F=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Y=C;default:o.hasOwnProperty(m)||We(t,i,m,null,o,C)}for(f in o)if(m=o[f],C=a[f],o.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==C&&We(t,i,f,m,o,C)}i=T,a=_,o=Y,F!=null?bs(t,!!a,F,!1):!!o!=!!a&&(i!=null?bs(t,!!a,i,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,o,f)}for(_ in o)if(f=o[_],m=a[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&We(t,i,_,f,o,m)}zc(t,F,Y);return;case"option":for(var ue in a)if(F=a[ue],a.hasOwnProperty(ue)&&F!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:We(t,i,ue,null,o,F)}for(C in o)if(F=o[C],Y=a[C],o.hasOwnProperty(C)&&F!==Y&&(F!=null||Y!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,C,F,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)F=a[pe],a.hasOwnProperty(pe)&&F!=null&&!o.hasOwnProperty(pe)&&We(t,i,pe,null,o,F);for(H in o)if(F=o[H],Y=a[H],o.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:We(t,i,H,F,o,Y)}return;default:if(xa(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!o.hasOwnProperty(Ze)&&Wf(t,i,Ze,void 0,o,F);for($ in o)F=o[$],Y=a[$],!o.hasOwnProperty($)||F===Y||F===void 0&&Y===void 0||Wf(t,i,$,F,o,Y);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!o.hasOwnProperty(L)&&We(t,i,L,null,o,F);for(Z in o)F=o[Z],Y=a[Z],!o.hasOwnProperty(Z)||F===Y||F==null&&Y==null||We(t,i,Z,F,o,Y)}function cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,_=f.initiatorType,T=f.duration;if(m&&T&&cv(_)){for(_=0,T=f.responseEnd,o+=1;o<a.length;o++){var C=a[o],H=C.startTime;if(H>T)break;var $=C.transferSize,Z=C.initiatorType;$&&cv(Z)&&(C=C.responseEnd,_+=$*(C<T?1:(T-H)/(C-H)))}if(--o,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zf=null,em=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function LT(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(qT)}:dv;function qT(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function mv(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),nl(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Do(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Do(a);for(var m=a.firstChild;m;){var _=m.nextSibling,T=m.nodeName;m[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Do(t.ownerDocument.body);a=f}while(a);nl(i)}function pv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BT(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function HT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function gv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function FT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var am=null;function yv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function _v(t,i,a){switch(i=Hu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Do(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var Mn=new Map,bv=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=re.d;re.d={f:GT,r:YT,D:QT,C:KT,L:$T,m:XT,X:WT,S:JT,M:ZT};function GT(){var t=is.f(),i=Mu();return t||i}function YT(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):is.r(t)}var Za=typeof document>"u"?null:document;function xv(t,i,a){var o=Za;if(o&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bv.has(f)||(bv.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Gt(i,"link",t),Et(i),o.head.appendChild(i)))}}function QT(t){is.D(t),xv("dns-prefetch",t,null)}function KT(t,i){is.C(t,i),xv("preconnect",t,i)}function $T(t,i,a){is.L(t,i,a);var o=Za;if(o&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var m=f;switch(i){case"style":m=el(t);break;case"script":m=tl(t)}Mn.has(m)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(jo(m))||i==="script"&&o.querySelector(Oo(m))||(i=o.createElement("link"),Gt(i,"link",t),Et(i),o.head.appendChild(i)))}}function XT(t,i){is.m(t,i);var a=Za;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=tl(t)}if(!Mn.has(m)&&(t=E({rel:"modulepreload",href:t},i),Mn.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(m)))return}o=a.createElement("link"),Gt(o,"link",t),Et(o),a.head.appendChild(o)}}}function JT(t,i,a){is.S(t,i,a);var o=Za;if(o&&t){var f=mi(o).hoistableStyles,m=el(t);i=i||"default";var _=f.get(m);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(jo(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(m))&&lm(t,a);var C=_=o.createElement("link");Et(C),Gt(C,"link",t),C._p=new Promise(function(H,$){C.onload=H,C.onerror=$}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gu(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(m,_)}}}function WT(t,i){is.X(t,i);var a=Za;if(a&&t){var o=mi(a).hoistableScripts,f=tl(t),m=o.get(f);m||(m=a.querySelector(Oo(f)),m||(t=E({src:t,async:!0},i),(i=Mn.get(f))&&om(t,i),m=a.createElement("script"),Et(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function ZT(t,i){is.M(t,i);var a=Za;if(a&&t){var o=mi(a).hoistableScripts,f=tl(t),m=o.get(f);m||(m=a.querySelector(Oo(f)),m||(t=E({src:t,async:!0,type:"module"},i),(i=Mn.get(f))&&om(t,i),m=a.createElement("script"),Et(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Ev(t,i,a,o){var f=(f=Ne.current)?Fu(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=el(a.href),a=mi(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=el(a.href);var m=mi(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(jo(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),m||e2(f,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=tl(a),a=mi(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function el(t){return'href="'+an(t)+'"'}function jo(t){return'link[rel="stylesheet"]['+t+"]"}function Tv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function e2(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),Et(i),t.head.appendChild(i))}function tl(t){return'[src="'+an(t)+'"]'}function Oo(t){return"script[async]"+t}function wv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,Et(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Gt(o,"style",f),Gu(o,a.precedence,t),i.instance=o;case"stylesheet":f=el(a.href);var m=t.querySelector(jo(f));if(m)return i.state.loading|=4,i.instance=m,Et(m),m;o=Tv(a),(f=Mn.get(f))&&lm(o,f),m=(t.ownerDocument||t).createElement("link"),Et(m);var _=m;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Gt(m,"link",o),i.state.loading|=4,Gu(m,a.precedence,t),i.instance=m;case"script":return m=tl(a.src),(f=t.querySelector(Oo(m)))?(i.instance=f,Et(f),f):(o=a,(f=Mn.get(m))&&(o=E({},a),om(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Et(f),Gt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Gu(o,a.precedence,t));return i.instance}function Gu(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yu=null;function Sv(t,i,a){if(Yu===null){var o=new Map,f=Yu=new Map;f.set(a,o)}else f=Yu,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[di]||m[xt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var T=o.get(_);T?T.push(m):o.set(_,[m])}}return o}function Av(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function t2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function n2(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=el(o.href),m=i.querySelector(jo(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,Et(m);return}m=i.ownerDocument||i,o=Tv(o),(f=Mn.get(f))&&lm(o,f),m=m.createElement("link"),Et(m);var _=m;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Gt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var cm=0;function i2(t,i){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&cm===0&&(cm=62500*PT());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>cm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ku=null;function $u(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ku=new Map,i.forEach(s2,t),Ku=null,Qu.call(t))}function s2(t,i){if(!(i.state.loading&4)){var a=Ku.get(t);if(a)var o=a.get(null);else{a=new Map,Ku.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,f),a.set(_,f),this.count++,o=Qu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var ko={$$typeof:K,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function r2(t,i,a,o,f,m,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Rv(t,i,a,o,f,m,_,T,C,H,$,Z){return t=new r2(t,i,a,_,C,H,$,Z,T),i=1,m===!0&&(i|=24),m=yn(3,null,null,i),t.current=m,m.stateNode=t,i=qd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:i},Gd(m),t}function Cv(t){return t?(t=ja,t):ja}function Iv(t,i,a,o,f,m){f=Cv(f),o.context===null?o.context=f:o.pendingContext=f,o=Os(i),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=ks(t,o,i),a!==null&&(dn(a,t,i),ho(a,t,i))}function Dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){Dv(t,i),(t=t.alternate)&&Dv(t,i)}function jv(t){if(t.tag===13||t.tag===31){var i=Mr(t,67108864);i!==null&&dn(i,t,67108864),um(t,67108864)}}function Ov(t){if(t.tag===13||t.tag===31){var i=En();i=Tr(i);var a=Mr(t,i);a!==null&&dn(a,t,i),um(t,i)}}var Xu=!0;function a2(t,i,a,o){var f=X.T;X.T=null;var m=re.p;try{re.p=2,hm(t,i,a,o)}finally{re.p=m,X.T=f}}function l2(t,i,a,o){var f=X.T;X.T=null;var m=re.p;try{re.p=8,hm(t,i,a,o)}finally{re.p=m,X.T=f}}function hm(t,i,a,o){if(Xu){var f=dm(o);if(f===null)Jf(t,i,o,Ju,a),Mv(t,o);else if(c2(f,t,i,a,o))o.stopPropagation();else if(Mv(t,o),i&4&&-1<o2.indexOf(t)){for(;f!==null;){var m=wn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=oi(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-ft(_);T.entanglements[1]|=C,_&=~C}Ni(m),(Fe&6)===0&&(Ou=nn()+500,Ro(0))}}break;case 31:case 13:T=Mr(m,2),T!==null&&dn(T,m,2),Mu(),um(m,2)}if(m=dm(o),m===null&&Jf(t,i,o,Ju,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else Jf(t,i,o,null,a)}}function dm(t){return t=Sn(t),fm(t)}var Ju=null;function fm(t){if(Ju=null,t=fi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ju=t,null}function kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Vl:return 2;case Pl:return 8;case vs:case vd:return 32;case Cc:return 268435456;default:return 32}default:return 32}}var mm=!1,Gs=null,Ys=null,Qs=null,Mo=new Map,Vo=new Map,Ks=[],o2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,i){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Mo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(i.pointerId)}}function Po(t,i,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=wn(i),i!==null&&jv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function c2(t,i,a,o,f){switch(i){case"focusin":return Gs=Po(Gs,t,i,a,o,f),!0;case"dragenter":return Ys=Po(Ys,t,i,a,o,f),!0;case"mouseover":return Qs=Po(Qs,t,i,a,o,f),!0;case"pointerover":var m=f.pointerId;return Mo.set(m,Po(Mo.get(m)||null,t,i,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Vo.set(m,Po(Vo.get(m)||null,t,i,a,o,f)),!0}return!1}function Vv(t){var i=fi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){Ov(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){Ov(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);$l=o,a.target.dispatchEvent(o),$l=null}else return i=wn(a),i!==null&&jv(i),t.blockedOn=a,!1;i.shift()}return!0}function Pv(t,i,a){Wu(t)&&a.delete(i)}function u2(){mm=!1,Gs!==null&&Wu(Gs)&&(Gs=null),Ys!==null&&Wu(Ys)&&(Ys=null),Qs!==null&&Wu(Qs)&&(Qs=null),Mo.forEach(Pv),Vo.forEach(Pv)}function Zu(t,i){t.blockedOn===i&&(t.blockedOn=null,mm||(mm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,u2)))}var eh=null;function Lv(t){eh!==t&&(eh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(fm(o||a)===null)continue;break}var m=wn(a);m!==null&&(t.splice(i,3),i-=3,df(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function nl(t){function i(C){return Zu(C,t)}Gs!==null&&Zu(Gs,t),Ys!==null&&Zu(Ys,t),Qs!==null&&Zu(Qs,t),Mo.forEach(i),Vo.forEach(i);for(var a=0;a<Ks.length;a++){var o=Ks[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&Ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],_=f[Vt]||null;if(typeof m=="function")_||Lv(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Vt]||null)T=_.formAction;else if(fm(f)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Lv(a)}}}function Uv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function pm(t){this._internalRoot=t}th.prototype.render=pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=En();Iv(a,o,t,i,null,null)},th.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Iv(t.current,2,null,t,null,null),Mu(),i[hi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ks.length&&i!==0&&i<Ks[a].priority;a++);Ks.splice(a,0,t),a===0&&Vv(t)}};var zv=e.version;if(zv!=="19.2.0")throw Error(r(527,zv,"19.2.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var h2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{qn=nh.inject(h2),zt=nh}catch{}}return Uo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",f=Qy,m=Ky,_=$y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Rv(t,1,!1,null,null,a,o,null,f,m,_,Uv),t[hi]=i.current,Xf(t),new pm(i)},Uo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,f="",m=Qy,_=Ky,T=$y,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Rv(t,1,!0,i,a??null,o,f,C,m,_,T,Uv),i.context=Cv(null),a=i.current,o=En(),o=Tr(o),f=Os(o),f.callback=null,ks(a,f,o),a=o,i.current.lanes=a,xr(i,a),Ni(i),t[hi]=i.current,Xf(t),new th(i)},Uo.version="19.2.0",Uo}var Xv;function x2(){if(Xv)return vm.exports;Xv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vm.exports=b2(),vm.exports}var E2=x2();var Jv="popstate";function T2(s={}){function e(r,l){let{pathname:c,search:h,hash:p}=r.location;return zm("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:tc(l)}return S2(e,n,null,s)}function ct(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Un(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w2(){return Math.random().toString(36).substring(2,10)}function Wv(s,e){return{usr:s.state,key:s.key,idx:e}}function zm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||r||w2()}}function tc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function bl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function S2(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,h=l.history,p="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let M=x(),W=M==null?null:M-y;y=M,g&&g({action:p,location:Q.location,delta:W})}function S(M,W){p="PUSH";let ie=zm(Q.location,M,W);y=x()+1;let K=Wv(ie,y),ve=Q.createHref(ie);try{h.pushState(K,"",ve)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;l.location.assign(ve)}c&&g&&g({action:p,location:Q.location,delta:1})}function O(M,W){p="REPLACE";let ie=zm(Q.location,M,W);y=x();let K=Wv(ie,y),ve=Q.createHref(ie);h.replaceState(K,"",ve),c&&g&&g({action:p,location:Q.location,delta:0})}function U(M){return A2(M)}let Q={get action(){return p},get location(){return s(l,h)},listen(M){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Jv,E),g=M,()=>{l.removeEventListener(Jv,E),g=null}},createHref(M){return e(l,M)},createURL:U,encodeLocation(M){let W=U(M);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:O,go(M){return h.go(M)}};return Q}function A2(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:tc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zb(s,e,n="/"){return N2(s,e,n,!1)}function N2(s,e,n,r){let l=typeof e=="string"?bl(e):e,c=us(l.pathname||"/",n);if(c==null)return null;let h=qb(s);R2(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=U2(c);p=P2(h[g],y,r)}return p}function qb(s,e=[],n=[],r="",l=!1){let c=(h,p,g=l,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;ct(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=ls([r,x.relativePath]),S=n.concat(x);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),qb(h.children,e,S,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:M2(E,h.index),routesMeta:S})};return s.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of Bb(h.path))c(h,p,!0,g)}),e}function Bb(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let h=Bb(r.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...h),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function R2(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:V2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C2=/^:[\w-]+$/,I2=3,D2=2,j2=1,O2=10,k2=-2,Zv=s=>s==="*";function M2(s,e){let n=s.split("/"),r=n.length;return n.some(Zv)&&(r+=k2),e&&(r+=D2),n.filter(l=>!Zv(l)).reduce((l,c)=>l+(C2.test(c)?I2:c===""?j2:O2),r)}function V2(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function P2(s,e,n=!1){let{routesMeta:r}=s,l={},c="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(l,E.params),h.push({params:l,pathname:ls([c,E.pathname]),pathnameBase:F2(ls([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=ls([c,E.pathnameBase]))}return h}function Th(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=L2(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let U=p[S]||"";h=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const O=p[S];return E&&!O?y[x]=void 0:y[x]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function L2(s,e=!1,n=!0){Un(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function U2(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function us(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q2=s=>z2.test(s);function B2(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?bl(s):s,c;if(n)if(q2(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=e_(n.substring(1),"/"):c=e_(n,e)}else c=e;return{pathname:c,search:G2(r),hash:Y2(l)}}function e_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Em(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H2(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yp(s){let e=H2(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function vp(s,e,n,r=!1){let l;typeof s=="string"?l=bl(s):(l={...s},ct(!l.pathname||!l.pathname.includes("?"),Em("?","pathname","search",l)),ct(!l.pathname||!l.pathname.includes("#"),Em("#","pathname","hash",l)),ct(!l.search||!l.search.includes("#"),Em("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;l.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=B2(l,p),y=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var ls=s=>s.join("/").replace(/\/\/+/g,"/"),F2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),G2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Y2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Q2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hb=["POST","PUT","PATCH","DELETE"];new Set(Hb);var K2=["GET",...Hb];new Set(K2);var xl=P.createContext(null);xl.displayName="DataRouter";var Kh=P.createContext(null);Kh.displayName="DataRouterState";P.createContext(!1);var Fb=P.createContext({isTransitioning:!1});Fb.displayName="ViewTransition";var $2=P.createContext(new Map);$2.displayName="Fetchers";var X2=P.createContext(null);X2.displayName="Await";var si=P.createContext(null);si.displayName="Navigation";var dc=P.createContext(null);dc.displayName="Location";var ri=P.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var _p=P.createContext(null);_p.displayName="RouteError";function J2(s,{relative:e}={}){ct(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(si),{hash:l,pathname:c,search:h}=mc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ls([n,c])),r.createHref({pathname:p,search:h,hash:l})}function El(){return P.useContext(dc)!=null}function fr(){return ct(El(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(dc).location}var Gb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yb(s){P.useContext(si).static||P.useLayoutEffect(s)}function fc(){let{isDataRoute:s}=P.useContext(ri);return s?dw():W2()}function W2(){ct(El(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(xl),{basename:e,navigator:n}=P.useContext(si),{matches:r}=P.useContext(ri),{pathname:l}=fr(),c=JSON.stringify(yp(r)),h=P.useRef(!1);return Yb(()=>{h.current=!0}),P.useCallback((g,y={})=>{if(Un(h.current,Gb),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=vp(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ls([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,l,s])}var Z2=P.createContext(null);function ew(s){let e=P.useContext(ri).outlet;return P.useMemo(()=>e&&P.createElement(Z2.Provider,{value:s},e),[e,s])}function mc(s,{relative:e}={}){let{matches:n}=P.useContext(ri),{pathname:r}=fr(),l=JSON.stringify(yp(n));return P.useMemo(()=>vp(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function tw(s,e){return Qb(s,e)}function Qb(s,e,n,r,l){ct(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(si),{matches:h}=P.useContext(ri),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let ie=E&&E.path||"";Kb(y,!E||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let S=fr(),O;if(e){let ie=typeof e=="string"?bl(e):e;ct(x==="/"||ie.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=S;let U=O.pathname||"/",Q=U;if(x!=="/"){let ie=x.replace(/^\//,"").split("/");Q="/"+U.replace(/^\//,"").split("/").slice(ie.length).join("/")}let M=zb(s,{pathname:Q});Un(E||M!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Un(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=aw(M&&M.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:ls([x,c.encodeLocation?c.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?x:ls([x,c.encodeLocation?c.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),h,n,r,l);return e&&W?P.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},W):W}function nw(){let s=hw(),e=Q2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:l},n):null,h)}var iw=P.createElement(nw,null),sw=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?P.createElement(ri.Provider,{value:this.props.routeContext},P.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rw({routeContext:s,match:e,children:n}){let r=P.useContext(xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ri.Provider,{value:s},n)}function aw(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,h=n?.errors;if(h!=null){let x=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ct(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:S,errors:O}=n,U=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!O||O[E.route.id]===void 0);if(E.route.lazy||U){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:E})}:void 0;return c.reduceRight((x,E,S)=>{let O,U=!1,Q=null,M=null;n&&(O=h&&E.route.id?h[E.route.id]:void 0,Q=E.route.errorElement||iw,p&&(g<0&&S===0?(Kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,M=null):g===S&&(U=!0,M=E.route.hydrateFallbackElement||null)));let W=e.concat(c.slice(0,S+1)),ie=()=>{let K;return O?K=Q:U?K=M:E.route.Component?K=P.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=x,P.createElement(rw,{match:E,routeContext:{outlet:x,matches:W,isDataRoute:n!=null},children:K})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(sw,{location:n.location,revalidation:n.revalidation,component:Q,error:O,children:ie(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:y}):ie()},null)}function bp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lw(s){let e=P.useContext(xl);return ct(e,bp(s)),e}function ow(s){let e=P.useContext(Kh);return ct(e,bp(s)),e}function cw(s){let e=P.useContext(ri);return ct(e,bp(s)),e}function xp(s){let e=cw(s),n=e.matches[e.matches.length-1];return ct(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function uw(){return xp("useRouteId")}function hw(){let s=P.useContext(_p),e=ow("useRouteError"),n=xp("useRouteError");return s!==void 0?s:e.errors?.[n]}function dw(){let{router:s}=lw("useNavigate"),e=xp("useNavigate"),n=P.useRef(!1);return Yb(()=>{n.current=!0}),P.useCallback(async(l,c={})=>{Un(n.current,Gb),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var t_={};function Kb(s,e,n){!e&&!t_[s]&&(t_[s]=!0,Un(!1,n))}P.memo(fw);function fw({routes:s,future:e,state:n,unstable_onError:r}){return Qb(s,void 0,n,r,e)}function n_({to:s,replace:e,state:n,relative:r}){ct(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=P.useContext(si);Un(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(ri),{pathname:h}=fr(),p=fc(),g=vp(s,yp(c),h,r==="path"),y=JSON.stringify(g);return P.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function mw(s){return ew(s.context)}function Jt(s){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pw({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1}){ct(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof n=="string"&&(n=bl(n));let{pathname:g="/",search:y="",hash:x="",state:E=null,key:S="default"}=n,O=P.useMemo(()=>{let U=us(g,h);return U==null?null:{location:{pathname:U,search:y,hash:x,state:E,key:S},navigationType:r}},[h,g,y,x,E,S,r]);return Un(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:P.createElement(si.Provider,{value:p},P.createElement(dc.Provider,{children:e,value:O}))}function gw({children:s,location:e}){return tw(qm(s),e)}function qm(s,e=[]){let n=[];return P.Children.forEach(s,(r,l)=>{if(!P.isValidElement(r))return;let c=[...e,l];if(r.type===P.Fragment){n.push.apply(n,qm(r.props.children,c));return}ct(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=qm(r.props.children,c)),n.push(h)}),n}var hh="get",dh="application/x-www-form-urlencoded";function $h(s){return s!=null&&typeof s.tagName=="string"}function yw(s){return $h(s)&&s.tagName.toLowerCase()==="button"}function vw(s){return $h(s)&&s.tagName.toLowerCase()==="form"}function _w(s){return $h(s)&&s.tagName.toLowerCase()==="input"}function bw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function xw(s,e){return s.button===0&&(!e||e==="_self")&&!bw(s)}var ih=null;function Ew(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(s){return s!=null&&!Tw.has(s)?(Un(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):s}function ww(s,e){let n,r,l,c,h;if(vw(s)){let p=s.getAttribute("action");r=p?us(p,e):null,n=s.getAttribute("method")||hh,l=Tm(s.getAttribute("enctype"))||dh,c=new FormData(s)}else if(yw(s)||_w(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?us(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||hh,l=Tm(s.getAttribute("formenctype"))||Tm(p.getAttribute("enctype"))||dh,c=new FormData(p,s),!Ew()){let{name:y,type:x,value:E}=s;if(x==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if($h(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,r=null,l=dh,h=s}return c&&l==="text/plain"&&(h=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Sw(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&us(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Aw(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Rw(s,e,n){let r=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await Aw(c,n);return h.links?h.links():[]}return[]}));return jw(r.flat(1).filter(Nw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function i_(s,e,n,r,l,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Cw(s,e,{includeHydrateFallback:n}={}){return Iw(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Iw(s){return[...new Set(s)]}function Dw(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function jw(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let c=JSON.stringify(Dw(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function $b(){let s=P.useContext(xl);return Ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ow(){let s=P.useContext(Kh);return Ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Tp=P.createContext(void 0);Tp.displayName="FrameworkContext";function Xb(){let s=P.useContext(Tp);return Ep(s,"You must render this element inside a <HydratedRouter> element"),s}function kw(s,e){let n=P.useContext(Tp),[r,l]=P.useState(!1),[c,h]=P.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=P.useRef(null);P.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let Q=W=>{W.forEach(ie=>{h(ie.isIntersecting)})},M=new IntersectionObserver(Q,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[s]),P.useEffect(()=>{if(r){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[r]);let O=()=>{l(!0)},U=()=>{l(!1),h(!1)};return n?s!=="intent"?[c,S,{}]:[c,S,{onFocus:zo(p,O),onBlur:zo(g,U),onMouseEnter:zo(y,O),onMouseLeave:zo(x,U),onTouchStart:zo(E,O)}]:[!1,S,{}]}function zo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function Mw({page:s,...e}){let{router:n}=$b(),r=P.useMemo(()=>zb(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?P.createElement(Pw,{page:s,matches:r,...e}):null}function Vw(s){let{manifest:e,routeModules:n}=Xb(),[r,l]=P.useState([]);return P.useEffect(()=>{let c=!1;return Rw(s,e,n).then(h=>{c||l(h)}),()=>{c=!0}},[s,e,n]),r}function Pw({page:s,matches:e,...n}){let r=fr(),{manifest:l,routeModules:c}=Xb(),{basename:h}=$b(),{loaderData:p,matches:g}=Ow(),y=P.useMemo(()=>i_(s,e,g,l,r,"data"),[s,e,g,l,r]),x=P.useMemo(()=>i_(s,e,g,l,r,"assets"),[s,e,g,l,r]),E=P.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let U=new Set,Q=!1;if(e.forEach(W=>{let ie=l.routes[W.route.id];!ie||!ie.hasLoader||(!y.some(K=>K.route.id===W.route.id)&&W.route.id in p&&c[W.route.id]?.shouldRevalidate||ie.hasClientLoader?Q=!0:U.add(W.route.id))}),U.size===0)return[];let M=Sw(s,h,"data");return Q&&U.size>0&&M.searchParams.set("_routes",e.filter(W=>U.has(W.route.id)).map(W=>W.route.id).join(",")),[M.pathname+M.search]},[h,p,r,l,y,e,s,c]),S=P.useMemo(()=>Cw(x,l),[x,l]),O=Vw(x);return P.createElement(P.Fragment,null,E.map(U=>P.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),S.map(U=>P.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),O.map(({key:U,link:Q})=>P.createElement("link",{key:U,nonce:n.nonce,...Q})))}function Lw(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jb&&(window.__reactRouterVersion="7.9.6")}catch{}function Uw({basename:s,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=T2({window:n,v5Compat:!0}));let l=r.current,[c,h]=P.useState({action:l.action,location:l.location}),p=P.useCallback(g=>{P.startTransition(()=>h(g))},[h]);return P.useLayoutEffect(()=>l.listen(p),[l,p]),P.createElement(pw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ss=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,...S},O){let{basename:U}=P.useContext(si),Q=typeof y=="string"&&Wb.test(y),M,W=!1;if(typeof y=="string"&&Q&&(M=y,Jb))try{let N=new URL(window.location.href),V=y.startsWith("//")?new URL(N.protocol+y):new URL(y),D=us(V.pathname,U);V.origin===N.origin&&D!=null?y=D+V.search+V.hash:W=!0}catch{Un(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=J2(y,{relative:l}),[K,ve,_e]=kw(r,S),we=Hw(y,{replace:h,state:p,target:g,preventScrollReset:x,relative:l,viewTransition:E});function I(N){e&&e(N),N.defaultPrevented||we(N)}let A=P.createElement("a",{...S,..._e,href:M||ie,onClick:W||c?e:I,ref:Lw(O,ve),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return K&&!Q?P.createElement(P.Fragment,null,A,P.createElement(Mw,{page:ie})):A});ss.displayName="Link";var zw=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:h,viewTransition:p,children:g,...y},x){let E=mc(h,{relative:y.relative}),S=fr(),O=P.useContext(Kh),{navigator:U,basename:Q}=P.useContext(si),M=O!=null&&Kw(E)&&p===!0,W=U.encodeLocation?U.encodeLocation(E).pathname:E.pathname,ie=S.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),K=K?K.toLowerCase():null,W=W.toLowerCase()),K&&Q&&(K=us(K,Q)||K);const ve=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let _e=ie===W||!l&&ie.startsWith(W)&&ie.charAt(ve)==="/",we=K!=null&&(K===W||!l&&K.startsWith(W)&&K.charAt(W.length)==="/"),I={isActive:_e,isPending:we,isTransitioning:M},A=_e?e:void 0,N;typeof r=="function"?N=r(I):N=[r,_e?"active":null,we?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(I):c;return P.createElement(ss,{...y,"aria-current":A,className:N,ref:x,style:V,to:h,viewTransition:p},typeof g=="function"?g(I):g)});zw.displayName="NavLink";var qw=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:h=hh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,...S},O)=>{let U=Yw(),Q=Qw(p,{relative:y}),M=h.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&Wb.test(p),ie=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let ve=K.nativeEvent.submitter,_e=ve?.getAttribute("formmethod")||h;U(ve||K.currentTarget,{fetcherKey:e,method:_e,navigate:n,replace:l,state:c,relative:y,preventScrollReset:x,viewTransition:E})};return P.createElement("form",{ref:O,method:M,action:Q,onSubmit:r?g:ie,...S,"data-discover":!W&&s==="render"?"true":void 0})});qw.displayName="Form";function Bw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zb(s){let e=P.useContext(xl);return ct(e,Bw(s)),e}function Hw(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:h}={}){let p=fc(),g=fr(),y=mc(s,{relative:c});return P.useCallback(x=>{if(xw(x,e)){x.preventDefault();let E=n!==void 0?n:tc(g)===tc(y);p(s,{replace:E,state:r,preventScrollReset:l,relative:c,viewTransition:h})}},[g,p,y,n,r,e,s,l,c,h])}var Fw=0,Gw=()=>`__${String(++Fw)}__`;function Yw(){let{router:s}=Zb("useSubmit"),{basename:e}=P.useContext(si),n=uw();return P.useCallback(async(r,l={})=>{let{action:c,method:h,encType:p,formData:g,body:y}=ww(r,e);if(l.navigate===!1){let x=l.fetcherKey||Gw();await s.fetch(x,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||p,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function Qw(s,{relative:e}={}){let{basename:n}=P.useContext(si),r=P.useContext(ri);ct(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...mc(s||".",{relative:e})},h=fr();if(s==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ls([n,c.pathname])),tc(c)}function Kw(s,{relative:e}={}){let n=P.useContext(Fb);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Zb("useViewTransitionState"),l=mc(s,{relative:e});if(!n.isTransitioning)return!1;let c=us(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(l.pathname,h)!=null||Th(l.pathname,c)!=null}const $w=()=>{};var s_={};const ex=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Xw=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],h=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],h=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},tx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,p=h?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,O=y&63;g||(O=64,h||(S=64)),r.push(n[x],n[E],n[S],n[O])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(ex(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Xw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const E=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new Jw;const S=c<<2|p>>4;if(r.push(S),y!==64){const O=p<<4&240|y>>2;if(r.push(O),E!==64){const U=y<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(s){const e=ex(s);return tx.encodeByteArray(e,!0)},wh=function(s){return Ww(s).replace(/\./g,"")},nx=function(s){try{return tx.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eS=()=>Zw().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof s_>"u")return;const s=s_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nx(s[1]);return e&&JSON.parse(e)},Xh=()=>{try{return $w()||eS()||tS()||nS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ix=s=>Xh()?.emulatorHosts?.[s],iS=s=>{const e=ix(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sx=()=>Xh()?.config,rx=s=>Xh()?.[`_${s}`];class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Tl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ax(s){return(await fetch(s,{credentials:"include"})).ok}function rS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[wh(JSON.stringify(n)),wh(JSON.stringify(h)),""].join(".")}const Ko={};function aS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?s.emulator.push(e):s.prod.push(e);return s}function lS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let r_=!1;function lx(s,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||Ko[s]===e||Ko[s]||r_)return;Ko[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=aS().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{r_=!0,h()},S}function x(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=lS(r),O=n("text"),U=document.getElementById(O)||document.createElement("span"),Q=n("learnmore"),M=document.getElementById(Q)||document.createElement("a"),W=n("preprendIcon"),ie=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;p(K),x(M,Q);const ve=y();g(ie,W),K.append(ie,U,M,ve),document.body.appendChild(K)}c?(U.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function cS(){const s=Xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fS(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function mS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const yS="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yS,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?vS(c,r):"Error",p=`${this.serviceName}: ${h} (${l}).`;return new ps(l,p,r)}}function vS(s,e){return s.replace(_S,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const _S=/\{\$([^}]+)}/g;function bS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Wr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],h=e[l];if(a_(c)&&a_(h)){if(!Wr(c,h))return!1}else if(c!==h)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function a_(s){return s!==null&&typeof s=="object"}function gc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Bo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function xS(s,e){const n=new ES(s,e);return n.subscribe.bind(n)}class ES{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=wm),l.error===void 0&&(l.error=wm),l.complete===void 0&&(l.complete=wm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function wm(){}function tn(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kr="[DEFAULT]";class wS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AS(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&h.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(s){return s===Kr?void 0:s}function AS(s){return s.instantiationMode==="EAGER"}class NS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const RS={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},CS=ke.INFO,IS={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},DS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=IS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const jS=(s,e)=>e.some(n=>s instanceof n);let l_,o_;function OS(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ox=new WeakMap,Bm=new WeakMap,cx=new WeakMap,Sm=new WeakMap,Sp=new WeakMap;function MS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(nr(s.result)),l()},h=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ox.set(n,s)}).catch(()=>{}),Sp.set(e,s),e}function VS(s){if(Bm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),l()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Bm.set(s,e)}let Hm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Bm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||cx.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function PS(s){Hm=s(Hm)}function LS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Am(this),e,...n);return cx.set(r,e.sort?e.sort():[e]),nr(r)}:kS().includes(s)?function(...e){return s.apply(Am(this),e),nr(ox.get(this))}:function(...e){return nr(s.apply(Am(this),e))}}function US(s){return typeof s=="function"?LS(s):(s instanceof IDBTransaction&&VS(s),jS(s,OS())?new Proxy(s,Hm):s)}function nr(s){if(s instanceof IDBRequest)return MS(s);if(Sm.has(s))return Sm.get(s);const e=US(s);return e!==s&&(Sm.set(s,e),Sp.set(e,s)),e}const Am=s=>Sp.get(s);function zS(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),p=nr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(nr(h.result),g.oldVersion,g.newVersion,nr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const qS=["get","getKey","getAll","getAllKeys","count"],BS=["put","add","delete","clear"],Nm=new Map;function c_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=BS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||qS.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Nm.set(e,c),c}PS(s=>({...s,get:(e,n,r)=>c_(e,n)||s.get(e,n,r),has:(e,n)=>!!c_(e,n)||s.has(e,n)}));class HS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FS(s){return s.getComponent()?.type==="VERSION"}const Fm="@firebase/app",u_="0.14.6";const hs=new wp("@firebase/app"),GS="@firebase/app-compat",YS="@firebase/analytics-compat",QS="@firebase/analytics",KS="@firebase/app-check-compat",$S="@firebase/app-check",XS="@firebase/auth",JS="@firebase/auth-compat",WS="@firebase/database",ZS="@firebase/data-connect",eA="@firebase/database-compat",tA="@firebase/functions",nA="@firebase/functions-compat",iA="@firebase/installations",sA="@firebase/installations-compat",rA="@firebase/messaging",aA="@firebase/messaging-compat",lA="@firebase/performance",oA="@firebase/performance-compat",cA="@firebase/remote-config",uA="@firebase/remote-config-compat",hA="@firebase/storage",dA="@firebase/storage-compat",fA="@firebase/firestore",mA="@firebase/ai",pA="@firebase/firestore-compat",gA="firebase",yA="12.6.0";const Gm="[DEFAULT]",vA={[Fm]:"fire-core",[GS]:"fire-core-compat",[QS]:"fire-analytics",[YS]:"fire-analytics-compat",[$S]:"fire-app-check",[KS]:"fire-app-check-compat",[XS]:"fire-auth",[JS]:"fire-auth-compat",[WS]:"fire-rtdb",[ZS]:"fire-data-connect",[eA]:"fire-rtdb-compat",[tA]:"fire-fn",[nA]:"fire-fn-compat",[iA]:"fire-iid",[sA]:"fire-iid-compat",[rA]:"fire-fcm",[aA]:"fire-fcm-compat",[lA]:"fire-perf",[oA]:"fire-perf-compat",[cA]:"fire-rc",[uA]:"fire-rc-compat",[hA]:"fire-gcs",[dA]:"fire-gcs-compat",[fA]:"fire-fst",[pA]:"fire-fst-compat",[mA]:"fire-vertex","fire-js":"fire-js",[gA]:"fire-js-all"};const Sh=new Map,_A=new Map,Ym=new Map;function h_(s,e){try{s.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function fl(s){const e=s.name;if(Ym.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,s);for(const n of Sh.values())h_(n,s);for(const n of _A.values())h_(n,s);return!0}function Ap(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Vn(s){return s==null?!1:s.settings!==void 0}const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new pc("app","Firebase",bA);class xA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const wl=yA;function ux(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Gm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(n||(n=sx()),!n)throw ir.create("no-options");const c=Sh.get(l);if(c){if(Wr(n,c.options)&&Wr(r,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const h=new NS(l);for(const g of Ym.values())h.addComponent(g);const p=new xA(n,r,h);return Sh.set(l,p),p}function hx(s=Gm){const e=Sh.get(s);if(!e&&s===Gm&&sx())return ux();if(!e)throw ir.create("no-app",{appName:s});return e}function sr(s,e,n){let r=vA[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${r}" with version "${e}":`];l&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(h.join(" "));return}fl(new Zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const EA="firebase-heartbeat-database",TA=1,nc="firebase-heartbeat-store";let Rm=null;function dx(){return Rm||(Rm=zS(EA,TA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),Rm}async function wA(s){try{const n=(await dx()).transaction(nc),r=await n.objectStore(nc).get(fx(s));return await n.done,r}catch(e){if(e instanceof ps)hs.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e?.message});hs.warn(n.message)}}}async function d_(s,e){try{const r=(await dx()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,fx(s)),await r.done}catch(n){if(n instanceof ps)hs.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function fx(s){return`${s.name}!${s.options.appId}`}const SA=1024,AA=30;class NA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>AA){const l=IA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f_(),{heartbeatsToSend:n,unsentEntries:r}=RA(this._heartbeatsCache.heartbeats),l=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return hs.warn(e),""}}}function f_(){return new Date().toISOString().substring(0,10)}function RA(s,e=SA){const n=[];let r=s.slice();for(const l of s){const c=n.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),m_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),m_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function m_(s){return wh(JSON.stringify({version:2,heartbeats:s})).length}function IA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function DA(s){fl(new Zr("platform-logger",e=>new HS(e),"PRIVATE")),fl(new Zr("heartbeat",e=>new NA(e),"PRIVATE")),sr(Fm,u_,s),sr(Fm,u_,"esm2020"),sr("fire-js","")}DA("");var jA="firebase",OA="12.6.0";sr(jA,OA,"app");function mx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kA=mx,px=new pc("auth","Firebase",mx());const Ah=new wp("@firebase/auth");function MA(s,...e){Ah.logLevel<=ke.WARN&&Ah.warn(`Auth (${wl}): ${s}`,...e)}function fh(s,...e){Ah.logLevel<=ke.ERROR&&Ah.error(`Auth (${wl}): ${s}`,...e)}function ni(s,...e){throw Np(s,...e)}function Ci(s,...e){return Np(s,...e)}function gx(s,e,n){const r={...kA(),[e]:n};return new pc("auth","Firebase",r).create(e,{appName:s.name})}function os(s){return gx(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return px.create(s,...e)}function ge(s,e,...n){if(!s)throw Np(e,...n)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw fh(e),new Error(e)}function ds(s,e){s||rs(e)}function Qm(){return typeof self<"u"&&self.location?.href||""}function VA(){return p_()==="http:"||p_()==="https:"}function p_(){return typeof self<"u"&&self.location?.protocol||null}function PA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VA()||hS()||"connection"in navigator)?navigator.onLine:!0}function LA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=oS()||dS()}get(){return PA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(s,e){ds(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class yx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qA=new yc(3e4,6e4);function mr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function pr(s,e,n,r,l={}){return vx(s,l,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const p=gc({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return uS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(y.credentials="include"),yx.fetch()(await _x(s,s.config.apiHost,n,p),y)})}async function vx(s,e,n){s._canInitEmulator=!1;const r={...UA,...e};try{const l=new HA(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw sh(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw sh(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw sh(s,"user-disabled",h);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw gx(s,x,y);ni(s,x)}}catch(l){if(l instanceof ps)throw l;ni(s,"network-request-failed",{message:String(l)})}}async function vc(s,e,n,r,l={}){const c=await pr(s,e,n,r,l);return"mfaPendingCredential"in c&&ni(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function _x(s,e,n,r){const l=`${e}${n}?${r}`,c=s,h=c.config.emulator?Rp(s.config,l):`${s.config.apiScheme}://${l}`;return zA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function BA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),qA.get())})}}function sh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ci(s,e,r);return l.customData._tokenResponse=n,l}function g_(s){return s!==void 0&&s.enterprise!==void 0}class FA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GA(s,e){return pr(s,"GET","/v2/recaptchaConfig",mr(s,e))}async function YA(s,e){return pr(s,"POST","/v1/accounts:delete",e)}async function Nh(s,e){return pr(s,"POST","/v1/accounts:lookup",e)}function $o(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QA(s,e=!1){const n=tn(s),r=await n.getIdToken(e),l=Cp(r);ge(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c?.sign_in_provider;return{claims:l,token:r,authTime:$o(Cm(l.auth_time)),issuedAtTime:$o(Cm(l.iat)),expirationTime:$o(Cm(l.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cm(s){return Number(s)*1e3}function Cp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const l=nx(n);return l?JSON.parse(l):(fh("Failed to decode base64 JWT payload"),null)}catch(l){return fh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function y_(s){const e=Cp(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ic(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&KA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function KA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class $A{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rh(s){const e=s.auth,n=await s.getIdToken(),r=await ic(s,Nh(e,{idToken:n}));ge(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?bx(l.providerUserInfo):[],h=JA(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!h?.length,y=p?g:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Km(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,x)}async function XA(s){const e=tn(s);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function bx(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WA(s,e){const n=await vx(s,{},async()=>{const r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=await _x(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(g.credentials="include"),yx.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZA(s,e){return pr(s,"POST","/v2/accounts:revokeToken",mr(s,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await WA(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,h=new ol;return r&&(ge(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),l&&(ge(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(ge(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Xs(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new $A(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Km(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QA(this,e)}reload(){return XA(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await ic(this,YA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:O,providerData:U,stsTokenManager:Q}=n;ge(E&&Q,e,"internal-error");const M=ol.fromJSON(this.name,Q);ge(typeof E=="string",e,"internal-error"),Xs(r,e.name),Xs(l,e.name),ge(typeof S=="boolean",e,"internal-error"),ge(typeof O=="boolean",e,"internal-error"),Xs(c,e.name),Xs(h,e.name),Xs(p,e.name),Xs(g,e.name),Xs(y,e.name),Xs(x,e.name);const W=new Zn({uid:E,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:O,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:M,createdAt:y,lastLoginAt:x});return U&&Array.isArray(U)&&(W.providerData=U.map(ie=>({...ie}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(e,n,r=!1){const l=new ol;l.updateFromServerResponse(n);const c=new Zn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Rh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ge(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?bx(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!c?.length,p=new ol;p.updateFromIdToken(r);const g=new Zn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Km(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const v_=new Map;function as(s){ds(s instanceof Function,"Expected a class definition");let e=v_.get(s);return e?(ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,v_.set(s,e),e)}class xx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xx.type="NONE";const __=xx;function mh(s,e,n){return`firebase:${s}:${e}:${n}`}class cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=mh(this.userKey,l.apiKey,c),this.fullPersistenceKey=mh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cl(as(__),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||as(__);const h=mh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const S=await Nh(e,{idToken:x}).catch(()=>{});if(!S)break;E=await Zn._fromGetAccountInfoResponse(e,S,x)}else E=Zn._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new cl(c,e,r):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new cl(c,e,r))}}function b_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ex(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nx(e))return"Blackberry";if(Rx(e))return"Webos";if(Tx(e))return"Safari";if((e.includes("chrome/")||wx(e))&&!e.includes("edge/"))return"Chrome";if(Ax(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function Ex(s=en()){return/firefox\//i.test(s)}function Tx(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wx(s=en()){return/crios\//i.test(s)}function Sx(s=en()){return/iemobile/i.test(s)}function Ax(s=en()){return/android/i.test(s)}function Nx(s=en()){return/blackberry/i.test(s)}function Rx(s=en()){return/webos/i.test(s)}function Ip(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function eN(s=en()){return Ip(s)&&!!window.navigator?.standalone}function tN(){return fS()&&document.documentMode===10}function Cx(s=en()){return Ip(s)||Ax(s)||Rx(s)||Nx(s)||/windows phone/i.test(s)||Sx(s)}function Ix(s,e=[]){let n;switch(s){case"Browser":n=b_(en());break;case"Worker":n=`${b_(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}class nN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function iN(s,e={}){return pr(s,"GET","/v2/passwordPolicy",mr(s,e))}const sN=6;class rN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class aN{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new nN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(os(this));const n=e?tn(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iN(this),n=new rN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ra(s){return tn(s)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xS(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(s){Jh=s}function Dx(s){return Jh.loadJS(s)}function oN(){return Jh.recaptchaEnterpriseScript}function cN(){return Jh.gapiScript}function uN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class hN{constructor(){this.enterprise=new dN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fN="recaptcha-enterprise",jx="NO_RECAPTCHA";class mN{constructor(e){this.type=fN,this.auth=ra(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{GA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new FA(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,h,p){const g=window.grecaptcha;g_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(jx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hN().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(p=>{if(!n&&g_(window.grecaptcha))l(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=oN();g.length!==0&&(g+=p),Dx(g).then(()=>{l(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function E_(s,e,n,r=!1,l=!1){const c=new mN(s);let h;if(l)h=jx;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function $m(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await E_(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await E_(s,e,n,n==="getOobCode");return r(s,h)}else return Promise.reject(c)})}function pN(s,e){const n=Ap(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Wr(c,e??{}))return l;ni(l,"already-initialized")}return n.initialize({options:e})}function gN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(as);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function yN(s,e,n){const r=ra(s);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=Ox(e),{host:h,port:p}=vN(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Wr(y,r.config.emulator)&&Wr(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Tl(h)?(ax(`${c}//${h}${g}`),lx("Auth",!0)):_N()}function Ox(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function vN(s){const e=Ox(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:T_(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:T_(h)}}}function T_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function _N(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function bN(s,e){return pr(s,"POST","/v1/accounts:signUp",e)}async function xN(s,e){return vc(s,"POST","/v1/accounts:signInWithPassword",mr(s,e))}async function EN(s,e){return vc(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,e))}async function TN(s,e){return vc(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,e))}class sc extends Dp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,n,"signInWithPassword",xN);case"emailLink":return EN(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,r,"signUpPassword",bN);case"emailLink":return TN(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ul(s,e){return vc(s,"POST","/v1/accounts:signInWithIdp",mr(s,e))}const wN="http://localhost";class ea extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const h=new ea(r,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}function SN(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AN(s){const e=qo(Bo(s)).link,n=e?qo(Bo(e)).deep_link_id:null,r=qo(Bo(s)).deep_link_id;return(r?qo(Bo(r)).link:null)||r||n||e||s}class jp{constructor(e){const n=qo(Bo(e)),r=n.apiKey??null,l=n.oobCode??null,c=SN(n.mode??null);ge(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AN(e);try{return new jp(n)}catch{return null}}}class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jp.parseLink(n);return ge(r,"argument-error"),sc._fromEmailAndCode(e,r.code,r.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _c extends kx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Js extends _c{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Ws extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class Zs extends _c{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class er extends _c{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function NN(s,e){return vc(s,"POST","/v1/accounts:signUp",mr(s,e))}class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await Zn._fromIdTokenResponse(e,r,l),h=w_(r);return new ta({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=w_(r);return new ta({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function w_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ch extends ps{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Ch(e,n,r,l)}}function Mx(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(s,c,e,r):c})}async function RN(s,e,n=!1){const r=await ic(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ta._forOperation(s,"link",r)}async function CN(s,e,n=!1){const{auth:r}=s;if(Vn(r.app))return Promise.reject(os(r));const l="reauthenticate";try{const c=await ic(s,Mx(r,l,e,s),n);ge(c.idToken,r,"internal-error");const h=Cp(c.idToken);ge(h,r,"internal-error");const{sub:p}=h;return ge(s.uid===p,r,"user-mismatch"),ta._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),c}}async function Vx(s,e,n=!1){if(Vn(s.app))return Promise.reject(os(s));const r="signIn",l=await Mx(s,r,e),c=await ta._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function IN(s,e){return Vx(ra(s),e)}async function Px(s){const e=ra(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DN(s,e,n){if(Vn(s.app))return Promise.reject(os(s));const r=ra(s),h=await $m(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Px(s),g}),p=await ta._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(p.user),p}function jN(s,e,n){return Vn(s.app)?Promise.reject(os(s)):IN(tn(s),Sl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Px(s),r})}function ON(s,e,n,r){return tn(s).onIdTokenChanged(e,n,r)}function kN(s,e,n){return tn(s).beforeAuthStateChanged(e,n)}function MN(s,e,n,r){return tn(s).onAuthStateChanged(e,n,r)}function VN(s){return tn(s).signOut()}const Ih="__sak";class Lx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PN=1e3,LN=10;class Ux extends Lx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);tN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,LN):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ux.type="LOCAL";const UN=Ux;class zx extends Lx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zx.type="SESSION";const qx=zx;function zN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,h=this.handlersMap[l];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await zN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Op(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class qN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Op("",20);l.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:l,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ii(){return window}function BN(s){Ii().location.href=s}function Bx(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function HN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FN(){return navigator?.serviceWorker?.controller||null}function GN(){return Bx()?self:null}const Hx="firebaseLocalStorageDb",YN=1,Dh="firebaseLocalStorage",Fx="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(s,e){return s.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function QN(){const s=indexedDB.deleteDatabase(Hx);return new bc(s).toPromise()}function Xm(){const s=indexedDB.open(Hx,YN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Dh,{keyPath:Fx})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await QN(),e(await Xm()))})})}async function S_(s,e,n){const r=Zh(s,!0).put({[Fx]:e,value:n});return new bc(r).toPromise()}async function KN(s,e){const n=Zh(s,!1).get(e),r=await new bc(n).toPromise();return r===void 0?null:r.value}function A_(s,e){const n=Zh(s,!0).delete(e);return new bc(n).toPromise()}const $N=800,XN=3;class Gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(GN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HN(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await S_(e,Ih,"1"),await A_(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Zh(l,!1).getAll();return new bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gx.type="LOCAL";const JN=Gx;new yc(3e4,6e4);function WN(s,e){return e?as(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class kp extends Dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZN(s){return Vx(s.auth,new kp(s),s.bypassAuthState)}function eR(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),CN(n,new kp(s),s.bypassAuthState)}async function tR(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),RN(n,new kp(s),s.bypassAuthState)}class Yx{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZN;case"linkViaPopup":case"linkViaRedirect":return tR;case"reauthViaPopup":case"reauthViaRedirect":return eR;default:ni(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nR=new yc(2e3,1e4);class ll extends Yx{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nR.get())};e()}}ll.currentPopupAction=null;const iR="pendingRedirect",ph=new Map;class sR extends Yx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await rR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rR(s,e){const n=oR(e),r=lR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function aR(s,e){ph.set(s._key(),e)}function lR(s){return as(s._redirectPersistence)}function oR(s){return mh(iR,s.config.apiKey,s.name)}async function cR(s,e,n=!1){if(Vn(s.app))return Promise.reject(os(s));const r=ra(s),l=WN(r,e),h=await new sR(r,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const uR=600*1e3;class hR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Qx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uR&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Qx({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function dR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(s);default:return!1}}async function fR(s,e={}){return pr(s,"GET","/v1/projects",e)}const mR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pR=/^https?/;async function gR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await fR(s);for(const n of e)try{if(yR(n))return}catch{}ni(s,"unauthorized-domain")}function yR(s){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!pR.test(n))return!1;if(mR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const vR=new yc(3e4,6e4);function R_(){const s=Ii().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function _R(s){return new Promise((e,n)=>{function r(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(Ci(s,"network-request-failed"))},timeout:vR.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)r();else{const l=uN("iframefcb");return Ii()[l]=()=>{gapi.load?r():n(Ci(s,"network-request-failed"))},Dx(`${cN()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw gh=null,e})}let gh=null;function bR(s){return gh=gh||_R(s),gh}const xR=new yc(5e3,15e3),ER="__/auth/iframe",TR="emulator/auth/iframe",wR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AR(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Rp(e,TR):`https://${s.config.authDomain}/${ER}`,r={apiKey:e.apiKey,appName:s.name,v:wl},l=SR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${gc(r).slice(1)}`}async function NR(s){const e=await bR(s),n=Ii().gapi;return ge(n,s,"internal-error"),e.open({where:document.body,url:AR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const h=Ci(s,"network-request-failed"),p=Ii().setTimeout(()=>{c(h)},xR.get());function g(){Ii().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(h)})}))}const RR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CR=500,IR=600,DR="_blank",jR="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OR(s,e,n,r=CR,l=IR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...RR,width:r.toString(),height:l.toString(),top:c,left:h},y=en().toLowerCase();n&&(p=wx(y)?DR:n),Ex(y)&&(e=e||jR,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[O,U])=>`${S}${O}=${U},`,"");if(eN(y)&&p!=="_self")return kR(e||"",p),new C_(null);const E=window.open(e||"",p,x);ge(E,s,"popup-blocked");try{E.focus()}catch{}return new C_(E)}function kR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const MR="__/auth/handler",VR="emulator/auth/handler",PR=encodeURIComponent("fac");async function I_(s,e,n,r,l,c){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:wl,eventId:l};if(e instanceof kx){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",bS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof _c){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await s._getAppCheckToken(),y=g?`#${PR}=${encodeURIComponent(g)}`:"";return`${LR(s)}?${gc(p).slice(1)}${y}`}function LR({config:s}){return s.emulator?Rp(s,VR):`https://${s.authDomain}/${MR}`}const Im="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qx,this._completeRedirectFn=cR,this._overrideRedirectResult=aR}async _openPopup(e,n,r,l){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I_(e,n,r,Qm(),l);return OR(e,c,Op())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await I_(e,n,r,Qm(),l);return BN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NR(e),r=new hR(e);return n.register("authEvent",l=>(ge(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},l=>{const c=l?.[0]?.[Im];c!==void 0&&n(!!c),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cx()||Tx()||Ip()}}const zR=UR;var D_="@firebase/auth",j_="1.11.1";class qR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HR(s){fl(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ix(s)},y=new aN(r,l,c,g);return gN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fl(new Zr("auth-internal",e=>{const n=ra(e.getProvider("auth").getImmediate());return(r=>new qR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(D_,j_,BR(s)),sr(D_,j_,"esm2020")}const FR=300,GR=rx("authIdTokenMaxAge")||FR;let O_=null;const YR=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GR)return;const l=n?.token;O_!==l&&(O_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function QR(s=hx()){const e=Ap(s,"auth");if(e.isInitialized())return e.getImmediate();const n=pN(s,{popupRedirectResolver:zR,persistence:[JN,UN,qx]}),r=rx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=YR(c.toString());kN(n,h,()=>h(n.currentUser)),ON(n,p=>h(p))}}const l=ix("auth");return l&&yN(n,`http://${l}`),n}function KR(){return document.getElementsByTagName("head")?.[0]??document}lN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Ci("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",KR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HR("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,Kx;(function(){var s;function e(I,A){function N(){}N.prototype=A.prototype,I.F=A.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(V,D,z){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return A.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,N){N||(N=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;D<16;++D)V[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=I.g[0],N=I.g[1],D=I.g[2];let z=I.g[3],R;R=A+(z^N&(D^z))+V[0]+3614090360&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(D^A&(N^D))+V[1]+3905402710&4294967295,z=A+(R<<12&4294967295|R>>>20),R=D+(N^z&(A^N))+V[2]+606105819&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(A^D&(z^A))+V[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(z^N&(D^z))+V[4]+4118548399&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(D^A&(N^D))+V[5]+1200080426&4294967295,z=A+(R<<12&4294967295|R>>>20),R=D+(N^z&(A^N))+V[6]+2821735955&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(A^D&(z^A))+V[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(z^N&(D^z))+V[8]+1770035416&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(D^A&(N^D))+V[9]+2336552879&4294967295,z=A+(R<<12&4294967295|R>>>20),R=D+(N^z&(A^N))+V[10]+4294925233&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(A^D&(z^A))+V[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(z^N&(D^z))+V[12]+1804603682&4294967295,A=N+(R<<7&4294967295|R>>>25),R=z+(D^A&(N^D))+V[13]+4254626195&4294967295,z=A+(R<<12&4294967295|R>>>20),R=D+(N^z&(A^N))+V[14]+2792965006&4294967295,D=z+(R<<17&4294967295|R>>>15),R=N+(A^D&(z^A))+V[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(D^z&(N^D))+V[1]+4129170786&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(A^N))+V[6]+3225465664&4294967295,z=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(z^A))+V[11]+643717713&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(D^z))+V[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(D^z&(N^D))+V[5]+3593408605&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(A^N))+V[10]+38016083&4294967295,z=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(z^A))+V[15]+3634488961&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(D^z))+V[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(D^z&(N^D))+V[9]+568446438&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(A^N))+V[14]+3275163606&4294967295,z=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(z^A))+V[3]+4107603335&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(D^z))+V[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(D^z&(N^D))+V[13]+2850285829&4294967295,A=N+(R<<5&4294967295|R>>>27),R=z+(N^D&(A^N))+V[2]+4243563512&4294967295,z=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(z^A))+V[7]+1735328473&4294967295,D=z+(R<<14&4294967295|R>>>18),R=N+(z^A&(D^z))+V[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(N^D^z)+V[5]+4294588738&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^D)+V[8]+2272392833&4294967295,z=A+(R<<11&4294967295|R>>>21),R=D+(z^A^N)+V[11]+1839030562&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^A)+V[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(N^D^z)+V[1]+2763975236&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^D)+V[4]+1272893353&4294967295,z=A+(R<<11&4294967295|R>>>21),R=D+(z^A^N)+V[7]+4139469664&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^A)+V[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(N^D^z)+V[13]+681279174&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^D)+V[0]+3936430074&4294967295,z=A+(R<<11&4294967295|R>>>21),R=D+(z^A^N)+V[3]+3572445317&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^A)+V[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(N^D^z)+V[9]+3654602809&4294967295,A=N+(R<<4&4294967295|R>>>28),R=z+(A^N^D)+V[12]+3873151461&4294967295,z=A+(R<<11&4294967295|R>>>21),R=D+(z^A^N)+V[15]+530742520&4294967295,D=z+(R<<16&4294967295|R>>>16),R=N+(D^z^A)+V[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(D^(N|~z))+V[0]+4096336452&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~D))+V[7]+1126891415&4294967295,z=A+(R<<10&4294967295|R>>>22),R=D+(A^(z|~N))+V[14]+2878612391&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~A))+V[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=A+(D^(N|~z))+V[12]+1700485571&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~D))+V[3]+2399980690&4294967295,z=A+(R<<10&4294967295|R>>>22),R=D+(A^(z|~N))+V[10]+4293915773&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~A))+V[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=A+(D^(N|~z))+V[8]+1873313359&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~D))+V[15]+4264355552&4294967295,z=A+(R<<10&4294967295|R>>>22),R=D+(A^(z|~N))+V[6]+2734768916&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~A))+V[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=A+(D^(N|~z))+V[4]+4149444226&4294967295,A=N+(R<<6&4294967295|R>>>26),R=z+(N^(A|~D))+V[11]+3174756917&4294967295,z=A+(R<<10&4294967295|R>>>22),R=D+(A^(z|~N))+V[2]+718787259&4294967295,D=z+(R<<15&4294967295|R>>>17),R=N+(z^(D|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const N=A-this.blockSize,V=this.C;let D=this.h,z=0;for(;z<A;){if(D==0)for(;z<=N;)l(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<A;)if(V[D++]=I.charCodeAt(z++),D==this.blockSize){l(this,V),D=0;break}}else for(;z<A;)if(V[D++]=I[z++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)I[A++]=this.g[N]>>>V&255;return I};function c(I,A){var N=p;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=A(I)}function h(I,A){this.h=A;const N=[];let V=!0;for(let D=I.length-1;D>=0;D--){const z=I[D]|0;V&&z==A||(N[D]=z,V=!1)}this.g=N}var p={};function g(I){return-128<=I&&I<128?c(I,function(A){return new h([A|0],A<0?-1:0)}):new h([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return M(y(-I));const A=[];let N=1;for(let V=0;I>=N;V++)A[V]=I/N|0,N*=4294967296;return new h(A,0)}function x(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return M(x(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(A,8));let V=E;for(let z=0;z<I.length;z+=8){var D=Math.min(8,I.length-z);const R=parseInt(I.substring(z,z+D),A);D<8?(D=y(Math.pow(A,D)),V=V.j(D).add(y(R))):(V=V.j(N),V=V.add(y(R)))}return V}var E=g(0),S=g(1),O=g(16777216);s=h.prototype,s.m=function(){if(Q(this))return-M(this).m();let I=0,A=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(Q(this))return"-"+M(this).toString(I);const A=y(Math.pow(I,6));var N=this;let V="";for(;;){const D=ve(N,A).g;N=W(N,D.j(A));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=D,U(N))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function Q(I){return I.h==-1}s.l=function(I){return I=W(this,I),Q(I)?-1:U(I)?0:1};function M(I){const A=I.g.length,N=[];for(let V=0;V<A;V++)N[V]=~I.g[V];return new h(N,~I.h).add(S)}s.abs=function(){return Q(this)?M(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),N=[];let V=0;for(let D=0;D<=A;D++){let z=V+(this.i(D)&65535)+(I.i(D)&65535),R=(z>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,z&=65535,R&=65535,N[D]=R<<16|z}return new h(N,N[N.length-1]&-2147483648?-1:0)};function W(I,A){return I.add(M(A))}s.j=function(I){if(U(this)||U(I))return E;if(Q(this))return Q(I)?M(this).j(M(I)):M(M(this).j(I));if(Q(I))return M(this.j(M(I)));if(this.l(O)<0&&I.l(O)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,N=[];for(var V=0;V<2*A;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const z=this.i(V)>>>16,R=this.i(V)&65535,rt=I.i(D)>>>16,Dt=I.i(D)&65535;N[2*V+2*D]+=R*Dt,ie(N,2*V+2*D),N[2*V+2*D+1]+=z*Dt,ie(N,2*V+2*D+1),N[2*V+2*D+1]+=R*rt,ie(N,2*V+2*D+1),N[2*V+2*D+2]+=z*rt,ie(N,2*V+2*D+2)}for(I=0;I<A;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=A;I<2*A;I++)N[I]=0;return new h(N,0)};function ie(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function K(I,A){this.g=I,this.h=A}function ve(I,A){if(U(A))throw Error("division by zero");if(U(I))return new K(E,E);if(Q(I))return A=ve(M(I),A),new K(M(A.g),M(A.h));if(Q(A))return A=ve(I,M(A)),new K(M(A.g),A.h);if(I.g.length>30){if(Q(I)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var N=S,V=A;V.l(I)<=0;)N=_e(N),V=_e(V);var D=we(N,1),z=we(V,1);for(V=we(V,2),N=we(N,2);!U(V);){var R=z.add(V);R.l(I)<=0&&(D=D.add(N),z=R),V=we(V,1),N=we(N,1)}return A=W(I,D.j(A)),new K(D,A)}for(D=E;I.l(A)>=0;){for(N=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=y(N),R=z.j(A);Q(R)||R.l(I)>0;)N-=V,z=y(N),R=z.j(A);U(z)&&(z=S),D=D.add(z),I=W(I,R)}return new K(D,I)}s.B=function(I){return ve(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<A;V++)N[V]=this.i(V)&I.i(V);return new h(N,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<A;V++)N[V]=this.i(V)|I.i(V);return new h(N,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<A;V++)N[V]=this.i(V)^I.i(V);return new h(N,this.h^I.h)};function _e(I){const A=I.g.length+1,N=[];for(let V=0;V<A;V++)N[V]=I.i(V)<<1|I.i(V-1)>>>31;return new h(N,I.h)}function we(I,A){const N=A>>5;A%=32;const V=I.g.length-N,D=[];for(let z=0;z<V;z++)D[z]=A>0?I.i(z+N)>>>A|I.i(z+N+1)<<32-A:I.i(z+N);return new h(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Kx=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,rr=h}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $x,Ho,Xx,yh,Jm,Jx,Wx,Zx;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function l(u,v){if(v)e:{var b=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var q=u[w];if(!(q in b))break e;b=b[q]}u=u[u.length-1],w=b[u],v=v(w),v!=w&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var c=c||{},h=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function y(u,v,b){return y=g,y.apply(null,arguments)}function x(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function E(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,q,G){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return v.prototype[q].apply(w,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const v=u.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=u[w];return b}return[]}function U(u,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=u.length||0;const G=q.length||0;u.length=b+G;for(let se=0;se<G;se++)u[b+se]=q[se]}else u.push(q)}}class Q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(u){h.setTimeout(()=>{throw u},0)}function W(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ie{constructor(){this.h=this.g=null}add(v,b){const w=K.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var K=new Q(()=>new ve,u=>u.reset());class ve{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,we=!1,I=new ie,A=()=>{const u=Promise.resolve(void 0);_e=()=>{u.then(N)}};function N(){for(var u;u=W();){try{u.h.call(u.g)}catch(b){M(b)}var v=K;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}we=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function rt(u,v){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(rt,D),rt.prototype.init=function(u,v){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(u,v,b,w,q){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=q,this.key=++X,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,v,b){for(const w in u)v.call(b,u[w],w,u)}function Ye(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function k(u){const v={};for(const b in u)v[b]=u[b];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,v){let b,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(b in w)u[b]=w[b];for(let G=0;G<ee.length;G++)b=ee[G],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,v,b,w,q){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const se=Ne(u,v,w,q);return se>-1?(v=u[se],b||(v.fa=!1)):(v=new re(v,this.src,G,!!w,q),v.fa=b,u.push(v)),v};function be(u,v){const b=v.type;if(b in u.g){var w=u.g[b],q=Array.prototype.indexOf.call(w,v,void 0),G;(G=q>=0)&&Array.prototype.splice.call(w,q,1),G&&(me(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ne(u,v,b,w){for(let q=0;q<u.length;++q){const G=u[q];if(!G.da&&G.listener==v&&G.capture==!!b&&G.ha==w)return q}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),jt={};function at(u,v,b,w,q){if(Array.isArray(v)){for(let G=0;G<v.length;G++)at(u,v[G],b,w,q);return null}return b=Ml(b),u&&u[Dt]?u.J(v,b,p(w)?!!w.capture:!1,q):yr(u,v,b,!1,w,q)}function yr(u,v,b,w,q,G){if(!v)throw Error("Invalid event type");const se=p(q)?!!q.capture:!!q;let Se=vr(u);if(Se||(u[Le]=Se=new ce(u)),b=Se.add(v,b,w,se,G),b.proxy)return b;if(w=fa(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)z||(q=se),q===void 0&&(q=!1),u.addEventListener(v.toString(),w,q);else if(u.attachEvent)u.attachEvent(ai(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function fa(){function u(b){return v.call(u.src,u.listener,b)}const v=Ol;return u}function ma(u,v,b,w,q){if(Array.isArray(v))for(var G=0;G<v.length;G++)ma(u,v[G],b,w,q);else w=p(w)?!!w.capture:!!w,b=Ml(b),u&&u[Dt]?(u=u.i,G=String(v).toString(),G in u.g&&(v=u.g[G],b=Ne(v,b,w,q),b>-1&&(me(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[G],u.h--)))):u&&(u=vr(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ne(v,b,w,q)),(b=u>-1?v[u]:null)&&pa(b))}function pa(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Dt])be(v.i,u);else{var b=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(b,w,u.capture):v.detachEvent?v.detachEvent(ai(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=vr(v))?(be(b,u),b.h==0&&(b.src=null,v[Le]=null)):me(u)}}}function ai(u){return u in jt?jt[u]:jt[u]="on"+u}function Ol(u,v){if(u.da)u=!0;else{v=new rt(v,this);const b=u.listener,w=u.ha||u.src;u.fa&&pa(u),u=b.call(w,v)}return u}function vr(u){return u=u[Le],u instanceof ce?u:null}var kl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ml(u){return typeof u=="function"?u:(u[kl]||(u[kl]=function(v){return u.handleEvent(v)}),u[kl])}function _t(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}E(_t,V),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(u,v,b,w){ma(this,u,v,b,w)};function Ot(u,v){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new D(v,u);else if(v instanceof D)v.target=v.target||u;else{var q=v;v=new D(w,u),ae(v,q)}q=!0;let G,se;if(b)for(se=b.length-1;se>=0;se--)G=v.g=b[se],q=ys(G,w,!0,v)&&q;if(G=v.g=u,q=ys(G,w,!0,v)&&q,q=ys(G,w,!1,v)&&q,b)for(se=0;se<b.length;se++)G=v.g=b[se],q=ys(G,w,!1,v)&&q}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let w=0;w<b.length;w++)me(b[w]);delete u.g[v],u.h--}}this.G=null},_t.prototype.J=function(u,v,b,w){return this.i.add(String(u),v,!1,b,w)},_t.prototype.K=function(u,v,b,w){return this.i.add(String(u),v,!0,b,w)};function ys(u,v,b,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let G=0;G<v.length;++G){const se=v[G];if(se&&!se.da&&se.capture==b){const Se=se.listener,mt=se.ha||se.src;se.fa&&be(u.i,se),q=Se.call(mt,w)!==!1&&q}}return q&&!w.defaultPrevented}function yd(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function Rc(u){u.g=yd(()=>{u.g=null,u.i&&(u.i=!1,Rc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class nn extends V{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){V.call(this),this.h=u,this.g={}}E(_r,V);var Vl=[];function Pl(u){ze(u.g,function(v,b){this.g.hasOwnProperty(b)&&pa(v)},u),u.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Pl(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=h.JSON.stringify,vd=h.JSON.parse,Cc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Ic(){}function Dc(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}E(zt,D);function Tn(){D.call(this,"c")}E(Tn,D);var ft={},jc=null;function ga(){return jc=jc||new _t}ft.Ia="serverreachability";function Oc(u){D.call(this,ft.Ia,u)}E(Oc,D);function li(u){const v=ga();Ot(v,new Oc(v))}ft.STAT_EVENT="statevent";function br(u,v){D.call(this,ft.STAT_EVENT,u),this.stat=v}E(br,D);function bt(u){const v=ga();Ot(v,new br(v,u))}ft.Ja="timingevent";function oi(u,v){D.call(this,ft.Ja,u),this.size=v}E(oi,D);function ci(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function _d(u,v,b,w,q,G){u.info(function(){if(u.g)if(G){var se="",Se=G.split("&");for(let He=0;He<Se.length;He++){var mt=Se[He].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Nn=lt.split("_");se=Nn.length>=2&&Nn[1]=="type"?se+(lt+"="+mt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+v+`
`+b+`
`+se})}function kc(u,v,b,w,q,G,se){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+v+`
`+b+`
`+G+" "+se})}function ui(u,v,b,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+bd(u,b)+(w?" "+w:"")})}function xr(u,v){u.info(function(){return"TIMEOUT: "+v})}Bn.prototype.info=function(){};function bd(u,v){if(!u.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var b=G[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return vs(G)}catch{return v}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function Tr(){}E(Tr,Ic),Tr.prototype.g=function(){return new XMLHttpRequest},Ul=new Tr;function Ui(u){return encodeURIComponent(String(u))}function Mc(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function Hn(u,v,b,w){this.j=u,this.i=v,this.l=b,this.S=w||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var xt={},Vt={};function hi(u,v,b){u.M=1,u.A=wr(Tt(v)),u.u=b,u.R=!0,ya(u,null)}function ya(u,v){u.F=Date.now(),di(u),u.B=Tt(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),xa(b.i,"t",w),u.C=0,b=u.j.L,u.h=new Fn,u.g=Xc(u.j,b?v:null,!u.u),u.P>0&&(u.O=new nn(y(u.Y,u,u.g),u.P)),v=u.V,b=u.g,w=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Vl[0]=q.toString()),q=Vl);for(let G=0;G<q.length;G++){const se=at(b,q[G],w||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),li(),_d(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const v=this.O;v&&Qn(u)==3?v.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Qn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Se!=4||mt==7||(mt==8||He<=0?li(3):li(2)),fi(this);var v=this.g.ca();this.X=v;var b=xd(this);if(this.o=v==200,kc(this.i,this.v,this.B,this.l,this.S,Se,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var G=w;break t}}G=null}if(u=G)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,bt(12),mn(this),wn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=Pc(this,b),lt==Vt){Se==4&&(this.m=4,bt(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,bt(15),ui(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,lt,null),mi(this,lt);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||b.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),wn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),eo(se),se.P=!0,bt(11))}}else ui(this.i,this.l,b,null),mi(this,b);Se==4&&mn(this),this.o&&!this.K&&(Se==4?Yc(this.j,this):(this.o=!1,di(this)))}else qi(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),mn(this),wn(this)}}}catch{}finally{}};function xd(u){if(!Vc(u))return u.g.la();const v=qt(u.g);if(v==="")return"";let b="";const w=v.length,q=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new h.TextDecoder}for(let G=0;G<w;G++)u.h.h=!0,b+=u.h.i.decode(v[G],{stream:!(q&&G==w-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function Vc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Pc(u,v){var b=u.C,w=v.indexOf(`
`,b);return w==-1?Vt:(b=Number(v.substring(b,w)),isNaN(b)?xt:(w+=1,w+b>v.length?Vt:(v=v.slice(w,w+b),u.C=w+b,v)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function di(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(y(u.aa,u),v)}function fi(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(li(),bt(17)),mn(this),this.m=2,wn(this)):va(this,this.T-u)};function wn(u){u.j.I==0||u.K||Yc(u.j,u)}function mn(u){fi(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Pl(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function mi(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||gi(b.h,u))){if(!u.L&&gi(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),As(b);else break e;Dr(b),bt(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ci(y(b.Va,b),6e3));pi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ei(b,11)}else if((u.L||b.g==u)&&Aa(b),!R(v))for(q=b.Ba.g.parse(v),v=0;v<q.length;v++){let He=q[v];const lt=He[0];if(!(lt<=b.K))if(b.K=lt,He=He[1],b.I==2)if(He[0]=="c"){b.M=He[1],b.ba=He[2];const Nn=He[3];Nn!=null&&(b.ka=Nn,b.j.info("VER="+b.ka));const Ti=He[4];Ti!=null&&(b.za=Ti,b.j.info("SVER="+b.za));const Kn=He[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(w=1.5*Kn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const $n=u.g;if($n){const jr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var G=w.h;G.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Bl(G,G.h),G.h=null))}if(w.G){const Na=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(w.wa=Na,Qe(w.J,w.G,Na))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var se=u;if(w.na=$c(w,w.L?w.ba:null,w.W),se.L){Hl(w.h,se);var Se=se,mt=w.O;mt&&(Se.H=mt),Se.D&&(fi(Se),di(Se)),w.g=se}else Fc(w);b.i.length>0&&xi(b)}else He[0]!="stop"&&He[0]!="close"||Ei(b,7);else b.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ei(b,7):Wl(b):He[0]!="noop"&&b.l&&b.l.qa(He),b.A=0)}}li(4)}catch{}}var Et=class{constructor(u,v){this.g=u,this.map=v}};function zl(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ql(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function gi(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Bl(u,v){u.g?u.g.add(v):u.h=v}function Hl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}zl.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return O(u.i)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let q,G=null;w>=0?(q=u[b].substring(0,w),G=u[b].substring(w+1)):q=u[b],v(q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof pn?(this.l=u.l,Pt(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.u),this.h=u.h,Gl(this,Bc(u.i)),this.m=u.m):u&&(v=String(u).match(Lc))?(this.l=!1,Pt(this,v[1]||"",!0),this.o=yi(v[2]||""),this.g=yi(v[3]||"",!0),_s(this,v[4]),this.h=yi(v[5]||"",!0),Gl(this,v[6]||"",!0),this.m=yi(v[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}pn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Sr(v,ba,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Sr(v,ba,!0),"@"),u.push(Ui(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Sr(b,b.charAt(0)=="/"?Yl:Uc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Sr(b,zc)),u.join("")},pn.prototype.resolve=function(u){const v=Tt(this);let b=!!u.j;b?Pt(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var w=u.h;if(b)_s(v,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=v.h.lastIndexOf("/");q!=-1&&(w=v.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const G=[];for(let se=0;se<q.length;){const Se=q[se++];Se=="."?w&&se==q.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&se==q.length&&G.push("")):(G.push(Se),w=!0)}w=G.join("/")}else w=q}return b?v.h=w:b=u.i.toString()!=="",b?Gl(v,Bc(u.i)):b=!!u.m,b&&(v.m=u.m),v};function Tt(u){return new pn(u)}function Pt(u,v,b){u.j=b?yi(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Gl(u,v,b){v instanceof xs?(u.i=v,Ea(u.i,u.l)):(b||(v=Sr(v,bs)),u.i=new xs(v,u.l))}function Qe(u,v,b){u.i.set(v,b)}function wr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,an),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,Uc=/[#\?:]/g,Yl=/[#\?]/g,bs=/[#\?@]/g,zc=/#/g;function xs(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}s=xs.prototype,s.add=function(u,v){ln(this),this.i=null,u=Es(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function qc(u,v){ln(u),v=Es(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ql(u,v){return ln(u),v=Es(u,v),u.g.has(v)}s.forEach=function(u,v){ln(this),this.g.forEach(function(b,w){b.forEach(function(q){u.call(v,q,w,this)},this)},this)};function Kl(u,v){ln(u);let b=[];if(typeof v=="string")Ql(u,v)&&(b=b.concat(u.g.get(Es(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}s.set=function(u,v){return ln(this),this.i=null,u=Es(this,u),Ql(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},s.get=function(u,v){return u?(u=Kl(this,u),u.length>0?String(u[0]):v):v};function xa(u,v,b){qc(u,v),b.length>0&&(u.i=null,u.g.set(Es(u,v),O(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const q=Ui(b);b=Kl(this,b);for(let G=0;G<b.length;G++){let se=q;b[G]!==""&&(se+="="+Ui(b[G])),u.push(se)}}return this.i=u.join("&")};function Bc(u){const v=new xs;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Es(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Ea(u,v){v&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(b,w){const q=w.toLowerCase();w!=q&&(qc(this,w),xa(this,q,b))},u)),u.j=v}function Gn(u,v){const b=new Bn;if(h.Image){const w=new Image;w.onload=x(Sn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Sn,b,"TestLoadImage: error",!1,v,w),w.onabort=x(Sn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Sn,b,"TestLoadImage: timeout",!1,v,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function $l(u,v){const b=new Bn,w=new AbortController,q=setTimeout(()=>{w.abort(),Sn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(G=>{clearTimeout(q),G.ok?Sn(b,"TestPingServer: ok",!0,v):Sn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Sn(b,"TestPingServer: error",!1,v)})}function Sn(u,v,b,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(b)}catch{}}function Ts(){this.g=new Cc}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}E(vi,Ic),vi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,v){_t.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ar,_t),s=Ar.prototype,s.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Yn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?ws(this):Yn(this),this.readyState==3&&Ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},s.Na=function(u){this.g&&(this.response=u,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}s.setRequestHeader=function(u,v){this.A.append(u,v)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let v="";return ze(u,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function Nr(u,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=An(b),typeof u=="string"?b!=null&&Ui(b):Qe(u,v,b))}function Xe(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Xe,_t);var _i=/^https?$/i,Xl=["POST","PUT"];s=Xe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(G){Rr(this,G);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)b.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())b.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),q=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Xl,v,void 0)>=0)||w||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of b)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Rr(this,G)}};function Rr(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Jl(u),zi(u)}function Jl(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Xe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=G===0){let se=String(u.D).match(Lc)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),w=!_i.test(se?se.toLowerCase():"")}b=w}if(b)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var q=Qn(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Jl(u)}}finally{zi(u)}}}}function zi(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||Ot(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),vd(v)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const v={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var b=Mc(u[w]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=v[q]||[];v[q]=G,G.push(b)}Ye(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Ss(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(u,v,b,w){bt(0),this.W=u,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=$c(this,null,this.W),xi(this)};function Wl(u){if(wa(u),u.I==3){var v=u.V++,b=Tt(u.J);if(Qe(b,"SID",u.M),Qe(b,"RID",v),Qe(b,"TYPE","terminate"),Ir(u,b),v=new Hn(u,u.j,v),v.M=2,v.A=wr(Tt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=Xc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),di(v)}Kc(u)}function As(u){u.g&&(eo(u),u.g.cancel(),u.g=null)}function wa(u){As(u),u.v&&(h.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function xi(u){if(!ql(u.h)&&!u.m){u.m=!0;var v=u.Ea;_e||A(),we||(_e(),we=!0),I.add(v,u),u.D=0}}function Sa(u,v){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(y(u.Ea,u,v),Qc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Hn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=k(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(q.J=G,G=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Hc(this,q,v),b=Tt(this.J),Qe(b,"RID",u),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),Ir(this,b),G&&(this.R?v="headers="+Ui(An(G))+"&"+v:this.u&&Nr(b,this.u,G)),Bl(this.h,q),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",v),Qe(b,"SID","null"),q.U=!0,hi(q,b,null)):hi(q,b,v),this.I=2}}else this.I==3&&(u?Zl(this,u):this.i.length==0||ql(this.h)||Zl(this))};function Zl(u,v){var b;v?b=v.l:b=u.V++;const w=Tt(u.J);Qe(w,"SID",u.M),Qe(w,"RID",b),Qe(w,"AID",u.K),Ir(u,w),u.u&&u.o&&Nr(w,u.u,u.o),b=new Hn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Hc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bl(u.h,b),hi(b,w,v)}function Ir(u,v){u.H&&ze(u.H,function(b,w){Qe(v,w,b)}),u.l&&ze({},function(b,w){Qe(v,w,b)})}function Hc(u,v,b){b=Math.min(u.i.length,b);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var q=u.i;let Se=-1;for(;;){const mt=["count="+b];Se==-1?b>0?(Se=q[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let He=!0;for(let lt=0;lt<b;lt++){var G=q[lt].g;const Nn=q[lt].map;if(G-=Se,G<0)Se=Math.max(0,q[lt].g-100),He=!1;else try{G="req"+G+"_"||"";try{var se=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ti,Kn]of se){let $n=Kn;p(Kn)&&($n=vs(Kn)),mt.push(G+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw mt.push(G+"type="+encodeURIComponent("_badmap")),Ti}}catch{w&&w(Nn)}}if(He){se=mt.join("&");break e}}se=void 0}return u=u.i.splice(0,b),v.G=u,se}function Fc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;_e||A(),we||(_e(),we=!0),I.add(v,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(y(u.Da,u),Qc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),As(this),Gc(this))};function eo(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Gc(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Tt(u.na);Qe(v,"RID","rpc"),Qe(v,"SID",u.M),Qe(v,"AID",u.K),Qe(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(v,"TO",u.ia),Qe(v,"TYPE","xmlhttp"),Ir(u,v),u.u&&u.o&&Nr(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=wr(Tt(v)),b.u=null,b.R=!0,ya(b,u)}s.Va=function(){this.C!=null&&(this.C=null,As(this),Dr(this),bt(19))};function Aa(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Yc(u,v){var b=null;if(u.g==v){Aa(u),eo(u),u.g=null;var w=2}else if(gi(u.h,v))b=v.G,Hl(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var q=u.D;w=ga(),Ot(w,new oi(w,b)),xi(u)}else Fc(u);else if(q=v.m,q==3||q==0&&v.X>0||!(w==1&&Sa(u,v)||w==2&&Dr(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),q){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Qc(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Ei(u,v){if(u.j.info("Error code "+v),v==2){var b=y(u.bb,u),w=u.Ua;const q=!w;w=new pn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pt(w,"https"),wr(w),q?Gn(w.toString(),b):$l(w.toString(),b)}else bt(2);u.I=0,u.l&&u.l.pa(v),Kc(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Kc(u){if(u.I=0,u.ja=[],u.l){const v=Fl(u.h);(v.length!=0||u.i.length!=0)&&(U(u.ja,v),U(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function $c(u,v,b){var w=b instanceof pn?Tt(b):new pn(b);if(w.g!="")v&&(w.g=v+"."+w.g),_s(w,w.u);else{var q=h.location;w=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const G=new pn(null);w&&Pt(G,w),v&&(G.g=v),q&&_s(G,q),b&&(G.h=b),w=G}return b=u.G,v=u.wa,b&&v&&Qe(w,b,v),Qe(w,"VER",u.ka),Ir(u,w),w}function Xc(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Xe(new vi({ab:b})):new Xe(u.ma),v.Fa(u.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}s=Jc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,v){return new sn(u,v)};function sn(u,v){_t.call(this),this.g=new Ss(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!R(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Bi(this)}E(sn,_t),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Wl(this.g)},sn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=vs(u),u=b);v.i.push(new Et(v.Ya++,u)),v.I==3&&xi(v)},sn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,sn.Z.N.call(this)};function Wc(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(Wc,zt);function Zc(){Tn.call(this),this.status=1}E(Zc,Tn);function Bi(u){this.g=u}E(Bi,Jc),Bi.prototype.ra=function(){Ot(this.g,"a")},Bi.prototype.qa=function(u){Ot(this.g,new Wc(u))},Bi.prototype.pa=function(u){Ot(this.g,new Zc)},Bi.prototype.oa=function(){Ot(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Zx=function(){return new Ns},Wx=function(){return ga()},Jx=ft,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,yh=Er,Ll.COMPLETE="complete",Xx=Ll,Dc.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ho=Dc,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,$x=Xe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",V_="4.9.2";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Al="12.3.0";const na=new wp("@firebase/firestore");function il(){return na.logLevel}function oe(s,...e){if(na.logLevel<=ke.DEBUG){const n=e.map(Mp);na.debug(`Firestore (${Al}): ${s}`,...n)}}function fs(s,...e){if(na.logLevel<=ke.ERROR){const n=e.map(Mp);na.error(`Firestore (${Al}): ${s}`,...n)}}function ml(s,...e){if(na.logLevel<=ke.WARN){const n=e.map(Mp);na.warn(`Firestore (${Al}): ${s}`,...n)}}function Mp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function ye(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eE(s,r,n)}function eE(s,e,n){let r=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function Ge(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||eE(e,l,r)}function Te(s,e){return s}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class XR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JR{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cs,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cs)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new tE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class WR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=tC(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Me(s,e){return s<e?-1:s>e?1:0}function Wm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Dm(l)===Dm(c)?Me(l,c):Dm(l)?1:-1}return Me(s.length,e.length)}const nC=55296,iC=57343;function Dm(s){const e=s.charCodeAt(0);return e>=nC&&e<=iC}function pl(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const L_="__name__";class Ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Ri.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const r=Ri.isNumericId(e),l=Ri.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ri{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return sC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new Qt([L_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new le(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new le(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(h=!h,l++):p!=="."||h?(r+=p,l++):(c(),l++)}if(c(),h)throw new le(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}function nE(s,e,n){if(!n)throw new le(te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function rC(s,e,n,r){if(e===!0&&r===!0)throw new le(te.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function U_(s){if(!fe.isDocumentKey(s))throw new le(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function z_(s){if(fe.isDocumentKey(s))throw new le(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function iE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ed(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function ti(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ed(s);throw new le(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function It(s,e){const n={typeString:s};return e&&(n.value=e),n}function xc(s,e){if(!iE(s))throw new le(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(l&&typeof h!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new le(te.INVALID_ARGUMENT,n);return!0}const q_=-62135596800,B_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*B_);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new st(0,0))}static max(){return new xe(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const rc=-1;function aC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new lr(l,fe.empty(),e)}function lC(s){return new lr(s.readTime,s.key,rc)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(xe.min(),fe.empty(),rc)}static max(){return new lr(xe.max(),fe.empty(),rc)}}function oC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(s.documentKey,e.documentKey),n!==0?n:Me(s.largestBatchId,e.largestBatchId))}const cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nl(s){if(s.code!==te.FAILED_PRECONDITION||s.message!==cC)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let l=0,c=0,h=!1;e.forEach((p=>{++l,p.next((()=>{++c,h&&c===l&&n()}),(g=>r(g)))})),h=!0,c===l&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((l=>l?ne.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,l)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{h[y]=x,++p,p===c&&r(h)}),(x=>l(x)))}}))}static doWhile(e,n){return new ne(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function hC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(s){return s.name==="IndexedDbTransactionError"}class td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}td.ce=-1;const Pp=-1;function nd(s){return s==null}function jh(s){return s===0&&1/s==-1/0}function dC(s){return typeof s=="number"&&Number.isInteger(s)&&!jh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const sE="";function fC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=H_(e)),e=mC(s.get(n),e);return H_(e)}function mC(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case sE:n+="";break;default:n+=c}}return n}function H_(s){return s+sE+""}function F_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function aa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function rE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=l??Yt.EMPTY,this.right=c??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Yt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ei([])}unionWith(e){let n=new Mt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aE("Invalid base64 string: "+c):c}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const pC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const n=pC.exec(s);if(Ge(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const lE="server_timestamp",oE="__type__",cE="__previous_value__",uE="__local_write_time__";function Lp(s){return(s?.mapValue?.fields||{})[oE]?.stringValue===lE}function id(s){const e=s.mapValue.fields[cE];return Lp(e)?id(e):e}function ac(s){const e=or(s.mapValue.fields[uE].timestampValue);return new st(e.seconds,e.nanos)}class gC{constructor(e,n,r,l,c,h,p,g,y,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const Oh="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}const hE="__type__",yC="__max__",lh={mapValue:{}},dE="__vector__",kh="value";function ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lp(s)?4:_C(s)?9007199254740991:vC(s)?10:11:ye(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const n=ur(s);if(n!==ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ac(s).isEqual(ac(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=or(l.timestampValue),p=or(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=yt(l.doubleValue),p=yt(c.doubleValue);return h===p?jh(h)===jh(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const h=l.mapValue.fields||{},p=c.mapValue.fields||{};if(F_(h)!==F_(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Vi(h[g],p[g])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function oc(s,e){return(s.values||[]).find((n=>Vi(n,e)))!==void 0}function gl(s,e){if(s===e)return 0;const n=ur(s),r=ur(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(s.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=yt(c.integerValue||c.doubleValue),g=yt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Y_(s.timestampValue,e.timestampValue);case 4:return Y_(ac(s),ac(e));case 5:return Wm(s.stringValue,e.stringValue);case 6:return(function(c,h){const p=cr(c),g=cr(h);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Me(p[y],g[y]);if(x!==0)return x}return Me(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Me(yt(c.latitude),yt(h.latitude));return p!==0?p:Me(yt(c.longitude),yt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Q_(s.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[kh]?.arrayValue,x=g[kh]?.arrayValue,E=Me(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Q_(y,x)})(s.mapValue,e.mapValue);case 11:return(function(c,h){if(c===lh.mapValue&&h===lh.mapValue)return 0;if(c===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const S=Wm(g[E],x[E]);if(S!==0)return S;const O=gl(p[g[E]],y[x[E]]);if(O!==0)return O}return Me(g.length,x.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function Y_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Me(s,e);const n=or(s),r=or(e),l=Me(n.seconds,r.seconds);return l!==0?l:Me(n.nanos,r.nanos)}function Q_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=gl(n[l],r[l]);if(c)return c}return Me(n.length,r.length)}function yl(s){return Zm(s)}function Zm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=or(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return cr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return fe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Zm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of r)c?c=!1:l+=",",l+=`${h}:${Zm(n.fields[h])}`;return l+"}"})(s.mapValue):ye(61005,{value:s})}function vh(s){switch(ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(s);return e?16+vh(e):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+vh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return aa(r.fields,((c,h)=>{l+=c.length+vh(h)})),l})(s.mapValue);default:throw ye(13486,{value:s})}}function K_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ep(s){return!!s&&"integerValue"in s}function Up(s){return!!s&&"arrayValue"in s}function $_(s){return!!s&&"nullValue"in s}function X_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function _h(s){return!!s&&"mapValue"in s}function vC(s){return(s?.mapValue?.fields||{})[hE]?.stringValue===dE}function Xo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return aa(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(s.arrayValue.values[n]);return e}return{...s}}function _C(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yC}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=Qt.emptyPath(),r={},l=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}h?r[p.lastSegment()]=Xo(h):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];_h(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){aa(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Pn(Xo(this.value))}}function fE(s){const e=[];return aa(s.fields,((n,r)=>{const l=new Qt([n]);if(_h(r)){const c=fE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)})),new ei(e)}class Zt{constructor(e,n,r,l,c,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,xe.min(),xe.min(),xe.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,l){return new Zt(e,1,n,xe.min(),r,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,xe.min(),xe.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,xe.min(),xe.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function J_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?r=fe.comparator(fe.fromName(h.referenceValue),n.key):r=gl(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function bC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class mE{}class Ct extends mE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EC(e,n,r):n==="array-contains"?new SC(e,r):n==="in"?new AC(e,r):n==="not-in"?new NC(e,r):n==="array-contains-any"?new RC(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TC(e,r):new wC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&ur(this.value)===ur(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends mE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return pE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pE(s){return s.op==="and"}function gE(s){return xC(s)&&pE(s)}function xC(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function tp(s){if(s instanceof Ct)return s.field.canonicalString()+s.op.toString()+yl(s.value);if(gE(s))return s.filters.map((e=>tp(e))).join(",");{const e=s.filters.map((n=>tp(n))).join(",");return`${s.op}(${e})`}}function yE(s,e){return s instanceof Ct?(function(r,l){return l instanceof Ct&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,e):s instanceof ii?(function(r,l){return l instanceof ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,h,p)=>c&&yE(h,l.filters[p])),!0):!1})(s,e):void ye(19439)}function vE(s){return s instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(vE).join(" ,")+"}"})(s):"Filter"}class EC extends Ct{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class TC extends Ct{constructor(e,n){super(e,"in",n),this.keys=_E("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wC extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=_E("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _E(s,e){return(e.arrayValue?.values||[]).map((n=>fe.fromName(n.referenceValue)))}class SC extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&oc(n.arrayValue,this.value)}}class AC extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class NC extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class RC extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>oc(this.value.arrayValue,r)))}}class CC{constructor(e,n=null,r=[],l=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function Z_(s,e=null,n=[],r=[],l=null,c=null,h=null){return new CC(s,e,n,r,l,c,h)}function zp(s){const e=Te(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>tp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yl(r))).join(",")),e.Te=n}return e.Te}function qp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!bC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!yE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!W_(s.startAt,e.startAt)&&W_(s.endAt,e.endAt)}function np(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ec{constructor(e,n=null,r=[],l=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IC(s,e,n,r,l,c,h,p){return new Ec(s,e,n,r,l,c,h,p)}function sd(s){return new Ec(s)}function eb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bE(s){return s.collectionGroup!==null}function Jo(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Mt(Qt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Vh(c,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Vh(Qt.keyField(),r))}return e.Ie}function Di(s){const e=Te(s);return e.Ee||(e.Ee=DC(e,Jo(s))),e.Ee}function DC(s,e){if(s.limitType==="F")return Z_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Vh(l.field,c)}));const n=s.endAt?new Mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Mh(s.startAt.position,s.startAt.inclusive):null;return Z_(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function ip(s,e){const n=s.filters.concat([e]);return new Ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function sp(s,e,n){return new Ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function rd(s,e){return qp(Di(s),Di(e))&&s.limitType===e.limitType}function xE(s){return`${zp(Di(s))}|lt:${s.limitType}`}function sl(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>vE(l))).join(", ")}]`),nd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>yl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>yl(l))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function ad(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):fe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Jo(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(h,p,g){const y=J_(h,p,g);return h.inclusive?y<=0:y<0})(r.startAt,Jo(r),l)||r.endAt&&!(function(h,p,g){const y=J_(h,p,g);return h.inclusive?y>=0:y>0})(r.endAt,Jo(r),l))})(s,e)}function jC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function EE(s){return(e,n)=>{let r=!1;for(const l of Jo(s)){const c=OC(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function OC(s,e,n){const r=s.field.isKeyField()?fe.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?gl(g,y):ye(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:s.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}const kC=new ut(fe.comparator);function ms(){return kC}const TE=new ut(fe.comparator);function Fo(...s){let e=TE;for(const n of s)e=e.insert(n.key,n);return e}function wE(s){let e=TE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $r(){return Wo()}function SE(){return Wo()}function Wo(){return new la((s=>s.toString()),((s,e)=>s.isEqual(e)))}const MC=new ut(fe.comparator),VC=new Mt(fe.comparator);function Ve(...s){let e=VC;for(const n of s)e=e.add(n);return e}const PC=new Mt(Me);function LC(){return PC}function Bp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function AE(s){return{integerValue:""+s}}function UC(s,e){return dC(e)?AE(e):Bp(s,e)}class ld{constructor(){this._=void 0}}function zC(s,e,n){return s instanceof Ph?(function(l,c){const h={fields:{[oE]:{stringValue:lE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lp(c)&&(c=id(c)),c&&(h.fields[cE]=c),{mapValue:h}})(n,e):s instanceof cc?RE(s,e):s instanceof uc?CE(s,e):(function(l,c){const h=NE(l,c),p=tb(h)+tb(l.Ae);return ep(h)&&ep(l.Ae)?AE(p):Bp(l.serializer,p)})(s,e)}function qC(s,e,n){return s instanceof cc?RE(s,e):s instanceof uc?CE(s,e):n}function NE(s,e){return s instanceof Lh?(function(r){return ep(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Ph extends ld{}class cc extends ld{constructor(e){super(),this.elements=e}}function RE(s,e){const n=IE(e);for(const r of s.elements)n.some((l=>Vi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class uc extends ld{constructor(e){super(),this.elements=e}}function CE(s,e){let n=IE(e);for(const r of s.elements)n=n.filter((l=>!Vi(l,r)));return{arrayValue:{values:n}}}class Lh extends ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tb(s){return yt(s.integerValue||s.doubleValue)}function IE(s){return Up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function BC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof cc&&l instanceof cc||r instanceof uc&&l instanceof uc?pl(r.elements,l.elements,Vi):r instanceof Lh&&l instanceof Lh?Vi(r.Ae,l.Ae):r instanceof Ph&&l instanceof Ph})(s.transform,e.transform)}class HC{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class od{}function DE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new OE(s.key,ji.none()):new Tc(s.key,s.data,ji.none());{const n=s.data,r=Pn.empty();let l=new Mt(Qt.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),l=l.add(c)}return new oa(s.key,r,new ei(l.toArray()),ji.none())}}function FC(s,e,n){s instanceof Tc?(function(l,c,h){const p=l.value.clone(),g=ib(l.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):s instanceof oa?(function(l,c,h){if(!bh(l.precondition,c))return void c.convertToUnknownDocument(h.version);const p=ib(l.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(jE(l)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Zo(s,e,n,r){return s instanceof Tc?(function(c,h,p,g){if(!bh(c.precondition,h))return p;const y=c.value.clone(),x=sb(c.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof oa?(function(c,h,p,g){if(!bh(c.precondition,h))return p;const y=sb(c.fieldTransforms,g,h),x=h.data;return x.setAll(jE(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,r):(function(c,h,p){return bh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,n)}function GC(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=NE(r.transform,l||null);c!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,c))}return n||null}function nb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&pl(r,l,((c,h)=>BC(c,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Tc extends od{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class oa extends od{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function ib(s,e,n){const r=new Map;Ge(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],h=c.transform,p=e.data.field(c.field);r.set(c.field,qC(h,p,n[l]))}return r}function sb(s,e,n){const r=new Map;for(const l of s){const c=l.transform,h=n.data.field(l.field);r.set(l.field,zC(c,h,e))}return r}class OE extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QC{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&FC(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SE();return this.mutations.forEach((l=>{const c=e.get(l.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(l.key)?null:p;const g=DE(h,p);g!==null&&r.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,r)=>nb(n,r)))&&pl(this.baseMutations,e.baseMutations,((n,r)=>nb(n,r)))}}class Hp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return MC})();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,r[h].version);return new Hp(e,n,r,l)}}class KC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $C{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Ue;function XC(s){switch(s){case te.OK:return ye(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function kE(s){if(s===void 0)return fs("GRPC error has no .code"),te.UNKNOWN;switch(s){case Rt.OK:return te.OK;case Rt.CANCELLED:return te.CANCELLED;case Rt.UNKNOWN:return te.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return te.INTERNAL;case Rt.UNAVAILABLE:return te.UNAVAILABLE;case Rt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Rt.NOT_FOUND:return te.NOT_FOUND;case Rt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Rt.ABORTED:return te.ABORTED;case Rt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Rt.DATA_LOSS:return te.DATA_LOSS;default:return ye(39323,{code:s})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function JC(){return new TextEncoder}const WC=new rr([4294967295,4294967295],0);function rb(s){const e=JC().encode(s),n=new Kx;return n.update(e),new Uint8Array(n.digest())}function ab(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rr([n,r],0),new rr([l,c],0)]}class Fp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(rr.fromNumber(r)));return l.compare(WC)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rb(e),[r,l]=ab(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,l,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Fp(c,l,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=rb(e),[r,l]=ab(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,l,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cd(xe.min(),l,new ut(Me),ms(),Ve())}}class wc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wc(r,n,Ve(),Ve(),Ve())}}class xh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class ME{constructor(e,n){this.targetId=e,this.Ce=n}}class VE{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class lb{constructor(){this.ve=0,this.Fe=ob(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:ye(38017,{changeType:c})}})),new wc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ob()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.Je=oh(),this.He=oh(),this.Ye=new ut(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(np(c))if(r===0){const h=new fe(c.path);this.et(n,h,Zt.newNoDocument(h,xe.min()))}else Ge(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let h,p;try{h=cr(r).toUint8Array()}catch(g){if(g instanceof aE)return ml("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Fp(h,l,c)}catch(g){return ml(g instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&np(p.target)){const g=new fe(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Zt.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let r=Ve();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const l=new cd(e,n,this.Ye,this.je,r);return this.je=ms(),this.Je=oh(),this.He=oh(),this.Ye=new ut(Me),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ut(fe.comparator)}function ob(){return new ut(fe.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"};class iI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(s,e){return s.useProto3Json||nd(e)?e:{value:e}}function Uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function sI(s,e){return Uh(s,e.toTimestamp())}function Oi(s){return Ge(!!s,49232),xe.fromTimestamp((function(n){const r=or(n);return new st(r.seconds,r.nanos)})(s))}function Gp(s,e){return ap(s,e).canonicalString()}function ap(s,e){const n=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function LE(s){const e=tt.fromString(s);return Ge(HE(e),10190,{key:e.toString()}),e}function lp(s,e){return Gp(s.databaseId,e.path)}function jm(s,e){const n=LE(e);if(n.get(1)!==s.databaseId.projectId)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new fe(zE(n))}function UE(s,e){return Gp(s.databaseId,e)}function rI(s){const e=LE(s);return e.length===4?tt.emptyPath():zE(e)}function op(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function zE(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function cb(s,e,n){return{name:lp(s,e),fields:n.value.mapValue.fields}}function aI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(Ge(x===void 0||typeof x=="string",58123),Kt.fromBase64String(x||"")):(Ge(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Kt.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?te.UNKNOWN:kE(y.code);return new le(x,y.message||"")})(h);n=new VE(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=jm(s,r.document.name),c=Oi(r.document.updateTime),h=r.document.createTime?Oi(r.document.createTime):xe.min(),p=new Pn({mapValue:{fields:r.document.fields}}),g=Zt.newFoundDocument(l,c,h,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new xh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=jm(s,r.document),c=r.readTime?Oi(r.readTime):xe.min(),h=Zt.newNoDocument(l,c),p=r.removedTargetIds||[];n=new xh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=jm(s,r.document),c=r.removedTargetIds||[];n=new xh([],c,l,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,h=new $C(l,c),p=r.targetId;n=new ME(p,h)}}return n}function lI(s,e){let n;if(e instanceof Tc)n={update:cb(s,e.key,e.value)};else if(e instanceof OE)n={delete:lp(s,e.key)};else if(e instanceof oa)n={update:cb(s,e.key,e.data),updateMask:gI(e.fieldMask)};else{if(!(e instanceof YC))return ye(16599,{Vt:e.type});n={verify:lp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const p=h.transform;if(p instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof cc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(s,e.precondition)),n}function oI(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map((n=>(function(l,c){let h=l.updateTime?Oi(l.updateTime):Oi(c);return h.isEqual(xe.min())&&(h=Oi(c)),new HC(h,l.transformResults||[])})(n,e)))):[]}function cI(s,e){return{documents:[UE(s,e.path)]}}function uI(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UE(s,l);const c=(function(y){if(y.length!==0)return BE(ii.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:rl(S.field),direction:fI(S.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=rp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function hI(s){let e=rI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ge(r===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=qE(E);return S instanceof ii&&gE(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((S=>(function(U){return new Vh(al(U.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,nd(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,O=E.values||[];return new Mh(O,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,O=E.values||[];return new Mh(O,S)})(n.endAt)),IC(e,l,h,c,p,"F",g,y)}function dI(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=al(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=al(n.unaryFilter.field);return Ct.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=al(n.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=al(n.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ct.create(al(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>qE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(s):ye(30097,{filter:s})}function fI(s){return eI[s]}function mI(s){return tI[s]}function pI(s){return nI[s]}function rl(s){return{fieldPath:s.canonicalString()}}function al(s){return Qt.fromServerFormat(s.fieldPath)}function BE(s){return s instanceof Ct?(function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:mI(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((l=>BE(l)));return r.length===1?r[0]:{compositeFilter:{op:pI(n.op),filters:r}}})(s):ye(54877,{filter:s})}function gI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class tr{constructor(e,n,r,l,c=xe.min(),h=xe.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yI{constructor(e){this.yt=e}}function vI(s){const e=hI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sp(e,e.limit,"L"):e}class _I{constructor(){this.Cn=new bI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(lr.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class bI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Mt(tt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Mt(tt.comparator)).toArray()}}const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(FE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const hb="LruGarbageCollector",xI=1048576;function db([s,e],[n,r]){const l=Me(s,n);return l===0?Me(e,r):l}class EI{constructor(e){this.Ir=e,this.buffer=new Mt(db),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();db(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?oe(hb,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Vr(3e5)}))}}class wI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(td.ce);const r=new EI(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(ub)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,h=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),il()<=ke.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${l} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function SI(s,e){return new wI(s,e)}class AI{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class RI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Zo(r.mutation,l,ei.empty(),st.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const l=$r();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let h=Fo();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,l){let c=ms();const h=Wo(),p=(function(){return Wo()})();return n.forEach(((g,y)=>{const x=r.get(y.key);l.has(y.key)&&(x===void 0||x.mutation instanceof oa)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),Zo(x.mutation,y,x.mutation.getFieldMask(),st.now())):h.set(y.key,ei.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>p.set(y,new NI(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Wo();let l=new ut(((h,p)=>h-p)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||ei.empty();x=p.applyToLocalView(y,x),r.set(g,x);const E=(l.get(p.batchId)||Ve()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const h=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=SE();x.forEach((S=>{if(!c.has(S)){const O=DE(n.get(S),r.get(S));O!==null&&E.set(S,O),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(h){return fe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):ne.resolve($r());let p=rc,g=c;return h.next((y=>ne.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?ne.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ve()))).next((x=>({batchId:p,changes:wE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next((r=>{let l=Fo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let h=Fo();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(E,S){return new Ec(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((x=>{x.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((h=>{c.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,Zt.newInvalidDocument(x)))}));let p=Fo();return h.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&Zo(x.mutation,y,ei.empty(),st.now()),ad(n,y)&&(p=p.insert(g,y))})),p}))}}class CI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:vI(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),ne.resolve()}}class II{constructor(){this.overlays=new ut(fe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return ne.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const l=$r(),c=n.length+1,h=new fe(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new ut(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=$r(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=$r(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=l)););return ne.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new KC(n,r));let c=this.qr.get(n);c===void 0&&(c=Ve(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class DI{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Yp{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new fe(new tt([])),r=new Ut(n,e),l=new Ut(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new tt([])),r=new Ut(n,e),l=new Ut(n,e+1);let c=Ve();return this.Ur.forEachInRange([r,l],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}class jI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QC(c,n,r,l);this.mutationQueue.push(h);for(const p of l)this.Zr=this.Zr.add(new Ut(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(h=>{const p=this.Xr(h.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Me);return n.forEach((l=>{const c=new Ut(l,0),h=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{r=r.add(p.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;fe.isDocumentKey(c)||(c=c.child(""));const h=new Ut(new fe(c),0);let p=new Mt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),h),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(l=>{const c=new Ut(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),l=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class OI{constructor(e){this.ri=e,this.docs=(function(){return new ut(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ms();const h=n.path,p=new fe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||oC(lC(x),r)<=0||(l.has(x.key)||ad(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,r,l){ye(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new kI(this)}getSize(e){return ne.resolve(this.size)}}class kI extends AI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class MI{constructor(e){this.persistence=e,this.si=new la((n=>zp(n)),qp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ne.waitFor(c).next((()=>l))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((h=>{c.push(l.markPotentiallyOrphaned(e,h))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class GE{constructor(e,n){this.ui={},this.overlays={},this.ci=new td(0),this.li=!1,this.li=!0,this.hi=new DI,this.referenceDelegate=e(this),this.Pi=new MI(this),this.indexManager=new _I,this.remoteDocumentCache=(function(l){return new OI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yI(n),this.Ii=new CI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new II,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new VI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class VI extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const l=fe.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new la((r=>fC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=SI(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?ne.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(h=>this.br(e,h,n).next((p=>{p||(r++,c.removeEntry(h,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ne.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Ve(),l=Ve();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Kp(e,n.fromCache,r,l)}}class PI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mS()?8:hC(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new PI;return this.Ss(e,n,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(il()<=ke.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(il()<=ke.DEBUG&&oe("QueryEngine","Query:",sl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(il()<=ke.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ne.resolve())}ys(e,n){if(eb(n))return ne.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=sp(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=Ve(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,sp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return eb(n)||l.isEqual(xe.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,r,l)?ne.resolve(null):(il()<=ke.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),sl(n)),this.vs(e,h,n,aC(l,rc)).next((p=>p)))}))}Ds(e,n){let r=new Mt(EE(e));return n.forEach(((l,c)=>{ad(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return il()<=ke.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",sl(n)),this.ps.getDocumentsMatchingQuery(e,n,lr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const $p="LocalStore",UI=3e8;class zI{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Me),this.xs=new la((c=>zp(c)),qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qI(s,e,n,r){return new zI(s,e,n,r)}async function YE(s,e){const n=Te(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],p=[];let g=Ve();for(const y of l){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function BI(s,e){const n=Te(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,S=E.keys();let O=ne.resolve();return S.forEach((U=>{O=O.next((()=>x.getEntry(g,U))).next((Q=>{const M=y.docVersions.get(U);Ge(M!==null,48541),Q.version.compareTo(M)<0&&(E.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),x.addEntry(Q)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Ve();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function QE(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function HI(s,e){const n=Te(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const S=l.get(E);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,E))));let O=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(Kt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):x.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(x.resumeToken,r)),l=l.insert(E,O),(function(Q,M,W){return Q.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=UI?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(S,O,x)&&p.push(n.Pi.updateTargetData(c,O))}));let g=ms(),y=Ve();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(FI(c,h,e.documentUpdates).next((x=>{g=x.ks,y=x.qs}))),!r.isEqual(xe.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return ne.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function FI(s,e,n){let r=Ve(),l=Ve();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let h=ms();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):oe($p,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:l}}))}function GI(s,e){const n=Te(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function YI(s,e){const n=Te(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,ne.resolve(l)):n.Pi.allocateTargetId(r).next((h=>(l=new tr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function cp(s,e,n){const r=Te(s),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Rl(h))throw h;oe($p,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function fb(s,e,n){const r=Te(s);let l=xe.min(),c=Ve();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const E=Te(g),S=E.xs.get(x);return S!==void 0?ne.resolve(E.Ms.get(S)):E.Pi.getTargetData(y,x)})(r,h,Di(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?l:xe.min(),n?c:Ve()))).next((p=>(QI(r,jC(e),p),{documents:p,Qs:c})))))}function QI(s,e,n){let r=s.Os.get(e)||xe.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class mb{constructor(){this.activeTargetIds=LC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KI{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $I{Oo(e){}shutdown(){}}const pb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(pb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(pb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function up(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const Om="RestConnection",XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const h=up(),p=this.zo(e,n.toUriEncodedString());oe(Om,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),x=Tl(y);return this.Jo(e,p,g,r,x).then((E=>(oe(Om,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw ml(Om,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",r),E}))}Ho(e,n,r,l,c,h){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=XI[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class WI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class ZI extends JI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const h=up();return new Promise(((p,g)=>{const y=new $x;y.setWithCredentials(!0),y.listenOnce(Xx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case yh.NO_ERROR:const E=y.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case yh.TIMEOUT:oe(Xt,`RPC '${e}' ${h} timed out`),g(new le(te.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const S=y.getStatus();if(oe(Xt,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O?.error;if(U&&U.status&&U.message){const Q=(function(W){const ie=W.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ie)>=0?ie:te.UNKNOWN})(U.status);g(new le(Q,U.message))}else g(new le(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(te.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Xt,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(l);oe(Xt,`RPC '${e}' ${h} sending request:`,l),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const l=up(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Zx(),p=Wx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const x=c.join("");oe(Xt,`Creating RPC '${e}' stream ${l}: ${x}`,g);const E=h.createWebChannel(x,g);this.I_(E);let S=!1,O=!1;const U=new WI({Yo:M=>{O?oe(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,M):(S||(oe(Xt,`Opening RPC '${e}' stream ${l} transport.`),E.open(),S=!0),oe(Xt,`RPC '${e}' stream ${l} sending:`,M),E.send(M))},Zo:()=>E.close()}),Q=(M,W,ie)=>{M.listen(W,(K=>{try{ie(K)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return Q(E,Ho.EventType.OPEN,(()=>{O||(oe(Xt,`RPC '${e}' stream ${l} transport opened.`),U.o_())})),Q(E,Ho.EventType.CLOSE,(()=>{O||(O=!0,oe(Xt,`RPC '${e}' stream ${l} transport closed`),U.a_(),this.E_(E))})),Q(E,Ho.EventType.ERROR,(M=>{O||(O=!0,ml(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,M.name,"Message:",M.message),U.a_(new le(te.UNAVAILABLE,"The operation could not be completed")))})),Q(E,Ho.EventType.MESSAGE,(M=>{if(!O){const W=M.data[0];Ge(!!W,16349);const ie=W,K=ie?.error||ie[0]?.error;if(K){oe(Xt,`RPC '${e}' stream ${l} received error:`,K);const ve=K.status;let _e=(function(A){const N=Rt[A];if(N!==void 0)return kE(N)})(ve),we=K.message;_e===void 0&&(_e=te.INTERNAL,we="Unknown error status: "+ve+" with message "+K.message),O=!0,U.a_(new le(_e,we)),E.close()}else oe(Xt,`RPC '${e}' stream ${l} received:`,W),U.u_(W)}})),Q(p,Jx.STAT_EVENT,(M=>{M.stat===Jm.PROXY?oe(Xt,`RPC '${e}' stream ${l} detected buffering proxy`):M.stat===Jm.NOPROXY&&oe(Xt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}function ud(s){return new iI(s,!0)}class KE{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yb="PersistentStream";class $E{constructor(e,n,r,l,c,h,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends $E{constructor(e,n,r,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?Oi(h.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=op(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=np(g)?{documents:cI(c,g)}:{query:uI(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=PE(c,h.resumeToken);const y=rp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(xe.min())>0){p.readTime=Uh(c,h.snapshotVersion.toTimestamp());const y=rp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=dI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.q_(n)}}class tD extends $E{constructor(e,n,r,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oI(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=op(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>lI(this.serializer,r)))};this.q_(n)}}class nD{}class iD extends nD{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,ap(n,r),l,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(te.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,ap(n,r),l,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(te.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class rD{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{ca(this)&&(oe(ia,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await Sc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await hd(y)})(this))}))})),this.Ra=new sD(r,l)}}async function hd(s){if(ca(s))for(const e of s.da)await e(!0)}async function Sc(s){for(const e of s.da)await e(!1)}function XE(s,e){const n=Te(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zp(n)?Wp(n):Cl(n).O_()&&Jp(n,e))}function Xp(s,e){const n=Te(s),r=Cl(n);n.Ia.delete(e),r.O_()&&JE(n,e),n.Ia.size===0&&(r.O_()?r.L_():ca(n)&&n.Ra.set("Unknown"))}function Jp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(s).Y_(e)}function JE(s,e){s.Va.Ue(e),Cl(s).Z_(e)}function Wp(s){s.Va=new ZC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Cl(s).start(),s.Ra.ua()}function Zp(s){return ca(s)&&!Cl(s).x_()&&s.Ia.size>0}function ca(s){return Te(s).Ea.size===0}function WE(s){s.Va=void 0}async function aD(s){s.Ra.set("Online")}async function lD(s){s.Ia.forEach(((e,n)=>{Jp(s,e)}))}async function oD(s,e){WE(s),Zp(s)?(s.Ra.ha(e),Wp(s)):s.Ra.set("Unknown")}async function cD(s,e,n){if(s.Ra.set("Online"),e instanceof VE&&e.state===2&&e.cause)try{await(async function(l,c){const h=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,h),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){oe(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(s,r)}else if(e instanceof xh?s.Va.Ze(e):e instanceof ME?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const r=await QE(s.localStore);n.compareTo(r)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Kt.EMPTY_BYTE_STRING,x.snapshotVersion)),JE(c,g);const E=new tr(x.target,g,y,x.sequenceNumber);Jp(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){oe(ia,"Failed to raise snapshot:",r),await qh(s,r)}}async function qh(s,e,n){if(!Rl(e))throw e;s.Ea.add(1),await Sc(s),s.Ra.set("Offline"),n||(n=()=>QE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ia,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await hd(s)}))}function ZE(s,e){return e().catch((n=>qh(s,n,e)))}async function dd(s){const e=Te(s),n=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;uD(e);)try{const l=await GI(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,hD(e,l)}catch(l){await qh(e,l)}e1(e)&&t1(e)}function uD(s){return ca(s)&&s.Ta.length<10}function hD(s,e){s.Ta.push(e);const n=hr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function e1(s){return ca(s)&&!hr(s).x_()&&s.Ta.length>0}function t1(s){hr(s).start()}async function dD(s){hr(s).ra()}async function fD(s){const e=hr(s);for(const n of s.Ta)e.ea(n.mutations)}async function mD(s,e,n){const r=s.Ta.shift(),l=Hp.from(r,e,n);await ZE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await dd(s)}async function pD(s,e){e&&hr(s).X_&&await(async function(r,l){if((function(h){return XC(h)&&h!==te.ABORTED})(l.code)){const c=r.Ta.shift();hr(r).B_(),await ZE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await dd(r)}})(s,e),e1(s)&&t1(s)}async function vb(s,e){const n=Te(s);n.asyncQueue.verifyOperationInProgress(),oe(ia,"RemoteStore received new credentials");const r=ca(n);n.Ea.add(3),await Sc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hd(n)}async function gD(s,e){const n=Te(s);e?(n.Ea.delete(2),await hd(n)):e||(n.Ea.add(2),await Sc(n),n.Ra.set("Unknown"))}function Cl(s){return s.ma||(s.ma=(function(n,r,l){const c=Te(n);return c.sa(),new eD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:aD.bind(null,s),t_:lD.bind(null,s),r_:oD.bind(null,s),H_:cD.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Zp(s)?Wp(s):s.Ra.set("Unknown")):(await s.ma.stop(),WE(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(n,r,l){const c=Te(n);return c.sa(),new tD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:dD.bind(null,s),r_:pD.bind(null,s),ta:fD.bind(null,s),na:mD.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await dd(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class eg{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const h=Date.now()+r,p=new eg(e,n,h,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(s,e){if(fs("AsyncQueue",`${e}: ${s}`),Rl(s))return new le(te.UNAVAILABLE,`${e}: ${s}`);throw s}class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Fo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _b{constructor(){this.ga=new ut(fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _l{constructor(e,n,r,l,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new _l(e,n,hl.emptySet(n),h,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class yD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vD{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Te(n),c=l.queries;l.queries=bb(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new le(te.ABORTED,"Firestore shutting down"))}}function bb(){return new la((s=>xE(s)),rd)}async function ng(s,e){const n=Te(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new yD,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const p=tg(h,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&sg(n)}async function ig(s,e){const n=Te(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _D(s,e){const n=Te(s);let r=!1;for(const l of e){const c=l.query,h=n.queries.get(c);if(h){for(const p of h.Sa)p.Fa(l)&&(r=!0);h.wa=l}}r&&sg(n)}function bD(s,e,n){const r=Te(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function sg(s){s.Ca.forEach((e=>{e.next()}))}var hp,xb;(xb=hp||(hp={})).Ma="default",xb.Cache="cache";class rg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hp.Cache}}class n1{constructor(e){this.key=e}}class i1{constructor(e){this.key=e}}class xD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=EE(e),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _b,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,E)=>{const S=l.get(x),O=ad(this.query,E)?E:null,U=!!S&&this.mutatedKeys.has(S.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let M=!1;S&&O?S.data.isEqual(O.data)?U!==Q&&(r.track({type:3,doc:O}),M=!0):this.su(S,O)||(r.track({type:2,doc:O}),M=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!S&&O?(r.track({type:0,doc:O}),M=!0):S&&!O&&(r.track({type:1,doc:S}),M=!0,(g||y)&&(p=!0)),M&&(O?(h=h.add(O),c=Q?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:h,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(O,U){const Q=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:M})}};return Q(O)-Q(U)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new _l(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new i1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new n1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class ED{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TD{constructor(e){this.key=e,this.hu=!1}}class wD{constructor(e,n,r,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new la((p=>xE(p)),rd),this.Iu=new Map,this.Eu=new Set,this.du=new ut(fe.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SD(s,e,n=!0){const r=c1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await s1(r,e,n,!0),l}async function AD(s,e){const n=c1(s);await s1(n,e,!0,!1)}async function s1(s,e,n,r){const l=await YI(s.localStore,Di(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await ND(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&n&&XE(s.remoteStore,l),p}async function ND(s,e,n,r,l){s.pu=(E,S,O)=>(async function(Q,M,W,ie){let K=M.view.ru(W);K.Cs&&(K=await fb(Q.localStore,M.query,!1).then((({documents:I})=>M.view.ru(I,K))));const ve=ie&&ie.targetChanges.get(M.targetId),_e=ie&&ie.targetMismatches.get(M.targetId)!=null,we=M.view.applyChanges(K,Q.isPrimaryClient,ve,_e);return Tb(Q,M.targetId,we.au),we.snapshot})(s,E,S,O);const c=await fb(s.localStore,e,!0),h=new xD(e,c.Qs),p=h.ru(c.documents),g=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=h.applyChanges(p,s.isPrimaryClient,g);Tb(s,n,y.au);const x=new ED(e,n,h);return s.Tu.set(e,x),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function RD(s,e,n){const r=Te(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((h=>!rd(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await cp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Xp(r.remoteStore,l.targetId),dp(r,l.targetId)})).catch(Nl)):(dp(r,l.targetId),await cp(r.localStore,l.targetId,!0))}async function CD(s,e){const n=Te(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xp(n.remoteStore,r.targetId))}async function ID(s,e,n){const r=PD(s);try{const l=await(function(h,p){const g=Te(h),y=st.now(),x=p.reduce(((O,U)=>O.add(U.key)),Ve());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let U=ms(),Q=Ve();return g.Ns.getEntries(O,x).next((M=>{U=M,U.forEach(((W,ie)=>{ie.isValidDocument()||(Q=Q.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,U))).next((M=>{E=M;const W=[];for(const ie of p){const K=GC(ie,E.get(ie.key).overlayedDocument);K!=null&&W.push(new oa(ie.key,K,fE(K.value.mapValue),ji.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,W,p)})).next((M=>{S=M;const W=M.applyToLocalDocumentSet(E,Q);return g.documentOverlayCache.saveOverlays(O,M.batchId,W)}))})).then((()=>({batchId:S.batchId,changes:wE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new ut(Me)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(r,l.batchId,n),await Ac(r,l.changes),await dd(r.remoteStore)}catch(l){const c=tg(l,"Failed to persist write");n.reject(c)}}async function r1(s,e){const n=Te(s);try{const r=await HI(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const h=n.Au.get(c);h&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Ge(h.hu,14607):l.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Ac(n,r,e)}catch(r){await Nl(r)}}function Eb(s,e,n){const r=Te(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(h,p){const g=Te(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const S of E.Sa)S.va(p)&&(y=!0)})),y&&sg(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DD(s,e,n){const r=Te(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let h=new ut(fe.comparator);h=h.insert(c,Zt.newNoDocument(c,xe.min()));const p=Ve().add(c),g=new cd(xe.min(),new Map,new ut(Me),h,p);await r1(r,g),r.du=r.du.remove(c),r.Au.delete(e),lg(r)}else await cp(r.localStore,e,!1).then((()=>dp(r,e,n))).catch(Nl)}async function jD(s,e){const n=Te(s),r=e.batch.batchId;try{const l=await BI(n.localStore,e);l1(n,r,null),a1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,l)}catch(l){await Nl(l)}}async function OD(s,e,n){const r=Te(s);try{const l=await(function(h,p){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Ge(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);l1(r,e,n),a1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,l)}catch(l){await Nl(l)}}function a1(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function l1(s,e,n){const r=Te(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function dp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||o1(s,r)}))}function o1(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Xp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),lg(s))}function Tb(s,e,n){for(const r of n)r instanceof n1?(s.Ru.addReference(r.key,e),kD(s,r)):r instanceof i1?(oe(ag,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||o1(s,r.key)):ye(19791,{wu:r})}function kD(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(oe(ag,"New document in limbo: "+n),s.Eu.add(r),lg(s))}function lg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new fe(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new TD(n)),s.du=s.du.insert(n,r),XE(s.remoteStore,new tr(Di(sd(n.path)),r,"TargetPurposeLimboResolution",td.ce))}}async function Ac(s,e,n){const r=Te(s),l=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){l.push(y);const x=Kp.As(g.targetId,y);c.push(x)}})))})),await Promise.all(h),r.Pu.H_(l),await(async function(g,y){const x=Te(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(S=>ne.forEach(S.Es,(O=>x.persistence.referenceDelegate.addReference(E,S.targetId,O))).next((()=>ne.forEach(S.ds,(O=>x.persistence.referenceDelegate.removeReference(E,S.targetId,O)))))))))}catch(E){if(!Rl(E))throw E;oe($p,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const O=x.Ms.get(S),U=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(U);x.Ms=x.Ms.insert(S,Q)}}})(r.localStore,c))}async function MD(s,e){const n=Te(s);if(!n.currentUser.isEqual(e)){oe(ag,"User change. New user:",e.toKey());const r=await YE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new le(te.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.Ls)}}function VD(s,e){const n=Te(s),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let l=Ve();const c=n.Iu.get(e);if(!c)return l;for(const h of c){const p=n.Tu.get(h);l=l.unionWith(p.view.nu)}return l}}function c1(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=r1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DD.bind(null,e),e.Pu.H_=_D.bind(null,e.eventManager),e.Pu.yu=bD.bind(null,e.eventManager),e}function PD(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OD.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qI(this.persistence,new LI,e.initialUser,this.serializer)}Cu(e){return new GE(Qp.mi,this.serializer)}Du(e){return new KI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class LD extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new GE((r=>zh.mi(r,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vD})()}createDatastore(e){const n=ud(e.databaseInfo.databaseId),r=(function(c){return new ZI(c)})(e.databaseInfo);return(function(c,h,p,g){return new iD(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,h,p){return new rD(r,l,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Eb(this.syncEngine,n,0)),(function(){return gb.v()?new gb:new $I})())}createSyncEngine(e,n){return(function(l,c,h,p,g,y,x){const E=new wD(l,c,h,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Te(n);oe(ia,"RemoteStore shutting down."),r.Ea.add(5),await Sc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const dr="FirestoreClient";class UD{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{oe(dr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(oe(dr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(dr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await YE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function wb(s,e){s.asyncQueue.verifyOperationInProgress();const n=await zD(s);oe(dr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>vb(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>vb(e.remoteStore,l))),s._onlineComponents=e}async function zD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(dr,"Using user provided OfflineComponentProvider");try{await Mm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===te.FAILED_PRECONDITION||l.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Mm(s,new Bh)}}else oe(dr,"Using default OfflineComponentProvider"),await Mm(s,new LD(void 0));return s._offlineComponents}async function u1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(dr,"Using user provided OnlineComponentProvider"),await wb(s,s._uninitializedComponentsProvider._online)):(oe(dr,"Using default OnlineComponentProvider"),await wb(s,new fp))),s._onlineComponents}function qD(s){return u1(s).then((e=>e.syncEngine))}async function Hh(s){const e=await u1(s),n=e.eventManager;return n.onListen=SD.bind(null,e.syncEngine),n.onUnlisten=RD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CD.bind(null,e.syncEngine),n}function BD(s,e,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new og({next:S=>{x.Nu(),h.enqueueAndForget((()=>ig(c,E)));const O=S.docs.has(p);!O&&S.fromCache?y.reject(new le(te.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?y.reject(new le(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new rg(sd(p.path),x,{includeMetadataChanges:!0,qa:!0});return ng(c,E)})(await Hh(s),s.asyncQueue,e,n,r))),r.promise}function HD(s,e,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new og({next:S=>{x.Nu(),h.enqueueAndForget((()=>ig(c,E))),S.fromCache&&g.source==="server"?y.reject(new le(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new rg(p,x,{includeMetadataChanges:!0,qa:!0});return ng(c,E)})(await Hh(s),s.asyncQueue,e,n,r))),r.promise}function h1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Sb=new Map;const d1="firestore.googleapis.com",Ab=!0;class Nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=Ab}else this.host=e.host,this.ssl=e.ssl??Ab;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xI)throw new le(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $R;switch(r.type){case"firstParty":return new ZR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Sb.get(n);r&&(oe("ComponentProvider","Removing Datastore"),Sb.delete(n),r.terminate())})(this),Promise.resolve()}}function FD(s,e,n,r={}){s=ti(s,fd);const l=Tl(e),c=s._getSettings(),h={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(ax(`https://${p}`),lx("Firestore",!0)),c.host!==d1&&c.host!==p&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Wr(g,h)&&(s._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=Wt.MOCK_USER;else{y=rS(r.mockUserToken,s._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new le(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Wt(E)}s._authCredentials=new XR(new tE(y,x))}}class ua{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xc(n,vt._jsonSchema))return new vt(e,r||null,new fe(tt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:It("string",vt._jsonSchemaVersion),referencePath:It("string")};class ar extends ua{constructor(e,n,r){super(e,n,sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new fe(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function md(s,e,...n){if(s=tn(s),nE("collection","path",e),s instanceof fd){const r=tt.fromString(e,...n);return z_(r),new ar(s,null,r)}{if(!(s instanceof vt||s instanceof ar))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return z_(r),new ar(s.firestore,null,r)}}function gs(s,e,...n){if(s=tn(s),arguments.length===1&&(e=Vp.newId()),nE("doc","path",e),s instanceof fd){const r=tt.fromString(e,...n);return U_(r),new vt(s,null,new fe(r))}{if(!(s instanceof vt||s instanceof ar))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return U_(r),new vt(s.firestore,s instanceof ar?s.converter:null,new fe(r))}}const Rb="AsyncQueue";class Cb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const r=km();r&&oe(Rb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;oe(Rb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",Ib(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=eg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:Ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ib(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Db(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class sa extends fd{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Cb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cb(e),this._firestoreClient=void 0,await e}}}function GD(s,e){const n=typeof s=="object"?s:hx(),r=typeof s=="string"?s:Oh,l=Ap(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=iS("firestore");c&&FD(l,...c)}return l}function pd(s){if(s._terminated)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YD(s),s._firestoreClient}function YD(s){const e=s._freezeSettings(),n=(function(l,c,h,p){return new gC(l,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,h1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new UD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(n){throw new le(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xc(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:It("string",Ln._jsonSchemaVersion),bytes:It("string")};class cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class f1{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(xc(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:It("string",ki._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xc(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new le(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:It("string",Mi._jsonSchemaVersion),vectorValues:It("object")};const QD=/^__.*__$/;class KD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}function m1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:s})}}class ug{constructor(e,n,r,l,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(m1(this.Ac)&&QD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $D{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ud(e)}Cc(e,n,r,l=!1){return new ug({Ac:e,methodName:n,Dc:r,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(s){const e=s._freezeSettings(),n=ud(s._databaseId);return new $D(s._databaseId,!!e.ignoreUndefinedProperties,n)}function p1(s,e,n,r,l,c={}){const h=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);v1("Data must be an object, but it was:",h,r);const p=g1(r,h);let g,y;if(c.merge)g=new ei(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=JD(e,E,n);if(!h.contains(S))throw new le(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);ZD(x,S)||x.push(S)}g=new ei(x),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new KD(new Pn(p),g,y)}function XD(s,e,n,r=!1){return dg(n,s.Cc(r?4:3,e))}function dg(s,e){if(y1(s=tn(s)))return v1("Unsupported field value:",e,s),g1(s,e);if(s instanceof f1)return(function(r,l){if(!m1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let h=0;for(const p of r){let g=dg(p,l.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=st.fromDate(r);return{timestampValue:Uh(l.serializer,c)}}if(r instanceof st){const c=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(l.serializer,c)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:PE(l.serializer,r._byteString)};if(r instanceof vt){const c=l.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(h,p){return{mapValue:{fields:{[hE]:{stringValue:dE},[kh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ed(r)}`)})(s,e)}function g1(s,e){const n={};return rE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(s,((r,l)=>{const c=dg(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function y1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof ki||s instanceof Ln||s instanceof vt||s instanceof f1||s instanceof Mi)}function v1(s,e,n){if(!y1(n)||!iE(n)){const r=ed(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function JD(s,e,n){if((e=tn(e))instanceof cg)return e._internalPath;if(typeof e=="string")return _1(s,e);throw Fh("Field path arguments must be of type string or ",s,!1,void 0,n)}const WD=new RegExp("[~\\*/\\[\\]]");function _1(s,e,n){if(e.search(WD)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new cg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Fh(s,e,n,r,l){const c=r&&!r.isEmpty(),h=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${r}`),h&&(g+=` in document ${l}`),g+=")"),new le(te.INVALID_ARGUMENT,p+s+g)}function ZD(s,e){return s.some((n=>n.isEqual(e)))}class b1{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e4 extends b1{data(){return super.data()}}function fg(s,e){return typeof e=="string"?_1(s,e):e instanceof cg?e._internalPath:e._delegate._internalPath}function x1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class t4 extends mg{}function n4(s,e,...n){let r=[];e instanceof mg&&r.push(e),r=r.concat(n),(function(c){const h=c.filter((g=>g instanceof pg)).length,p=c.filter((g=>g instanceof gd)).length;if(h>1||h>0&&p>0)throw new le(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class gd extends t4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gd(e,n,r)}_apply(e){const n=this._parse(e);return E1(e._query,n),new ua(e.firestore,e.converter,ip(e._query,n))}_parse(e){const n=hg(e.firestore);return(function(c,h,p,g,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new le(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Ob(E,x);const U=[];for(const Q of E)U.push(jb(g,c,Q));S={arrayValue:{values:U}}}else S=jb(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Ob(E,x),S=XD(p,h,E,x==="in"||x==="not-in");return Ct.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function i4(s,e,n){const r=e,l=fg("where",s);return gd._create(l,r,n)}class pg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let h=l;const p=c.getFlattenedFilters();for(const g of p)E1(h,g),h=ip(h,g)})(e._query,n),new ua(e.firestore,e.converter,ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jb(s,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new le(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&n.indexOf("/")!==-1)throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!fe.isDocumentKey(r))throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K_(s,new fe(r))}if(n instanceof vt)return K_(s,n._key);throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(n)}.`)}function Ob(s,e){if(!Array.isArray(s)||s.length===0)throw new le(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E1(s,e){const n=(function(l,c){for(const h of l)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class s4{convertValue(e,n="none"){switch(ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return aa(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new ki(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=id(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=or(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ge(HE(r),9688,{name:e});const l=new lc(r.get(1),r.get(3)),c=new fe(r.popFirst(5));return l.isEqual(n)||fs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function T1(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xr extends b1{constructor(e,n,r,l,c,h){super(e,n,r,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:It("string",Xr._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Eh extends Xr{data(e={}){return super.data(e)}}class Jr{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Yo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((p=>{const g=new Eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Yo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Yo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:r4(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}function gg(s){s=ti(s,vt);const e=ti(s.firestore,sa);return BD(pd(e),s._key).then((n=>A1(e,s,n)))}Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:It("string",Jr._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class yg extends s4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function w1(s){s=ti(s,ua);const e=ti(s.firestore,sa),n=pd(e),r=new yg(e);return x1(s._query),HD(n,s._query).then((l=>new Jr(e,r,s,l)))}function Nc(s,e,n){s=ti(s,vt);const r=ti(s.firestore,sa),l=T1(s.converter,e,n);return S1(r,[p1(hg(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,ji.none())])}function a4(s,e){const n=ti(s.firestore,sa),r=gs(s),l=T1(s.converter,e);return S1(n,[p1(hg(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ji.exists(!1))]).then((()=>r))}function l4(s,...e){s=tn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Db(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Db(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,h,p;if(s instanceof vt)h=ti(s.firestore,sa),p=sd(s._key.path),c={next:g=>{e[r]&&e[r](A1(h,s,g))},error:e[r+1],complete:e[r+2]};else{const g=ti(s,ua);h=ti(g.firestore,sa),p=g._query;const y=new yg(h);c={next:x=>{e[r]&&e[r](new Jr(h,y,g,x))},error:e[r+1],complete:e[r+2]},x1(s._query)}return(function(y,x,E,S){const O=new og(S),U=new rg(x,O,E);return y.asyncQueue.enqueueAndForget((async()=>ng(await Hh(y),U))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>ig(await Hh(y),U)))}})(pd(h),p,l,c)}function S1(s,e){return(function(r,l){const c=new cs;return r.asyncQueue.enqueueAndForget((async()=>ID(await qD(r),l,c))),c.promise})(pd(s),e)}function A1(s,e,n){const r=n.docs.get(e._key),l=new yg(s);return new Xr(s,l,e._key,r,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Al=l})(wl),fl(new Zr("firestore",((r,{instanceIdentifier:l,options:c})=>{const h=r.getProvider("app").getImmediate(),p=new sa(new JR(r.getProvider("auth-internal")),new eC(h,r.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(y.options.projectId,x)})(h,l),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),sr(M_,V_,e),sr(M_,V_,"esm2020")})();const o4={apiKey:"AIzaSyCWOcy6bAkEw7iD7fu13Yz0wECG2199pRY",authDomain:"safehands-37385.firebaseapp.com",projectId:"safehands-37385",storageBucket:"safehands-37385.firebasestorage.app",messagingSenderId:"940411073036",appId:"1:940411073036:web:e2004967b979b369887429",measurementId:"G-FRLSYFJ9XT"},N1=ux(o4),ha=QR(N1),zn=GD(N1),c4=async s=>{try{const n=(await DN(ha,s.email,s.password)).user;return await Nc(gs(zn,"users",n.uid),{email:n.email,name:s.name||"",role:s.role||"user",covidStatus:"negative",uid:n.uid}),{success:!0,user:{uid:n.uid,email:n.email,role:s.role||"user"}}}catch(e){return{success:!1,error:e.message}}},u4=async(s,e)=>{try{const r=(await jN(ha,s,e)).user,l=gs(zn,"users",r.uid),c=await gg(l);if(c.exists()){const h=c.data();return{success:!0,user:{uid:r.uid,email:r.email,role:h.role}}}else return{success:!1,error:"User profile not found."}}catch(n){return{success:!1,error:n.message}}},h4=async()=>{try{return await VN(ha),{success:!0}}catch(s){return{success:!1,error:s.message}}};let Qo=null;MN(ha,async s=>{if(s){const e=gs(zn,"users",s.uid),n=await gg(e);n.exists()?(Qo=n.data(),Qo.uid=s.uid):Qo={uid:s.uid,email:s.email,role:"user"}}else Qo=null});const Li=()=>Qo,Vm=({roles:s})=>{const[e,n]=P.useState(!0),[r,l]=P.useState(!1),[c,h]=P.useState(null);return P.useEffect(()=>{const p=ha.onAuthStateChanged(async g=>{if(g){const y=await Li();h(y),l(!0)}else h(null),l(!1);n(!1)});return()=>p()},[]),e?d.jsx("div",{children:"Loading authentication..."}):r?s&&s.length>0&&(!c||!s.includes(c.role))?d.jsx(n_,{to:"/",replace:!0}):d.jsx(mw,{}):d.jsx(n_,{to:"/login",replace:!0})};const d4=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f4=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),kb=s=>{const e=f4(s);return e.charAt(0).toUpperCase()+e.slice(1)},R1=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),m4=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var p4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g4=P.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:h,...p},g)=>P.createElement("svg",{ref:g,...p4,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:R1("lucide",l),...!c&&!m4(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>P.createElement(y,x)),...Array.isArray(c)?c:[c]]));const De=(s,e)=>{const n=P.forwardRef(({className:r,...l},c)=>P.createElement(g4,{ref:c,iconNode:e,className:R1(`lucide-${d4(kb(s))}`,`lucide-${s}`,r),...l}));return n.displayName=kb(s),n};const y4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],v4=De("arrow-right",y4);const _4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],b4=De("bell",_4);const x4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vg=De("briefcase",x4);const E4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Il=De("calendar",E4);const T4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],C1=De("circle-alert",T4);const w4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I1=De("circle-check-big",w4);const S4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],A4=De("circle-plus",S4);const N4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gr=De("clock",N4);const R4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pm=De("eye-off",R4);const C4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dl=De("eye",C4);const I4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Dl=De("house",I4);const D4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],D1=De("layout-grid",D4);const j4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lm=De("lock",j4);const O4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mp=De("mail",O4);const k4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Gh=De("map-pin",k4);const M4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],j1=De("menu",M4);const V4=[["path",{d:"M5 12h14",key:"1ays0h"}]],P4=De("minus",V4);const L4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hc=De("package",L4);const U4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],ec=De("paw-print",U4);const z4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jl=De("phone",z4);const q4=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Mb=De("pill",q4);const B4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vb=De("plus",B4);const H4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yh=De("shield-check",H4);const F4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],O1=De("shield",F4);const G4=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],_g=De("shirt",G4);const Y4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Q4=De("shopping-cart",Y4);const K4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qh=De("sparkles",K4);const $4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],X4=De("square-pen",$4);const J4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],W4=De("star",J4);const Z4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ej=De("trash-2",Z4);const tj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pp=De("triangle-alert",tj);const nj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],bg=De("truck",nj);const ij=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pi=De("user",ij);const sj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],k1=De("users",sj);const rj=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Pb=De("utensils",rj);const aj=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],lj=De("washing-machine",aj);const oj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cj=De("x",oj),M1=async s=>{const e=gs(zn,"users",s),n=await gg(e);return n.exists()?{id:n.id,...n.data()}:null},V1=async()=>{const s=md(zn,"users");return(await w1(s)).docs.map(r=>({id:r.id,...r.data()}))},uj=async()=>{const s=md(zn,"bookings");return(await w1(s)).docs.map(r=>({id:r.id,...r.data()}))},da=async s=>{try{const e=md(zn,"bookings");return{success:!0,id:(await a4(e,s)).id}}catch(e){return{success:!1,error:e.message}}},hj=async(s,e)=>{try{const n=gs(zn,"users",s);return await Nc(n,{role:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating user role:",n),{success:!1,error:n.message}}},dj=(s,e)=>{const n=md(zn,"bookings"),r=n4(n,i4("providerId","==",s));return l4(r,c=>{const h=c.docs.map(p=>({id:p.id,...p.data()}));e(h)},c=>{console.error("Error listening to bookings:",c),e([])})},fj=async(s,e)=>{try{const n=gs(zn,"bookings",s);return await Nc(n,{status:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating booking status:",n),{success:!1,error:n.message}}},mj=async(s,e)=>{try{const n=gs(zn,"bookings",s);return await Nc(n,{providerId:e,status:"assigned"},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating booking provider:",n),{success:!1,error:n.message}}};function pj(){const[s,e]=P.useState(""),[n,r]=P.useState(""),[l,c]=P.useState(!1),h=fc(),p=[{id:"delivery-services",name:"Delivery Services",icon:hc,color:"from-red-400 to-pink-400",bgColor:"bg-red-50",description:"Groceries, food, and parcels delivered to your door."},{id:"medication",name:"Medication Delivery",icon:bg,color:"from-blue-400 to-indigo-400",bgColor:"bg-blue-50",description:"Any medical facility can be available from home."},{id:"covid",name:"Covid 19 Testing",icon:Yh,color:"from-yellow-400 to-amber-400",bgColor:"bg-yellow-50",description:"Test your covid status from professional covid testers"},{id:"home-cleaning",name:"Home Cleaning",icon:Qh,color:"from-green-400 to-teal-400",bgColor:"bg-green-50",description:"Professional home cleaning services."},{id:"laundry",name:"Laundry Service",icon:_g,color:"from-purple-400 to-indigo-400",bgColor:"bg-purple-50",description:"Convenient laundry and dry cleaning services."},{id:"pet-care",name:"Pet Care Services",icon:ec,color:"from-orange-400 to-amber-400",bgColor:"bg-orange-50",description:"Reliable and caring services for your beloved pets."}],g=y=>{h(`/${y}`)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative pt-20 pb-16 px-4",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob [animation-delay:2s]"}),d.jsx("div",{className:"absolute top-40 left-40 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob [animation-delay:4s]"})]}),d.jsx("div",{className:"relative max-w-7xl mx-auto",children:d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"inline-block mb-4",children:d.jsx("span",{className:"px-4 py-2 bg-indigo-100 text-indigo-600 rounded-full text-sm font-semibold",children:"Your Daily Essentials, Delivered with Care"})}),d.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight",children:["Welcome to",d.jsx("span",{className:"block bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"SafeHands"})]}),d.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-12",children:"Discover amazing features and services that await you. Your trusted partner for everyday convenience."})]})})]}),d.jsx("div",{id:"services",className:"py-16 px-4 bg-white/40",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Services"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Choose from our wide range of convenient services"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(y=>{const x=y.icon;return d.jsxs("div",{onClick:()=>g(y.id),className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[d.jsx("div",{className:`w-20 h-20 ${y.bgColor} rounded-full flex items-center justify-center mb-6 mx-auto group-hover:scale-110 transition-transform duration-300`,children:d.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${y.color} rounded-full flex items-center justify-center shadow-lg`,children:d.jsx(x,{className:"w-8 h-8 text-white"})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-3",children:y.name}),d.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:y.description})]},y.id)})})]})}),d.jsx("div",{className:"py-16 px-4",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose SafeHands?"}),d.jsx("p",{className:"text-lg text-gray-600",children:"We're committed to providing the best service experience"})]}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Fast Delivery",desc:"Lightning-fast service at your doorstep. Get your essentials delivered in minutes, not hours.",icon:gr,gradient:"from-blue-500 to-cyan-500"},{title:"Secure & Safe",desc:"Your safety is our priority. Contactless delivery options and verified service providers.",icon:O1,gradient:"from-green-500 to-emerald-500"},{title:"Trusted Quality",desc:"Rated 4.8/5 by thousands of happy customers. Excellence in every delivery.",icon:W4,gradient:"from-yellow-500 to-orange-500"}].map((y,x)=>{const E=y.icon;return d.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[d.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${y.gradient} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:d.jsx(E,{className:"w-8 h-8 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:y.title}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:y.desc})]},x)})})]})}),d.jsx("div",{className:"py-16 px-4 bg-gradient-to-r from-indigo-600 to-purple-600",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsx("div",{className:"grid md:grid-cols-4 gap-8 text-center text-white",children:[{number:"50K+",label:"Happy Customers"},{number:"100K+",label:"Deliveries Made"},{number:"500+",label:"Service Partners"},{number:"4.8/5",label:"Average Rating"}].map((y,x)=>d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"text-5xl font-bold mb-2",children:y.number}),d.jsx("div",{className:"text-lg text-indigo-100",children:y.label})]},x))})})})]})}function gj(){const s=fc(),[e,n]=P.useState("signin"),[r,l]=P.useState(!1),[c,h]=P.useState(!1),[p,g]=P.useState(!1),[y,x]=P.useState(!1),[E,S]=P.useState({email:"",password:""}),[O,U]=P.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),Q=async()=>{try{const K=await u4(E.email.trim(),E.password.trim());K.success?(x(!0),setTimeout(()=>{x(!1),K.user.role==="admin"?s("/admin"):K.user.role==="service-provider"?s("/provider-dashboard"):s("/")},1500)):alert(K.error)}catch(K){alert(K.message)}},M=async()=>{try{if(O.password!==O.confirmPassword){alert("Passwords do not match.");return}const K=await c4({email:O.email.trim(),password:O.password.trim(),name:O.name.trim(),role:O.role});K.success?(x(!0),setTimeout(()=>{x(!1),s("/")},1500)):alert(K.error)}catch(K){alert(K.message)}},W=K=>{U({...O,password:K.target.value})},ie=K=>{n(K),S({email:"",password:""}),U({name:"",email:"",password:"",confirmPassword:"",role:"user"})};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 relative overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute top-40 left-1/2 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),y&&d.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:d.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center space-x-3",children:[d.jsx(I1,{className:"w-6 h-6"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-lg",children:e==="signin"?"Sign in successful":"Sign up successful"}),d.jsx("div",{className:"text-sm text-green-50",children:e==="signin"?"Welcome back to SafeHands!":"You have successfully signed up."})]})]})}),d.jsx("div",{className:"relative min-h-[calc(100vh-4rem)] flex items-center justify-center px-4 py-12",children:d.jsxs("div",{className:"w-full max-w-6xl grid md:grid-cols-2 gap-12 items-center",children:[d.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-200 p-8 md:p-12",children:e==="signin"?d.jsxs("div",{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Sign in to your account"}),d.jsx("p",{className:"text-gray-600",children:"Welcome back! Please enter your details."})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(mp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",value:E.email,onChange:K=>S({...E,email:K.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your email"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Lm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",value:E.password,onChange:K=>S({...E,password:K.target.value}),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your password"}),d.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(Pm,{className:"w-5 h-5"}):d.jsx(dl,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:p,onChange:K=>g(K.target.checked),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Remember me"})]}),d.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"Forgot password?"})]}),d.jsxs("button",{onClick:Q,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[d.jsx("span",{children:"Sign in"}),d.jsx(v4,{className:"w-5 h-5"})]}),d.jsxs("p",{className:"text-center text-gray-600",children:["Don't have an account?"," ",d.jsx("button",{onClick:()=>ie("signup"),className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Sign up now!"})]})]})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Create your account"}),d.jsx("p",{className:"text-gray-600",children:"Join SafeHands today and get started."})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Pi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",name:"name",autoComplete:"name",value:O.name,onChange:K=>U({...O,name:K.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Full Name"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email address ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(mp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",name:"email",autoComplete:"email",value:O.email,onChange:K=>U({...O,email:K.target.value}),className:"w-full pl-12 pr-4 py-3 bg-indigo-50 border-2 border-indigo-100 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"email@example.com"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["I am signing up as a: ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"radio",name:"role",value:"user",checked:O.role==="user",onChange:K=>U({...O,role:K.target.value}),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),d.jsx("span",{className:"ml-2 text-gray-700",children:"Client"})]}),d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"radio",name:"role",value:"service-provider",checked:O.role==="service-provider",onChange:K=>U({...O,role:K.target.value}),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),d.jsx("span",{className:"ml-2 text-gray-700",children:"Service Provider"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Lm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",name:"new-password",autoComplete:"new-password",value:O.password,onChange:K=>W(K),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your password"}),d.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(Pm,{className:"w-5 h-5"}):d.jsx(dl,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Lm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:c?"text":"password",name:"new-password-confirmation",autoComplete:"new-password",value:O.confirmPassword,onChange:K=>U({...O,confirmPassword:K.target.value}),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Confirm your password"}),d.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?d.jsx(Pm,{className:"w-5 h-5"}):d.jsx(dl,{className:"w-5 h-5"})})]})]}),d.jsx("button",{onClick:M,disabled:!O.name||!O.email||!O.password||O.password!==O.confirmPassword,className:"w-full py-3 bg-gradient-to-r from-blue-400 to-cyan-500 text-white font-bold rounded-xl hover:from-blue-500 hover:to-cyan-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl",children:"Create Account"}),d.jsxs("p",{className:"text-center text-gray-600",children:["Already a user?"," ",d.jsx("button",{onClick:()=>ie("signin"),className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Sign in instead!"})]})]})]})}),d.jsx("div",{className:"hidden md:block",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-3xl blur-3xl"}),d.jsxs("div",{className:"relative bg-white/60 backdrop-blur-sm rounded-3xl p-8 border border-gray-200 shadow-2xl",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&auto=format&fit=crop",alt:"Professional workspace",className:"w-full h-[600px] object-cover rounded-2xl shadow-lg"}),d.jsxs("div",{className:"absolute bottom-12 left-12 right-12 bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join SafeHands Today"}),d.jsx("p",{className:"text-gray-600",children:"Experience seamless service delivery with our trusted platform. Your safety and convenience are our top priorities."})]})]})]})})]})})]})}function yj(){const[s,e]=P.useState(null),[n,r]=P.useState(!1),[l,c]=P.useState(null),[h,p]=P.useState(!0),[g,y]=P.useState("");P.useEffect(()=>{const U=ha.onAuthStateChanged(async Q=>{if(Q)try{const M=await M1(Q.uid);e(M),c(M),p(!1)}catch(M){console.error("Error fetching user profile:",M),y("Failed to load profile."),p(!1)}else p(!1)});return()=>U()},[]);const x=U=>{c({...l,[U.target.name]:U.target.value})},E=U=>{const Q=U.target.value;c({...l,quarantineStatus:Q,quarantineStartDate:Q==="active"?new Date().toISOString().split("T")[0]:"",quarantineEndDate:Q==="active"?new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0]:""})},S=async U=>{U.preventDefault(),p(!0),y("");try{if(s&&s.id){const Q=gs(zn,"users",s.id);await Nc(Q,l,{merge:!0}),e(l),r(!1),alert("Profile updated successfully!")}}catch(Q){console.error("Error updating profile:",Q),y("Failed to update profile."),alert("Failed to update profile: "+Q.message)}finally{p(!1)}},O=U=>{switch(U){case"active":return"bg-red-100 text-red-800 border-red-200";case"completed":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return h?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading profile..."}):g?d.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:g}):s?d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-white",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:d.jsx(Pi,{size:40,className:"text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:s.name||"User Name"}),d.jsx("p",{className:"text-blue-100",children:s.email||"user@example.com"})]})]})}),s.covidStatus==="positive"&&d.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-4 flex items-start gap-3",children:[d.jsx(C1,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 font-semibold",children:"Active Quarantine"}),d.jsx("p",{className:"text-red-700 text-sm",children:"Your status is positive. Please follow health guidelines."})]})]}),d.jsx("div",{className:"p-6",children:n?d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Full Name"}),d.jsx("input",{type:"text",name:"name",value:l.name||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Phone"}),d.jsx("input",{type:"tel",name:"phone",value:l.phone||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:l.email||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Address"}),d.jsx("textarea",{name:"address",value:l.address||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"COVID Status"}),d.jsxs("select",{name:"covidStatus",value:l.covidStatus||"negative",onChange:E,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"negative",children:"Negative"}),d.jsx("option",{value:"positive",children:"Positive"})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Changes"}),d.jsx("button",{type:"button",onClick:()=>{r(!1),c(s)},className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400 transition",children:"Cancel"})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Personal Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx(Pi,{size:20,className:"text-gray-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),d.jsx("p",{className:"font-semibold",children:s.name||"Not set"})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx(jl,{size:20,className:"text-gray-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),d.jsx("p",{className:"font-semibold",children:s.phone||"Not set"})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx(mp,{size:20,className:"text-gray-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),d.jsx("p",{className:"font-semibold",children:s.email||"Not set"})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx(Gh,{size:20,className:"text-gray-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),d.jsx("p",{className:"font-semibold",children:s.address||"Not set"})]})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"COVID Status"}),d.jsxs("div",{className:`p-4 rounded-lg border ${O(s.covidStatus)}`,children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(O1,{size:20}),d.jsx("p",{className:"font-semibold text-lg capitalize",children:s.covidStatus||"None"})]}),s.covidStatus==="positive"&&d.jsx("div",{className:"space-y-1 mt-3",children:d.jsx("p",{className:"text-sm",children:"You are advised to self-isolate."})})]})]}),d.jsx("button",{onClick:()=>r(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Edit Profile"})]})})]})})}):d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"No user profile found."})}const vj=[{id:"SP001",name:"CleanSweep Services",serviceType:"Home Cleaning",status:"Active",contact:"clean@example.com"},{id:"SP002",name:"QuickWash Laundry",serviceType:"Laundry Service",status:"Active",contact:"wash@example.com"},{id:"SP003",name:"MediDeliver Pharmacy",serviceType:"Medication Delivery",status:"Active",contact:"medi@example.com"},{id:"SP004",name:"PetPals Care",serviceType:"Pet Care Services",status:"Active",contact:"pet@example.com"},{id:"SP005",name:"FastTrack Logistics",serviceType:"Parcel Delivery",status:"Active",contact:"fast@example.com"},{id:"SP006",name:"GourmetGo Foods",serviceType:"Food Delivery",status:"Inactive",contact:"gourmet@example.com"}];function _j(){const[s,e]=P.useState(vj),n=c=>{alert(`Viewing provider: ${c.name}
Service: ${c.serviceType}
Status: ${c.status}
Contact: ${c.contact}`),console.log("View provider:",c)},r=c=>{alert(`Editing provider: ${c.name}
(Details for editing would go here)`),console.log("Edit provider:",c)},l=()=>{alert("Adding a new service provider (form would appear here)"),console.log("Add new provider")};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Service Provider Management"}),d.jsxs("button",{onClick:l,className:"bg-indigo-600 text-white sm:px-3 sm:py-1 lg:px-4 lg:py-2 rounded-lg hover:bg-indigo-700 transition flex items-center space-x-2",children:[d.jsx(A4,{size:18}),d.jsx("span",{children:"Add New Provider"})]})]}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Name"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service Type"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Contact"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Status"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(c=>d.jsxs("tr",{children:[d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900 truncate",children:c.name}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:c.serviceType}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:c.contact}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.status==="Active"?"bg-green-100 text-green-800":c.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})}),d.jsxs("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>n(c),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"View Provider",children:d.jsx(dl,{size:18})}),d.jsx("button",{onClick:()=>r(c),className:"text-green-600 hover:text-green-900",title:"Edit Provider",children:d.jsx(X4,{size:18})})]})]},c.id))})]})})]})}const Lb=({setActiveTab:s,usersCount:e,requestsCount:n,loading:r})=>d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Dashboard Overview"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("users"),children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Users"}),d.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:r?"...":e})]}),d.jsx(k1,{size:48,className:"text-indigo-400 opacity-50"})]}),d.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("requests"),children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Requests"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r?"...":n})]}),d.jsx(vg,{size:48,className:"text-blue-400 opacity-50"})]}),d.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("requests"),children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending Requests"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"..."})]}),d.jsx(gr,{size:48,className:"text-yellow-400 opacity-50"})]}),d.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("requests"),children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed Requests"}),d.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"..."})]}),d.jsx(I1,{size:48,className:"text-purple-400 opacity-50"})]}),d.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>s("providers"),children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Service Providers"}),d.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"..."})]}),d.jsx(D1,{size:48,className:"text-orange-400 opacity-50"})]})]})]}),bj=({users:s,setUsers:e,loading:n})=>{const r=Li(),l=async(h,p)=>{if(!window.confirm(`Are you sure you want to change this user's role to ${p}?`))return;const g=await hj(h,p);g.success?(e(s.map(y=>y.uid===h?{...y,role:p}:y)),alert("User role updated successfully!")):alert(`Failed to update user role: ${g.error}`)},c=h=>{alert(`Viewing user: ${h.name||h.email}
Email: ${h.email}
Role: ${h.role}`),console.log("View user:",h)};return n?d.jsx("div",{className:"text-center",children:"Loading users..."}):!s||s.length===0?d.jsx("div",{className:"text-center",children:"No users found."}):d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h2",{className:"text-2xl font-bold",children:"User Management"})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Name"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Email"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Role"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Status"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(h=>d.jsxs("tr",{children:[" ",d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900",children:h.name||"N/A"}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:h.email}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500",children:d.jsxs("select",{value:h.role,onChange:p=>l(h.uid,p.target.value),className:"p-1 border rounded-md",disabled:h.uid===r?.uid,children:[d.jsx("option",{value:"user",children:"User"}),d.jsx("option",{value:"service-provider",children:"Service Provider"}),d.jsx("option",{value:"admin",children:"Admin"})]})}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h.covidStatus==="positive"?"bg-red-100 text-red-800":h.covidStatus==="negative"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:h.covidStatus})}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>c(h),className:"text-indigo-600 hover:text-indigo-900",title:"View User",children:d.jsx(dl,{size:18})})})]},h.uid))})]})})]})},xj=({requests:s,loading:e})=>{const[n,r]=P.useState(s),[l,c]=P.useState([]),[h,p]=P.useState(!0);P.useEffect(()=>{r(s)},[s]),P.useEffect(()=>{(async()=>{p(!0);const S=(await V1()).filter(O=>O.role==="service-provider"||O.role==="pending-provider");c(S),p(!1)})()},[]);const g=x=>{alert(`Viewing request ${x.id}:
Service: ${x.serviceType}
User: ${x.userName}
Status: ${x.status}
Provider: ${l.find(E=>E.uid===x.providerId)?.name||x.providerId||"Unassigned"}`),console.log("View request details:",x)},y=async(x,E)=>{const S=l.find(U=>U.uid===E)?.name||E;if(!window.confirm(`Are you sure you want to assign this booking to ${S}?`))return;const O=await mj(x,E);O.success?(r(n.map(U=>U.id===x?{...U,providerId:E,status:"assigned"}:U)),alert("Provider assigned successfully!")):alert(`Failed to assign provider: ${O.error}`)};return e||h?d.jsx("div",{className:"text-center",children:"Loading service requests..."}):!n||n.length===0?d.jsx("div",{className:"text-center",children:"No service requests found."}):d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h2",{className:"text-2xl font-bold",children:"Service Requests"})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12",children:"Request ID"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service Type"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"User"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Provider"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Status"}),d.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(x=>d.jsxs("tr",{children:[d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900",children:x.id}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:x.serviceType}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:x.userName}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500",children:x.providerId&&x.providerId!=="DUMMY_PROVIDER_UID_FOR_TESTING"&&x.providerId!=="unassigned"?l.find(E=>E.uid===x.providerId)?.name||"Assigned":d.jsxs("select",{value:x.providerId==="DUMMY_PROVIDER_UID_FOR_TESTING"?"unassigned":x.providerId||"unassigned",onChange:E=>y(x.id,E.target.value),className:"p-1 border rounded-md",disabled:h||x.status!=="confirmed",children:[d.jsx("option",{value:"unassigned",children:"Assign Provider"}),l.map(E=>d.jsx("option",{value:E.uid,children:E.name||E.email},E.uid))]})}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.status==="confirmed"?"bg-blue-100 text-blue-800":x.status==="assigned"?"bg-yellow-100 text-yellow-800":x.status==="Completed"?"bg-green-100 text-green-800":x.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status})}),d.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>g(x),className:"text-indigo-600 hover:text-indigo-900",title:"View Details",children:d.jsx(dl,{size:18})})})]},x.id))})]})})]})};function Ej(){const[s,e]=P.useState("home"),[n,r]=P.useState(!1),[l,c]=P.useState([]),[h,p]=P.useState([]),[g,y]=P.useState(!0),[x,E]=P.useState(null);P.useEffect(()=>{(async()=>{try{const Q=await V1();c(Q);const M=await uj();p(M)}catch(Q){console.error("Error fetching admin data:",Q),E("Failed to load admin data.")}finally{y(!1)}})()},[]);const S=()=>{r(!n)},O=()=>{switch(s){case"home":return d.jsx(Lb,{setActiveTab:e,usersCount:l.length,requestsCount:h.length,loading:g});case"users":return d.jsx(bj,{users:l,setUsers:c,loading:g});case"requests":return d.jsx(xj,{requests:h,loading:g});case"providers":return d.jsx(_j,{});default:return d.jsx(Lb,{setActiveTab:e,usersCount:l.length,requestsCount:h.length,loading:g})}};return g?d.jsx("div",{className:"text-center p-8",children:"Loading Admin Dashboard..."}):x?d.jsx("div",{className:"text-center p-8 text-red-600",children:x}):d.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[n&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:S}),d.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-md transform ${n?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 md:w-64 transition-transform duration-200 ease-in-out`,children:[d.jsx("div",{className:"p-6",children:d.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Admin"})}),d.jsx("nav",{children:d.jsxs("ul",{children:[d.jsx(uh,{icon:Dl,text:"Dashboard",activeTab:s,setActiveTab:e,tabName:"home",toggleSidebar:S}),d.jsx(uh,{icon:k1,text:"Users",activeTab:s,setActiveTab:e,tabName:"users",toggleSidebar:S}),d.jsx(uh,{icon:vg,text:"Service Requests",activeTab:s,setActiveTab:e,tabName:"requests",toggleSidebar:S}),d.jsx(uh,{icon:D1,text:"Service Providers",activeTab:s,setActiveTab:e,tabName:"providers",toggleSidebar:S})]})})]}),d.jsxs("main",{className:`flex-1 p-6 ${n?"hidden":"block"}`,children:[d.jsxs("header",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),d.jsx("button",{className:"md:hidden p-2",onClick:S,children:d.jsx(j1,{size:24})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(b4,{}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:"Admin User"}),d.jsx("p",{className:"text-sm text-gray-500",children:"admin@safehands.com"})]})]})]}),O()]})]})}const uh=({icon:s,text:e,activeTab:n,setActiveTab:r,tabName:l,toggleSidebar:c})=>{const h=()=>{r(l),window.innerWidth<768&&c()};return d.jsxs("li",{className:`p-4 cursor-pointer flex items-center ${n===l?"bg-indigo-100 text-indigo-600":""}`,onClick:h,children:[s&&d.jsx(s,{className:"mr-3"}),e]})};function Tj({children:s}){const[e,n]=P.useState(!1),[r,l]=P.useState(null),[c,h]=P.useState(!0),p=fc();P.useEffect(()=>{const y=ha.onAuthStateChanged(async x=>{if(console.log("[Layout Debug] Auth state changed. Firebase user:",x),h(!0),x){const E=await M1(x.uid);console.log("[Layout Debug] Fetched user profile:",E),l(E)}else console.log("[Layout Debug] No user logged in."),l(null);h(!1)});return()=>y()},[]);const g=async()=>{await h4(),p("/login")};return c?d.jsx("div",{children:"Loading User..."}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[d.jsxs("nav",{className:"sticky top-0 w-full z-50 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center space-x-3 relative z-20",children:d.jsxs(ss,{to:r&&r.role==="admin"?"/admin":r&&r.role==="service-provider"?"/provider-dashboard":"/",className:"flex items-center space-x-3 focus:outline-none group",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200",children:d.jsx(hc,{className:"w-6 h-6 text-white"})}),d.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent group-hover:text-indigo-800 transition-colors duration-200",children:"SafeHands"})]})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-3 relative z-20",children:[r?d.jsxs(d.Fragment,{children:[d.jsx(ss,{to:"/profile",className:"text-gray-700 hover:text-indigo-600 font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Profile"}),d.jsx("button",{onClick:g,className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Logout"})]}):d.jsx(ss,{to:"/login",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Login/Sign Up"}),d.jsx(ss,{to:"/contact-tracing",className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Contact Tracing"})]}),d.jsx("button",{className:"md:hidden text-gray-700 relative z-20",onClick:()=>n(!e),children:e?d.jsx(cj,{className:"w-6 h-6"}):d.jsx(j1,{className:"w-6 h-6"})})]})}),e&&d.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 py-3 px-4 space-y-2 relative z-10",children:[r?d.jsxs(d.Fragment,{children:[d.jsx(ss,{to:"/profile",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>n(!1),children:"Profile"}),d.jsx("button",{onClick:()=>{g(),n(!1)},className:"block w-full text-left py-2 px-3 rounded-lg text-red-700 hover:bg-red-50",children:"Logout"})]}):d.jsx(ss,{to:"/login",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>n(!1),children:"Login/Sign Up"}),d.jsx(ss,{to:"/contact-tracing",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600",onClick:()=>n(!1),children:"Contact Tracing"})]})]}),d.jsx("main",{className:"p-4 md:p-8",children:s}),d.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4",children:d.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center",children:d.jsx(hc,{className:"w-6 h-6 text-white"})}),d.jsx("span",{className:"text-2xl font-bold",children:"SafeHands"})]}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Your trusted partner for everyday services"}),d.jsxs("div",{className:"flex justify-center space-x-6 text-gray-400",children:[d.jsx("a",{href:"#",className:"hover:text-white transition",children:"Privacy Policy"}),d.jsx("a",{href:"#",className:"hover:text-white transition",children:"Terms of Service"}),d.jsx("a",{href:"#",className:"hover:text-white transition",children:"Contact Us"})]}),d.jsx("p",{className:"text-gray-500 mt-8",children:" 2025 SafeHands. All rights reserved."})]})})]})}function wj(){const[s,e]=P.useState("checkin"),[n,r]=P.useState([]),[l,c]=P.useState([]),[h,p]=P.useState({locationName:"",locationType:"restaurant",address:"",visitDate:"",visitTime:"",duration:"30",peopleCount:"1"}),[g,y]=P.useState({testDate:"",testResult:"positive",symptomsStartDate:"",isolationStatus:"yes"});P.useEffect(()=>{x()},[]);const x=()=>{const M=JSON.parse(localStorage.getItem("checkIns")||"[]"),W=JSON.parse(localStorage.getItem("exposures")||"[]");r(M),c(W)},E=M=>{M.preventDefault();const W={id:Date.now(),...h,createdAt:new Date().toISOString(),user:JSON.parse(localStorage.getItem("user")||"{}").email},ie=[...n,W];localStorage.setItem("checkIns",JSON.stringify(ie)),r(ie),O(W),alert("Location check-in recorded successfully!"),p({locationName:"",locationType:"restaurant",address:"",visitDate:"",visitTime:"",duration:"30",peopleCount:"1"})},S=M=>{M.preventDefault();const W=JSON.parse(localStorage.getItem("user")||"{}"),ie={id:Date.now(),...g,reportedBy:W.email,reportedAt:new Date().toISOString()},K=[...l,ie];localStorage.setItem("exposures",JSON.stringify(K)),c(K),W.quarantineStatus="active",W.quarantineStartDate=g.testDate,W.quarantineEndDate=new Date(new Date(g.testDate).getTime()+336*60*60*1e3).toISOString().split("T")[0],localStorage.setItem("user",JSON.stringify(W)),U(ie),alert("Exposure reported. Contacts will be notified. Please follow quarantine guidelines."),y({testDate:"",testResult:"positive",symptomsStartDate:"",isolationStatus:"yes"})},O=M=>{const W=JSON.parse(localStorage.getItem("exposures")||"[]"),ie=JSON.parse(localStorage.getItem("checkIns")||"[]");W.forEach(K=>{const ve=new Date(K.testDate);new Date(M.visitDate),ie.forEach(_e=>{_e.user!==M.user&&_e.locationName===M.locationName&&Math.abs(new Date(_e.visitDate)-ve)<1440*60*1e3&&console.log("Potential exposure detected at:",M.locationName)})})},U=M=>{const W=JSON.parse(localStorage.getItem("checkIns")||"[]"),ie=new Date(M.testDate),K=W.filter(ve=>{const _e=new Date(ve.visitDate),we=(ie-_e)/(1e3*60*60*24);return we>=0&&we<=14&&ve.user===M.reportedBy});console.log(`Notifying ${K.length} potential contacts`)},Q=()=>{const M=JSON.parse(localStorage.getItem("user")||"{}"),W=n.filter(K=>K.user===M.email);let ie=[];return l.forEach(K=>{const ve=new Date(K.testDate);W.forEach(_e=>{const I=(new Date(_e.visitDate)-ve)/(1e3*60*60*24);I>=-14&&I<=0&&ie.push({location:_e.locationName,date:_e.visitDate,riskLevel:I>=-7?"high":"medium"})})}),ie};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(Gh,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manual Contact Tracing"}),d.jsx("p",{className:"text-gray-600",children:"Track your visits and report exposures"})]})]}),Q().length>0&&d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[d.jsx(pp,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-800 font-semibold",children:"Potential Exposure Detected"}),d.jsx("p",{className:"text-yellow-700 text-sm",children:"You may have visited a location where a positive case was reported. Please monitor symptoms and consider testing."})]})]}),d.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[d.jsx("button",{onClick:()=>e("checkin"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="checkin"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Location Check-In"}),d.jsx("button",{onClick:()=>e("report"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="report"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Report Exposure"}),d.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"My History"})]}),s==="checkin"&&d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Location Name"}),d.jsx("input",{type:"text",value:h.locationName,onChange:M=>p({...h,locationName:M.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., City Mall, Green Park",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Location Type"}),d.jsxs("select",{value:h.locationType,onChange:M=>p({...h,locationType:M.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"restaurant",children:"Restaurant"}),d.jsx("option",{value:"grocery",children:"Grocery Store"}),d.jsx("option",{value:"pharmacy",children:"Pharmacy"}),d.jsx("option",{value:"park",children:"Park"}),d.jsx("option",{value:"mall",children:"Shopping Mall"}),d.jsx("option",{value:"office",children:"Office"}),d.jsx("option",{value:"other",children:"Other"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Address"}),d.jsx("input",{type:"text",value:h.address,onChange:M=>p({...h,address:M.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Visit Date"}),d.jsx("input",{type:"date",value:h.visitDate,onChange:M=>p({...h,visitDate:M.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Visit Time"}),d.jsx("input",{type:"time",value:h.visitTime,onChange:M=>p({...h,visitTime:M.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",value:h.duration,onChange:M=>p({...h,duration:M.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition",children:"Record Check-In"})]}),s==="report"&&d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(C1,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 font-semibold",children:"Report Positive COVID-19 Test"}),d.jsx("p",{className:"text-red-700 text-sm",children:"This will notify people who may have been in contact with you. All information is kept confidential."})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Test Date"}),d.jsx("input",{type:"date",value:g.testDate,onChange:M=>y({...g,testDate:M.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Test Result"}),d.jsxs("select",{value:g.testResult,onChange:M=>y({...g,testResult:M.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[d.jsx("option",{value:"positive",children:"Positive"}),d.jsx("option",{value:"presumed-positive",children:"Presumed Positive"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"When did symptoms start? (Optional)"}),d.jsx("input",{type:"date",value:g.symptomsStartDate,onChange:M=>y({...g,symptomsStartDate:M.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Are you in isolation?"}),d.jsxs("select",{value:g.isolationStatus,onChange:M=>y({...g,isolationStatus:M.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[d.jsx("option",{value:"yes",children:"Yes, I am isolating"}),d.jsx("option",{value:"no",children:"No, not yet"})]})]}),d.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition",children:"Submit Exposure Report"})]}),s==="history"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[d.jsx(gr,{size:20,className:"text-blue-500"}),"Recent Check-Ins"]}),n.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No check-ins recorded yet"}):d.jsx("div",{className:"space-y-3",children:n.slice(-10).reverse().map(M=>d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:M.locationName}),d.jsx("p",{className:"text-sm text-gray-600 capitalize",children:M.locationType})]}),d.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[M.duration," mins"]})]}),d.jsx("p",{className:"text-sm text-gray-600",children:M.address}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[M.visitDate," at ",M.visitTime]})]},M.id))})]}),Q().length>0&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[d.jsx(pp,{size:20,className:"text-yellow-500"}),"Potential Exposures"]}),d.jsx("div",{className:"space-y-3",children:Q().map((M,W)=>d.jsx("div",{className:`p-4 rounded-lg border ${M.riskLevel==="high"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:M.location}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",M.date]})]}),d.jsxs("span",{className:`text-xs px-2 py-1 rounded font-semibold ${M.riskLevel==="high"?"bg-red-200 text-red-800":"bg-yellow-200 text-yellow-800"}`,children:[M.riskLevel.toUpperCase()," RISK"]})]})},W))})]})]})]})})})}const Sj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Ub(){const[s,e]=P.useState([]),[n,r]=P.useState({name:"",quantity:1,unit:"kg"}),[l,c]=P.useState(""),[h,p]=P.useState(""),[g,y]=P.useState(""),x=()=>{n.name&&(e([...s,{...n,id:Date.now()}]),r({name:"",quantity:1,unit:"kg"}))},E=U=>{e(s.filter(Q=>Q.id!==U))},S=(U,Q)=>{e(s.map(M=>M.id===U?{...M,quantity:Math.max(1,M.quantity+Q)}:M))},O=async U=>{if(U.preventDefault(),s.length===0){alert("Please add at least one item");return}const Q=Li();if(!Q){alert("You must be logged in to book a delivery.");return}const W={clientId:Q.uid,userName:Q.name||Q.email,providerId:"DUMMY_PROVIDER_UID_FOR_TESTING",serviceType:"Grocery Delivery",bookingDate:new Date(h),contactToken:Sj(),status:"confirmed",details:{items:s,deliveryAddress:l,notes:g}},ie=await da(W);ie.success?(alert("Grocery delivery booked successfully!"),e([]),c(""),p(""),y("")):alert(`Failed to book delivery: ${ie.error}`)};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(Q4,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grocery Delivery"}),d.jsx("p",{className:"text-gray-600",children:"Add items and delivery details"})]})]}),d.jsxs("form",{onSubmit:O,className:"space-y-6",children:[d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Items"}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("input",{type:"text",placeholder:"Item name",value:n.name,onChange:U=>r({...n,name:U.target.value}),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),d.jsx("input",{type:"number",min:"1",value:n.quantity,onChange:U=>r({...n,quantity:parseInt(U.target.value)}),className:"w-20 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),d.jsxs("select",{value:n.unit,onChange:U=>r({...n,unit:U.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[d.jsx("option",{value:"kg",children:"kg"}),d.jsx("option",{value:"g",children:"g"}),d.jsx("option",{value:"L",children:"L"}),d.jsx("option",{value:"pcs",children:"pcs"})]}),d.jsx("button",{type:"button",onClick:x,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition",children:d.jsx(Vb,{size:20})})]}),s.length>0&&d.jsx("div",{className:"space-y-2",children:s.map(U=>d.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[d.jsx("span",{className:"font-medium",children:U.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>S(U.id,-1),className:"p-1 hover:bg-gray-200 rounded",children:d.jsx(P4,{size:16})}),d.jsxs("span",{className:"font-semibold",children:[U.quantity," ",U.unit]}),d.jsx("button",{type:"button",onClick:()=>S(U.id,1),className:"p-1 hover:bg-gray-200 rounded",children:d.jsx(Vb,{size:16})}),d.jsx("button",{type:"button",onClick:()=>E(U.id),className:"p-1 hover:bg-red-100 rounded text-red-600 ml-2",children:d.jsx(ej,{size:16})})]})]},U.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),d.jsx("textarea",{value:l,onChange:U=>c(U.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:"3",required:!0,placeholder:"Enter your delivery address"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),d.jsx("input",{type:"date",value:h,onChange:U=>p(U.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Additional Notes (Optional)"}),d.jsx("textarea",{value:g,onChange:U=>y(U.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:"3",placeholder:"Special instructions or preferences"})]}),d.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition",children:"Book Grocery Delivery"})]})]})})})}const Aj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Nj(){const[s,e]=P.useState({customerName:"",contactNumber:"",deliveryAddress:"",preferredDate:"",preferredTime:"",cuisinePreference:"any",notes:""}),n=l=>{const{name:c,value:h}=l.target;e({...s,[c]:h})},r=async l=>{l.preventDefault();const c=Li();if(!c){alert("You must be logged in to order food delivery.");return}const h="DUMMY_PROVIDER_UID_FOR_TESTING",p=new Date(`${s.preferredDate}T${s.preferredTime}`),g={clientId:c.uid,userName:c.name||c.email,providerId:h,serviceType:"Food Delivery",bookingDate:p,contactToken:Aj(),status:"confirmed",details:{customerName:s.customerName,contactNumber:s.contactNumber,deliveryAddress:s.deliveryAddress,cuisinePreference:s.cuisinePreference,notes:s.notes}},y=await da(g);y.success?(alert("Food delivery order placed successfully!"),e({customerName:"",contactNumber:"",deliveryAddress:"",preferredDate:"",preferredTime:"",cuisinePreference:"any",notes:""})):alert(`Failed to place order: ${y.error}`)};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(Pb,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Food Delivery Request"}),d.jsx("p",{className:"text-gray-600",children:"Order your favorite food from local restaurants."})]})]}),d.jsxs("form",{onSubmit:r,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"customerName",name:"customerName",value:s.customerName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Enter your full name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),d.jsxs("div",{className:"relative",children:[d.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:s.contactNumber,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"e.g., +1234567890",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("textarea",{id:"deliveryAddress",name:"deliveryAddress",value:s.deliveryAddress,onChange:n,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"Enter full address for food delivery",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:s.preferredDate,onChange:n,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Time"}),d.jsxs("div",{className:"relative",children:[d.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:s.preferredTime,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cuisinePreference",className:"block text-sm font-semibold mb-2",children:"Cuisine Preference"}),d.jsxs("select",{id:"cuisinePreference",name:"cuisinePreference",value:s.cuisinePreference,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[d.jsx("option",{value:"any",children:"Any / No Preference"}),d.jsx("option",{value:"italian",children:"Italian"}),d.jsx("option",{value:"chinese",children:"Chinese"}),d.jsx("option",{value:"indian",children:"Indian"}),d.jsx("option",{value:"mexican",children:"Mexican"}),d.jsx("option",{value:"fast-food",children:"Fast Food"}),d.jsx("option",{value:"other",children:"Other"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions / Dietary Needs (Optional)"}),d.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:n,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",placeholder:"e.g., allergies, delivery instructions, restaurant preference"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition flex items-center justify-center space-x-2",children:[d.jsx(Pb,{size:20}),d.jsx("span",{children:"Order Food"})]})]})]})})})}const Rj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Cj(){const s={senderName:"",senderPhone:"",senderAddress:"",recipientName:"",recipientPhone:"",recipientAddress:"",packageType:"document",packageWeight:"",packageValue:"",deliverySpeed:"standard",pickupDate:"",pickupTime:"",specialHandling:[],description:"",insurance:!1},[e,n]=P.useState(s),r=g=>{const{name:y,value:x,type:E,checked:S}=g.target;n({...e,[y]:E==="checkbox"?S:x})},l=g=>{const y=e.specialHandling.includes(g)?e.specialHandling.filter(x=>x!==g):[...e.specialHandling,g];n({...e,specialHandling:y})},c=()=>{let g=5.99;return e.packageType==="small"&&(g=8.99),e.packageType==="medium"&&(g=12.99),e.packageType==="large"&&(g=19.99),e.deliverySpeed==="express"&&(g*=1.5),e.deliverySpeed==="overnight"&&(g*=2),e.insurance&&(g+=3.99),g.toFixed(2)},h=async g=>{g.preventDefault();const y=Li();if(!y){alert("You must be logged in to book a delivery.");return}const x="DUMMY_PROVIDER_UID_FOR_TESTING",E=new Date(`${e.pickupDate}T${e.pickupTime.split("-")[0]}`),S={clientId:y.uid,userName:y.name||y.email,providerId:x,serviceType:"Parcel Delivery",bookingDate:E,contactToken:Rj(),status:"confirmed",details:{...e,estimatedCost:c()}},O=await da(S);O.success?(alert("Parcel delivery booked successfully!"),n(s)):alert(`Failed to book delivery: ${O.error}`)},p=["Fragile","Keep Upright","Keep Dry","Temperature Sensitive"];return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(hc,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Parcel Delivery"}),d.jsx("p",{className:"text-gray-600",children:"Send parcels with contactless pickup and delivery"})]})]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Gh,{className:"text-purple-500",size:20}),d.jsx("h2",{className:"text-lg font-semibold",children:"Sender Information"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Sender Name"}),d.jsx("input",{type:"text",name:"senderName",value:e.senderName,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Sender Phone"}),d.jsx("input",{type:"tel",name:"senderPhone",value:e.senderPhone,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Address"}),d.jsx("textarea",{name:"senderAddress",value:e.senderAddress,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:"3",required:!0})]})]}),d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Gh,{className:"text-purple-500",size:20}),d.jsx("h2",{className:"text-lg font-semibold",children:"Recipient Information"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Recipient Name"}),d.jsx("input",{type:"text",name:"recipientName",value:e.recipientName,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Recipient Phone"}),d.jsx("input",{type:"tel",name:"recipientPhone",value:e.recipientPhone,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),d.jsx("textarea",{name:"recipientAddress",value:e.recipientAddress,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:"3",required:!0})]})]}),d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Package Details"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Package Type"}),d.jsxs("select",{name:"packageType",value:e.packageType,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[d.jsx("option",{value:"document",children:"Document (Envelope)"}),d.jsx("option",{value:"small",children:"Small Package (up to 5kg)"}),d.jsx("option",{value:"medium",children:"Medium Package (5-15kg)"}),d.jsx("option",{value:"large",children:"Large Package (15-30kg)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Weight (kg)"}),d.jsx("input",{type:"number",name:"packageWeight",value:e.packageWeight,onChange:r,step:"0.1",min:"0.1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Declared Value ($)"}),d.jsx("input",{type:"number",name:"packageValue",value:e.packageValue,onChange:r,step:"0.01",min:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Speed"}),d.jsxs("select",{name:"deliverySpeed",value:e.deliverySpeed,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[d.jsx("option",{value:"standard",children:"Standard (3-5 days)"}),d.jsx("option",{value:"express",children:"Express (1-2 days)"}),d.jsx("option",{value:"overnight",children:"Overnight (Next day)"})]})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Package Description"}),d.jsx("textarea",{name:"description",value:e.description,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2",placeholder:"Brief description of contents",required:!0})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Special Handling"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:p.map(g=>d.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"checkbox",checked:e.specialHandling.includes(g),onChange:()=>l(g),className:"w-4 h-4 text-purple-500"}),d.jsx("span",{className:"text-sm",children:g})]},g))})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",name:"insurance",checked:e.insurance,onChange:r,className:"w-4 h-4 text-purple-500"}),d.jsx("span",{className:"text-sm font-semibold",children:"Add Insurance Coverage (+$3.99)"})]})})]}),d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pickup Schedule"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Date"}),d.jsx("input",{type:"date",name:"pickupDate",value:e.pickupDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Time"}),d.jsxs("select",{name:"pickupTime",value:e.pickupTime,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[d.jsx("option",{value:"",children:"Select time slot"}),d.jsx("option",{value:"09:00-12:00",children:"9:00 AM - 12:00 PM"}),d.jsx("option",{value:"12:00-15:00",children:"12:00 PM - 3:00 PM"}),d.jsx("option",{value:"15:00-18:00",children:"3:00 PM - 6:00 PM"})]})]})]})]}),d.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"font-semibold",children:"Estimated Cost:"}),d.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["$",c()]})]}),d.jsx("p",{className:"text-sm text-gray-600",children:"Final cost may vary based on actual weight and dimensions"})]}),d.jsx("button",{type:"submit",className:"w-full bg-purple-500 text-white py-3 rounded-lg font-semibold hover:bg-purple-600 transition",children:"Book Parcel Delivery"})]})]})})})}function Ij(){const[s,e]=P.useState("grocery"),n=()=>{switch(s){case"grocery":return d.jsx(Ub,{});case"food":return d.jsx(Nj,{});case"parcel":return d.jsx(Cj,{});default:return d.jsx(Ub,{})}};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("div",{className:"flex items-center gap-3 mb-6",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Services"}),d.jsx("p",{className:"text-gray-600",children:"Your one-stop shop for all delivery needs."})]})}),d.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[d.jsx("button",{onClick:()=>e("grocery"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="grocery"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Grocery Delivery"}),d.jsx("button",{onClick:()=>e("food"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="food"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Food Delivery"}),d.jsx("button",{onClick:()=>e("parcel"),className:`px-4 py-2 font-semibold border-b-2 transition ${s==="parcel"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Parcel Delivery"})]}),n()]})})})}const Dj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function jj(){const s={patientName:"",medicationName:"",quantity:1,deliveryAddress:"",deliveryDate:"",notes:""},[e,n]=P.useState(s),r=c=>{const{name:h,value:p}=c.target;n({...e,[h]:p})},l=async c=>{c.preventDefault();const h=Li();if(!h){alert("You must be logged in to request a delivery.");return}const g={clientId:h.uid,userName:h.name||h.email,providerId:"DUMMY_PROVIDER_UID_FOR_TESTING",serviceType:"Medication Delivery",bookingDate:new Date(e.deliveryDate),contactToken:Dj(),status:"confirmed",details:{...e}},y=await da(g);y.success?(alert("Medication delivery request submitted successfully!"),n(s)):alert(`Failed to submit request: ${y.error}`)};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(Mb,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Medication Delivery Request"}),d.jsx("p",{className:"text-gray-600",children:"Request your essential medications delivered to your doorstep."})]})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold mb-2",children:"Patient Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"patientName",name:"patientName",value:e.patientName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter patient's full name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"medicationName",className:"block text-sm font-semibold mb-2",children:"Medication Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Mb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"medicationName",name:"medicationName",value:e.medicationName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Paracetamol, Insulin",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"quantity",className:"block text-sm font-semibold mb-2",children:"Quantity"}),d.jsx("input",{type:"number",id:"quantity",name:"quantity",value:e.quantity,onChange:r,min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("textarea",{id:"deliveryAddress",name:"deliveryAddress",value:e.deliveryAddress,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter full delivery address",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"deliveryDate",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:e.deliveryDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),d.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., leave at doorstep, contact upon arrival"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition flex items-center justify-center space-x-2",children:[d.jsx(bg,{size:20}),d.jsx("span",{children:"Request Delivery"})]})]})]})})})}const Oj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function kj(){const s={patientName:"",contactNumber:"",preferredDate:"",preferredTime:"",testingAddress:"",notes:""},[e,n]=P.useState(s),r=c=>{const{name:h,value:p}=c.target;n({...e,[h]:p})},l=async c=>{c.preventDefault();const h=Li();if(!h){alert("You must be logged in to request a test.");return}const p="DUMMY_PROVIDER_UID_FOR_TESTING",g=new Date(`${e.preferredDate}T${e.preferredTime}`),y={clientId:h.uid,userName:h.name||h.email,providerId:p,serviceType:"Covid 19 Testing",bookingDate:g,contactToken:Oj(),status:"confirmed",details:{...e}},x=await da(y);x.success?(alert("COVID-19 test request submitted successfully!"),n(s)):alert(`Failed to submit request: ${x.error}`)};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-yellow-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(Yh,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"COVID-19 Testing Request"}),d.jsx("p",{className:"text-gray-600",children:"Schedule a mobile COVID-19 test at your convenience."})]})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold mb-2",children:"Patient Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"patientName",name:"patientName",value:e.patientName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"Enter patient's full name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),d.jsxs("div",{className:"relative",children:[d.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"e.g., +1234567890",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Test Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:e.preferredDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Test Time"}),d.jsxs("div",{className:"relative",children:[d.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:e.preferredTime,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",required:!0})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"testingAddress",className:"block text-sm font-semibold mb-2",children:"Testing Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("textarea",{id:"testingAddress",name:"testingAddress",value:e.testingAddress,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"Enter full address for mobile testing",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions / Symptoms (Optional)"}),d.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500",placeholder:"e.g., specific symptoms, preferred testing location details"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-3 rounded-lg font-semibold hover:bg-yellow-600 transition flex items-center justify-center space-x-2",children:[d.jsx(Yh,{size:20}),d.jsx("span",{children:"Request COVID-19 Test"})]})]})]})})})}const Mj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Vj(){const[s,e]=P.useState({customerName:"",contactNumber:"",address:"",preferredDate:"",preferredTime:"",cleaningType:"basic",numberOfRooms:1,notes:""}),n=l=>{const{name:c,value:h}=l.target;e({...s,[c]:h})},r=async l=>{l.preventDefault();const c=Li();if(!c||!c.uid){alert("You must be logged in to request a service.");return}const h="DUMMY_PROVIDER_UID_FOR_TESTING",p=new Date(`${s.preferredDate}T${s.preferredTime}`),g={clientId:c.uid,userName:c.name||c.email,providerId:h,serviceType:"Home Cleaning",bookingDate:p,contactToken:Mj(),status:"confirmed",details:{customerName:s.customerName,contactNumber:s.contactNumber,address:s.address,cleaningType:s.cleaningType,numberOfRooms:s.numberOfRooms,notes:s.notes}},y=await da(g);y.success?(alert("Home Cleaning request submitted successfully! A service provider will be assigned shortly."),e({customerName:"",contactNumber:"",address:"",preferredDate:"",preferredTime:"",cleaningType:"basic",numberOfRooms:1,notes:""})):alert(`There was an error submitting your request: ${y.error}`)};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(Qh,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Home Cleaning Request"}),d.jsx("p",{className:"text-gray-600",children:"Book professional home cleaning services."})]})]}),d.jsxs("form",{onSubmit:r,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"customerName",name:"customerName",value:s.customerName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Enter your full name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),d.jsxs("div",{className:"relative",children:[d.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:s.contactNumber,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"e.g., +1234567890",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"address",className:"block text-sm font-semibold mb-2",children:"Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("textarea",{id:"address",name:"address",value:s.address,onChange:n,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Enter full address for cleaning service",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:s.preferredDate,onChange:n,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Time"}),d.jsxs("div",{className:"relative",children:[d.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:s.preferredTime,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cleaningType",className:"block text-sm font-semibold mb-2",children:"Type of Cleaning"}),d.jsxs("select",{id:"cleaningType",name:"cleaningType",value:s.cleaningType,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[d.jsx("option",{value:"basic",children:"Basic Cleaning"}),d.jsx("option",{value:"deep",children:"Deep Cleaning"}),d.jsx("option",{value:"move-in-out",children:"Move-in/Move-out Cleaning"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"numberOfRooms",className:"block text-sm font-semibold mb-2",children:"Number of Rooms"}),d.jsx("input",{type:"number",id:"numberOfRooms",name:"numberOfRooms",value:s.numberOfRooms,onChange:n,min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),d.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:n,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"e.g., focus on kitchen, specific areas to avoid"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition flex items-center justify-center space-x-2",children:[d.jsx(Qh,{size:20}),d.jsx("span",{children:"Request Home Cleaning"})]})]})]})})})}const Pj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Lj(){const s={customerName:"",contactNumber:"",pickupAddress:"",preferredPickupDate:"",preferredPickupTime:"",serviceType:"wash-fold",notes:""},[e,n]=P.useState(s),r=c=>{const{name:h,value:p}=c.target;n({...e,[h]:p})},l=async c=>{c.preventDefault();const h=Li();if(!h){alert("You must be logged in to request a service.");return}const p="DUMMY_PROVIDER_UID_FOR_TESTING",g=new Date(`${e.preferredPickupDate}T${e.preferredPickupTime}`),y={clientId:h.uid,userName:h.name||h.email,providerId:p,serviceType:"Laundry Service",bookingDate:g,contactToken:Pj(),status:"confirmed",details:{...e}},x=await da(y);x.success?(alert("Laundry Service request submitted successfully!"),n(s)):alert(`Failed to submit request: ${x.error}`)};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(lj,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Laundry Service Request"}),d.jsx("p",{className:"text-gray-600",children:"Schedule your laundry pickup and delivery."})]})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"customerName",name:"customerName",value:e.customerName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter your full name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),d.jsxs("div",{className:"relative",children:[d.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"e.g., +1234567890",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"pickupAddress",className:"block text-sm font-semibold mb-2",children:"Pickup Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("textarea",{id:"pickupAddress",name:"pickupAddress",value:e.pickupAddress,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter full address for laundry pickup",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredPickupDate",className:"block text-sm font-semibold mb-2",children:"Preferred Pickup Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"date",id:"preferredPickupDate",name:"preferredPickupDate",value:e.preferredPickupDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredPickupTime",className:"block text-sm font-semibold mb-2",children:"Preferred Pickup Time"}),d.jsxs("div",{className:"relative",children:[d.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"time",id:"preferredPickupTime",name:"preferredPickupTime",value:e.preferredPickupTime,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-semibold mb-2",children:"Service Type"}),d.jsxs("select",{id:"serviceType",name:"serviceType",value:e.serviceType,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",children:[d.jsx("option",{value:"wash-fold",children:"Wash & Fold"}),d.jsx("option",{value:"dry-cleaning",children:"Dry Cleaning"}),d.jsx("option",{value:"ironing",children:"Ironing Only"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),d.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"e.g., delicate items, specific detergent, delivery instructions"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-purple-500 text-white py-3 rounded-lg font-semibold hover:bg-purple-600 transition flex items-center justify-center space-x-2",children:[d.jsx(_g,{size:20}),d.jsx("span",{children:"Request Laundry Service"})]})]})]})})})}const Um=[{id:"Delivery Services",name:"Delivery Services",icon:hc},{id:"Medication Delivery",name:"Medication Delivery",icon:bg},{id:"Covid 19 Testing",name:"Covid 19 Testing",icon:Yh},{id:"Home Cleaning",name:"Home Cleaning",icon:Qh},{id:"Laundry Service",name:"Laundry Service",icon:_g},{id:"Pet Care Services",name:"Pet Care Services",icon:ec}],Uj=()=>{const[s,e]=P.useState([]),[n,r]=P.useState(!0),[l,c]=P.useState(Um[0].id),h=Li();P.useEffect(()=>{if(h&&h.uid){r(!0);const x=dj(h.uid,E=>{e(E),E.length>0&&!l&&c(Um[0].id),r(!1)});return()=>x()}else r(!1)},[h,l]);const p=async(x,E)=>{const S=await fj(x,E);S.success?alert(`Booking status updated to ${E}`):alert(`Error updating status: ${S.error}`)},g=()=>{window.confirm("Are you sure you want to report a positive test result? This will notify recent clients and is irreversible.")&&alert("You have reported a positive test. Thank you for helping keep the community safe. Recent clients will be notified.")},y=P.useMemo(()=>s.filter(x=>x.serviceType===l),[s,l]);return n?d.jsx("div",{className:"p-8 text-center",children:"Loading your dashboard..."}):d.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[d.jsxs("aside",{className:"w-64 bg-white shadow-md flex-shrink-0",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Service Categories"})}),d.jsx("nav",{className:"p-4",children:d.jsx("ul",{children:Um.map(x=>{const E=x.icon;return d.jsx("li",{children:d.jsxs("button",{onClick:()=>c(x.id),className:`w-full flex items-center px-4 py-3 my-1 rounded-lg transition-all duration-200 ${l===x.id?"bg-indigo-100 text-indigo-600 font-bold":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[d.jsx(E,{className:"mr-3",size:20}),d.jsx("span",{children:x.name})]})},x.id)})})})]}),d.jsxs("main",{className:"flex-1 p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Provider Dashboard"}),d.jsxs("button",{onClick:g,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center space-x-2",children:[d.jsx(pp,{size:20}),d.jsx("span",{children:"Report Positive Test"})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[d.jsx(vg,{className:"mr-3"})," Bookings for ",l]}),y.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500",children:"No assigned bookings for this service category."})}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client Name"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Date"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Update Status"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(x=>d.jsxs("tr",{children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 flex items-center",children:[d.jsx(Pi,{size:16,className:"mr-2 text-gray-500"}),x.userName]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.bookingDate?new Date(x.bookingDate.seconds*1e3).toLocaleString():"N/A"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.status==="accepted"?"bg-blue-100 text-blue-800":x.status==="in-progress"?"bg-yellow-100 text-yellow-800":x.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsxs("select",{onChange:E=>p(x.id,E.target.value),value:x.status,className:"p-1 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[d.jsx("option",{value:"confirmed",children:"Confirmed"}),d.jsx("option",{value:"accepted",children:"Accepted"}),d.jsx("option",{value:"in-progress",children:"In Progress"}),d.jsx("option",{value:"completed",children:"Completed"})]})})]},x.id))})]})})]})]})]})};function zj(){const[s,e]=P.useState({ownerName:"",contactNumber:"",petName:"",petType:"dog",serviceType:"dog-walking",preferredDate:"",preferredTime:"",notes:""}),n=l=>{const{name:c,value:h}=l.target;e({...s,[c]:h})},r=l=>{l.preventDefault(),alert(`Pet Care Service request submitted!
`+JSON.stringify(s,null,2)),console.log("Pet Care Service Request:",s),e({ownerName:"",contactNumber:"",petName:"",petType:"dog",serviceType:"dog-walking",preferredDate:"",preferredTime:"",notes:""})};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-lg flex items-center justify-center",children:d.jsx(ec,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pet Care Service Request"}),d.jsx("p",{className:"text-gray-600",children:"Request reliable and caring services for your beloved pets."})]})]}),d.jsxs("form",{onSubmit:r,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-semibold mb-2",children:"Pet Owner Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:s.ownerName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Enter pet owner's full name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),d.jsxs("div",{className:"relative",children:[d.jsx(jl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:s.contactNumber,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"e.g., +1234567890",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"petName",className:"block text-sm font-semibold mb-2",children:"Pet Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",id:"petName",name:"petName",value:s.petName,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Enter pet's name",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"petType",className:"block text-sm font-semibold mb-2",children:"Pet Type"}),d.jsxs("select",{id:"petType",name:"petType",value:s.petType,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[d.jsx("option",{value:"dog",children:"Dog"}),d.jsx("option",{value:"cat",children:"Cat"}),d.jsx("option",{value:"other",children:"Other"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-semibold mb-2",children:"Service Type"}),d.jsxs("select",{id:"serviceType",name:"serviceType",value:s.serviceType,onChange:n,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[d.jsx("option",{value:"dog-walking",children:"Dog Walking"}),d.jsx("option",{value:"pet-sitting",children:"Pet Sitting"}),d.jsx("option",{value:"grooming",children:"Grooming"}),d.jsx("option",{value:"vet-visit",children:"Vet Visit Assistance"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:s.preferredDate,onChange:n,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Time"}),d.jsxs("div",{className:"relative",children:[d.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:s.preferredTime,onChange:n,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",required:!0})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),d.jsx("textarea",{id:"notes",name:"notes",value:s.notes,onChange:n,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"e.g., pet's habits, specific feeding instructions, leash location"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition flex items-center justify-center space-x-2",children:[d.jsx(ec,{size:20}),d.jsx("span",{children:"Request Pet Care"})]})]})]})})})}function qj(){return d.jsx(Uw,{basename:"/SWE_FInalProject/",children:d.jsx(Tj,{children:d.jsxs(gw,{children:[d.jsx(Jt,{path:"/login",element:d.jsx(gj,{})}),d.jsx(Jt,{path:"/",element:d.jsx(pj,{})}),d.jsx(Jt,{path:"/contact-tracing",element:d.jsx(wj,{})}),d.jsx(Jt,{path:"/delivery-services",element:d.jsx(Ij,{})}),d.jsx(Jt,{path:"/medication",element:d.jsx(jj,{})}),d.jsx(Jt,{path:"/covid",element:d.jsx(kj,{})}),d.jsx(Jt,{path:"/home-cleaning",element:d.jsx(Vj,{})}),d.jsx(Jt,{path:"/laundry",element:d.jsx(Lj,{})}),d.jsx(Jt,{path:"/pet-care",element:d.jsx(zj,{})}),d.jsx(Jt,{element:d.jsx(Vm,{}),children:d.jsx(Jt,{path:"/profile",element:d.jsx(yj,{})})}),d.jsx(Jt,{element:d.jsx(Vm,{roles:["service-provider"]}),children:d.jsx(Jt,{path:"/provider-dashboard",element:d.jsx(Uj,{})})}),d.jsx(Jt,{element:d.jsx(Vm,{roles:["admin"]}),children:d.jsx(Jt,{path:"/admin",element:d.jsx(Ej,{})})})]})})})}E2.createRoot(document.getElementById("root")).render(d.jsx(P.StrictMode,{children:d.jsx(qj,{})}));

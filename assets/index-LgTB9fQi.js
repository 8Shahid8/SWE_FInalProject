(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var xm={exports:{}},Fo={};var Jv;function xw(){if(Jv)return Fo;Jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:r,key:h,ref:l!==void 0?l:null,props:c}}return Fo.Fragment=e,Fo.jsx=n,Fo.jsxs=n,Fo}var Wv;function Ew(){return Wv||(Wv=1,xm.exports=xw()),xm.exports}var u=Ew(),Em={exports:{}},Te={};var Zv;function Tw(){if(Zv)return Te;Zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,R={};function Y(V,te,ae){this.props=V,this.context=te,this.refs=R,this.updater=ae||q}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=Y.prototype;function $(V,te,ae){this.props=V,this.context=te,this.refs=R,this.updater=ae||q}var ge=$.prototype=new Z;ge.constructor=$,H(ge,Y.prototype),ge.isPureReactComponent=!0;var de=Array.isArray;function Ee(){}var C={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function A(V,te,ae){var ce=ae.ref;return{$$typeof:i,type:V,key:te,ref:ce!==void 0?ce:null,props:ae}}function k(V,te){return A(V.type,te,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function L(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return te[ae]})}var I=/\/+/g;function Ue(V,te){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):te.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ee,Ee):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,te,ae,ce,be){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Ae){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case i:case e:Le=!0;break;case x:return Le=V._init,J(Le(V._payload),te,ae,ce,be)}}if(Le)return be=be(V),Le=ce===""?"."+Ue(V,0):ce,de(be)?(ae="",Le!=null&&(ae=Le.replace(I,"$&/")+"/"),J(be,te,ae,"",function(wr){return wr})):be!=null&&(O(be)&&(be=k(be,ae+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(I,"$&/")+"/")+Le)),te.push(be)),1;Le=0;var jt=ce===""?".":ce+":";if(de(V))for(var at=0;at<V.length;at++)ce=V[at],Ae=jt+Ue(ce,at),Le+=J(ce,te,ae,Ae,be);else if(at=j(V),typeof at=="function")for(V=at.call(V),at=0;!(ce=V.next()).done;)ce=ce.value,Ae=jt+Ue(ce,at++),Le+=J(ce,te,ae,Ae,be);else if(Ae==="object"){if(typeof V.then=="function")return J(Dt(V),te,ae,ce,be);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Le}function re(V,te,ae){if(V==null)return V;var ce=[],be=0;return J(V,ce,"","",function(Ae){return te.call(ae,Ae,be++)}),ce}function pe(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var qe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:re,forEach:function(V,te,ae){re(V,function(){te.apply(this,arguments)},ae)},count:function(V){var te=0;return re(V,function(){te++}),te},toArray:function(V){return re(V,function(te){return te})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Te.Activity=E,Te.Children=Qe,Te.Component=Y,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=$,Te.StrictMode=r,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Te.cache=function(V){return function(){return V.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(V,te,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=H({},V.props),be=V.key;if(te!=null)for(Ae in te.key!==void 0&&(be=""+te.key),te)!N.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ce[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ce.children=ae;else if(1<Ae){for(var Le=Array(Ae),jt=0;jt<Ae;jt++)Le[jt]=arguments[jt+2];ce.children=Le}return A(V.type,be,ce)},Te.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Te.createElement=function(V,te,ae){var ce,be={},Ae=null;if(te!=null)for(ce in te.key!==void 0&&(Ae=""+te.key),te)N.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=te[ce]);var Le=arguments.length-2;if(Le===1)be.children=ae;else if(1<Le){for(var jt=Array(Le),at=0;at<Le;at++)jt[at]=arguments[at+2];be.children=jt}if(V&&V.defaultProps)for(ce in Le=V.defaultProps,Le)be[ce]===void 0&&(be[ce]=Le[ce]);return A(V,Ae,be)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:p,render:V}},Te.isValidElement=O,Te.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:pe}},Te.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Te.startTransition=function(V){var te=C.T,ae={};C.T=ae;try{var ce=V(),be=C.S;be!==null&&be(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ee,qe)}catch(Ae){qe(Ae)}finally{te!==null&&ae.types!==null&&(te.types=ae.types),C.T=te}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function(V){return C.H.use(V)},Te.useActionState=function(V,te,ae){return C.H.useActionState(V,te,ae)},Te.useCallback=function(V,te){return C.H.useCallback(V,te)},Te.useContext=function(V){return C.H.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V,te){return C.H.useDeferredValue(V,te)},Te.useEffect=function(V,te){return C.H.useEffect(V,te)},Te.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function(V,te,ae){return C.H.useImperativeHandle(V,te,ae)},Te.useInsertionEffect=function(V,te){return C.H.useInsertionEffect(V,te)},Te.useLayoutEffect=function(V,te){return C.H.useLayoutEffect(V,te)},Te.useMemo=function(V,te){return C.H.useMemo(V,te)},Te.useOptimistic=function(V,te){return C.H.useOptimistic(V,te)},Te.useReducer=function(V,te,ae){return C.H.useReducer(V,te,ae)},Te.useRef=function(V){return C.H.useRef(V)},Te.useState=function(V){return C.H.useState(V)},Te.useSyncExternalStore=function(V,te,ae){return C.H.useSyncExternalStore(V,te,ae)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.0",Te}var e_;function Ep(){return e_||(e_=1,Em.exports=Tw()),Em.exports}var P=Ep(),Tm={exports:{}},Ho={},wm={exports:{}},Sm={};var t_;function ww(){return t_||(t_=1,(function(i){function e(J,re){var pe=J.length;J.push(re);e:for(;0<pe;){var qe=pe-1>>>1,Qe=J[qe];if(0<l(Qe,re))J[qe]=re,J[pe]=Qe,pe=qe;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var re=J[0],pe=J.pop();if(pe!==re){J[0]=pe;e:for(var qe=0,Qe=J.length,V=Qe>>>1;qe<V;){var te=2*(qe+1)-1,ae=J[te],ce=te+1,be=J[ce];if(0>l(ae,pe))ce<Qe&&0>l(be,ae)?(J[qe]=be,J[ce]=pe,qe=ce):(J[qe]=ae,J[te]=pe,qe=te);else if(ce<Qe&&0>l(be,pe))J[qe]=be,J[ce]=pe,qe=ce;else break e}}return re}function l(J,re){var pe=J.sortIndex-re.sortIndex;return pe!==0?pe:J.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var y=[],g=[],x=1,E=null,S=3,j=!1,q=!1,H=!1,R=!1,Y=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ge(J){for(var re=n(g);re!==null;){if(re.callback===null)r(g);else if(re.startTime<=J)r(g),re.sortIndex=re.expirationTime,e(y,re);else break;re=n(g)}}function de(J){if(H=!1,ge(J),!q)if(n(y)!==null)q=!0,Ee||(Ee=!0,L());else{var re=n(g);re!==null&&Dt(de,re.startTime-J)}}var Ee=!1,C=-1,N=5,A=-1;function k(){return R?!0:!(i.unstable_now()-A<N)}function O(){if(R=!1,Ee){var J=i.unstable_now();A=J;var re=!0;try{e:{q=!1,H&&(H=!1,Z(C),C=-1),j=!0;var pe=S;try{t:{for(ge(J),E=n(y);E!==null&&!(E.expirationTime>J&&k());){var qe=E.callback;if(typeof qe=="function"){E.callback=null,S=E.priorityLevel;var Qe=qe(E.expirationTime<=J);if(J=i.unstable_now(),typeof Qe=="function"){E.callback=Qe,ge(J),re=!0;break t}E===n(y)&&r(y),ge(J)}else r(y);E=n(y)}if(E!==null)re=!0;else{var V=n(g);V!==null&&Dt(de,V.startTime-J),re=!1}}break e}finally{E=null,S=pe,j=!1}re=void 0}}finally{re?L():Ee=!1}}}var L;if(typeof $=="function")L=function(){$(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ue=I.port2;I.port1.onmessage=O,L=function(){Ue.postMessage(null)}}else L=function(){Y(O,0)};function Dt(J,re){C=Y(function(){J(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(J){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var pe=S;S=re;try{return J()}finally{S=pe}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var pe=S;S=J;try{return re()}finally{S=pe}},i.unstable_scheduleCallback=function(J,re,pe){var qe=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?qe+pe:qe):pe=qe,J){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=pe+Qe,J={id:x++,callback:re,priorityLevel:J,startTime:pe,expirationTime:Qe,sortIndex:-1},pe>qe?(J.sortIndex=pe,e(g,J),n(y)===null&&J===n(g)&&(H?(Z(C),C=-1):H=!0,Dt(de,pe-qe))):(J.sortIndex=Qe,e(y,J),q||j||(q=!0,Ee||(Ee=!0,L()))),J},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(J){var re=S;return function(){var pe=S;S=re;try{return J.apply(this,arguments)}finally{S=pe}}}})(Sm)),Sm}var n_;function Sw(){return n_||(n_=1,wm.exports=ww()),wm.exports}var Nm={exports:{}},Jt={};var s_;function Nw(){if(s_)return Jt;s_=1;var i=Ep();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,g,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:g,implementation:x}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(y,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,x)},Jt.flushSync=function(y){var g=h.T,x=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=g,r.p=x,r.d.f()}},Jt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},Jt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Jt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var x=g.as,E=p(x,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:j}):x==="script"&&r.d.X(y,{crossOrigin:E,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},Jt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,E=p(x,g.crossOrigin);r.d.L(y,x,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(y,g){if(typeof y=="string")if(g){var x=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},Jt.requestFormReset=function(y){r.d.r(y)},Jt.unstable_batchedUpdates=function(y,g){return y(g)},Jt.useFormState=function(y,g,x){return h.H.useFormState(y,g,x)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var i_;function Aw(){if(i_)return Nm.exports;i_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=Nw(),Nm.exports}var r_;function Cw(){if(r_)return Ho;r_=1;var i=Sw(),e=Ep(),n=Aw();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function g(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return y(f),t;if(m===o)return y(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=m;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,o=m;break}if(T===o){_=!0,o=f,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,o=f;break}if(T===o){_=!0,o=m,a=f;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case Y:return"Profiler";case R:return"StrictMode";case de:return"Suspense";case Ee:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case $:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case ge:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:Ue(t.type)||"Memo";case N:s=t._payload,t=t._init;try{return Ue(t(s))}catch{}}return null}var Dt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},qe=[],Qe=-1;function V(t){return{current:t}}function te(t){0>Qe||(t.current=qe[Qe],qe[Qe]=null,Qe--)}function ae(t,s){Qe++,qe[Qe]=t.current,t.current=s}var ce=V(null),be=V(null),Ae=V(null),Le=V(null);function jt(t,s){switch(ae(Ae,s),ae(be,t),ae(ce,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?bv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=bv(s),t=xv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ce),ae(ce,t)}function at(){te(ce),te(be),te(Ae)}function wr(t){t.memoizedState!==null&&ae(Le,t);var s=ce.current,a=xv(s,t.type);s!==a&&(ae(be,t),ae(ce,a))}function ya(t){be.current===t&&(te(ce),te(be)),Le.current===t&&(te(Le),Lo._currentValue=pe)}var va,_a;function ds(t){if(va===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);va=s&&s[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+t+_a}var Ul=!1;function Sr(t,s){if(!t||Ul)return"";Ul=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){G=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var D=_.split(`
`),F=T.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===F.length)for(o=D.length-1,f=F.length-1;1<=o&&0<=f&&D[o]!==F[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==F[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==F[f]){var X=`
`+D[o].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=o&&0<=f);break}}}finally{Ul=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ds(a):""}function Ll(t,s){switch(t.tag){case 26:case 27:case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return t.child!==s&&s!==null?ds("Suspense Fallback"):ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return Sr(t.type,!1);case 11:return Sr(t.type.render,!1);case 1:return Sr(t.type,!0);case 31:return ds("Activity");default:return""}}function zl(t){try{var s="",a=null;do s+=Ll(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,xi=i.unstable_cancelCallback,Eh=i.unstable_shouldYield,kc=i.unstable_requestPaint,rn=i.unstable_now,Nr=i.unstable_getCurrentPriorityLevel,ql=i.unstable_ImmediatePriority,Bl=i.unstable_UserBlockingPriority,Ei=i.unstable_NormalPriority,Th=i.unstable_LowPriority,Oc=i.unstable_IdlePriority,Mc=i.log,Vc=i.unstable_setDisableYieldValue,Gn=null,Bt=null;function An(t){if(typeof Mc=="function"&&Vc(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,t)}catch{}}var ft=Math.clz32?Math.clz32:Uc,Pc=Math.log,ba=Math.LN2;function Uc(t){return t>>>=0,t===0?32:31-(Pc(t)/ba|0)|0}var hs=256,Ar=262144,bt=4194304;function fs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ms(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?f=fs(o):(_&=T,_!==0?f=fs(_):a||(a=T&~t,a!==0&&(f=fs(a))))):(T=o&~m,T!==0?f=fs(T):_!==0?f=fs(_):a||(a=o&~t,a!==0&&(f=fs(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Yn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function wh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ps(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Cr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sh(t,s,a,o,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-ft(a),ee=1<<X;T[X]=0,D[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~ee}o!==0&&Rr(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~s))}function Rr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-ft(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Fl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-ft(a),f=1<<o;f&s|t[o]&s&&(t[o]|=s),a&=~f}}function Hl(t,s){var a=s&-s;return a=(a&42)!==0?1:Ir(a),(a&(t.suspendedLanes|s))!==0?0:a}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Hv(t.type))}function Qn(t,s){var a=re.p;try{return re.p=t,s()}finally{re.p=a}}var Kn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Kn,Ut="__reactProps$"+Kn,gs="__reactContainer$"+Kn,xa="__reactEvents$"+Kn,Nh="__reactListeners$"+Kn,qc="__reactHandles$"+Kn,Bc="__reactResources$"+Kn,ys="__reactMarker$"+Kn;function Ea(t){delete t[xt],delete t[Ut],delete t[xa],delete t[Nh],delete t[qc]}function vs(t){var s=t[xt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[gs]||a[xt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Cv(t);t!==null;){if(a=t[xt])return a;t=Cv(t)}return s}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[xt]||t[gs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function yn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function _s(t){var s=t[Bc];return s||(s=t[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(t){t[ys]=!0}var Gl=new Set,Yl={};function bs(t,s){xs(t,s),xs(t+"Capture",s)}function xs(t,s){for(Yl[t]=s,t=0;t<s.length;t++)Gl.add(s[t])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},$l={};function Fc(t){return _t.call($l,t)?!0:_t.call(Kl,t)?!1:Ql.test(t)?$l[t]=!0:(Kl[t]=!0,!1)}function Ta(t,s,a){if(Fc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Tt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ti(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xl(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ke(t){if(!t._valueTracker){var s=Ti(t)?"checked":"value";t._valueTracker=Xl(t,s,""+t[s])}}function Dr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Ti(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function on(t){return t.replace(jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wa(t,s,a,o,f,m,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Lt(s)):t.value!==""+Lt(s)&&(t.value=""+Lt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Jl(t,_,Lt(s)):a!=null?Jl(t,_,Lt(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Hc(t,s,a,o,f,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",s=s!=null?""+Lt(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Jl(t,s,a){s==="number"&&Es(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,s,a,o){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Gc(t,s,a){if(s!=null&&(s=""+Lt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Lt(a):""}function Si(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(Dt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Lt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function cn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Yc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Zl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in s)o=s[f],s.hasOwnProperty(f)&&a[f]!==o&&Wl(t,f,o)}else for(var m in s)s.hasOwnProperty(m)&&Wl(t,m,s[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ni=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Ni.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var eo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Ts=null;function kr(t){var s=Cn(t);if(s&&(t=s.stateNode)){var a=t[Ut]||null;e:switch(t=s.stateNode,s.type){case"input":if(wa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var f=o[Ut]||null;if(!f)throw Error(r(90));wa(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Dr(o)}break e;case"textarea":Gc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&wi(t,!!a.multiple,s,!1)}}}var Aa=!1;function Ci(t,s,a){if(Aa)return t(s,a);Aa=!0;try{var o=t(s);return o}finally{if(Aa=!1,(Ai!==null||Ts!==null)&&(zu(),Ai&&(s=Ai,t=Ts,Ts=Ai=null,kr(s),t)))for(s=0;s<t.length;s++)kr(t[s])}}function Xn(t,s){var a=t.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Or=!1}var ws=null,to=null,Mr=null;function no(){if(Mr)return Mr;var t,s=to,a=s.length,o,f="value"in ws?ws.value:ws.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&s[a-o]===f[m-o];o++);return Mr=f.slice(t,1<o?1-o:void 0)}function Vr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Fs(){return!0}function Jn(){return!1}function Ft(t){function s(a,o,f,m,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Fs:Jn,this.isPropagationStopped=Jn,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),s}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Ft(Hs),Ri=E({},Hs,{view:0,detail:0}),so=Ft(Ri),Ii,Ca,Ns,Ra=E({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(Ii=t.screenX-Ns.screenX,Ca=t.screenY-Ns.screenY):Ca=Ii=0,Ns=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),io=Ft(Ra),Pr=E({},Ra,{dataTransfer:0}),Kc=Ft(Pr),$c=E({},Ri,{relatedTarget:0}),Ur=Ft($c),ro=E({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=Ft(ro),Ia=E({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jc=Ft(Ia),Wc=E({},Hs,{data:0}),As=Ft(Wc),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=tu[t])?!!s[t]:!1}function Di(){return nu}var an=E({},Ri,{key:function(t){if(t.key){var s=Zc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),su=Ft(an),iu=E({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=Ft(iu),d=E({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),v=Ft(d),b=E({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(b),z=E({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ft(z),ie=E({},Hs,{newState:0,oldState:0}),Se=Ft(ie),mt=[9,13,27,32],He=In&&"CompositionEvent"in window,lt=null;In&&"documentMode"in document&&(lt=document.documentMode);var Dn=In&&"TextEvent"in window&&!lt,Cs=In&&(!He||lt&&8<lt&&11>=lt),Wn=" ",Zn=!1;function Lr(t,s){switch(t){case"keyup":return mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function G1(t,s){switch(t){case"compositionend":return Da(s);case"keypress":return s.which!==32?null:(Zn=!0,Wn);case"textInput":return t=s.data,t===Wn&&Zn?null:t;default:return null}}function Y1(t,s){if(ja)return t==="compositionend"||!He&&Lr(t,s)?(t=no(),Mr=to=ws=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cs&&s.locale!=="ko"?null:s.data;default:return null}}var Q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Q1[t.type]:s==="textarea"}function jg(t,s,a,o){Ai?Ts?Ts.push(o):Ts=[o]:Ai=o,s=Qu(s,"onChange"),0<s.length&&(a=new Ss("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var ao=null,lo=null;function K1(t){mv(t,0)}function ru(t){var s=yn(t);if(Dr(s))return t}function kg(t,s){if(t==="change")return s}var Og=!1;if(In){var Ah;if(In){var Ch="oninput"in document;if(!Ch){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Ch=typeof Mg.oninput=="function"}Ah=Ch}else Ah=!1;Og=Ah&&(!document.documentMode||9<document.documentMode)}function Vg(){ao&&(ao.detachEvent("onpropertychange",Pg),lo=ao=null)}function Pg(t){if(t.propertyName==="value"&&ru(lo)){var s=[];jg(s,lo,t,Rn(t)),Ci(K1,s)}}function $1(t,s,a){t==="focusin"?(Vg(),ao=s,lo=a,ao.attachEvent("onpropertychange",Pg)):t==="focusout"&&Vg()}function X1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(lo)}function J1(t,s){if(t==="click")return ru(s)}function W1(t,s){if(t==="input"||t==="change")return ru(s)}function Z1(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var _n=typeof Object.is=="function"?Object.is:Z1;function oo(t,s){if(_n(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!_t.call(s,f)||!_n(t[f],s[f]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,s){var a=Ug(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function zg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?zg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Es(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Es(t.document)}return s}function Rh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var eT=In&&"documentMode"in document&&11>=document.documentMode,ka=null,Ih=null,co=null,Dh=!1;function Bg(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dh||ka==null||ka!==Es(o)||(o=ka,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),co&&oo(co,o)||(co=o,o=Qu(Ih,"onSelect"),0<o.length&&(s=new Ss("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=ka)))}function zr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Oa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},jh={},Fg={};In&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function qr(t){if(jh[t])return jh[t];if(!Oa[t])return t;var s=Oa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Fg)return jh[t]=s[a];return t}var Hg=qr("animationend"),Gg=qr("animationiteration"),Yg=qr("animationstart"),tT=qr("transitionrun"),nT=qr("transitionstart"),sT=qr("transitioncancel"),Qg=qr("transitionend"),Kg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function es(t,s){Kg.set(t,s),bs(s,[t])}var au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ma=0,Oh=0;function lu(){for(var t=Ma,s=Oh=Ma=0;s<t;){var a=jn[s];jn[s++]=null;var o=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var m=jn[s];if(jn[s++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&$g(a,f,m)}}function ou(t,s,a,o){jn[Ma++]=t,jn[Ma++]=s,jn[Ma++]=a,jn[Ma++]=o,Oh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Mh(t,s,a,o){return ou(t,s,a,o),cu(t)}function Br(t,s){return ou(t,null,null,s),cu(t)}function $g(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-ft(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[s]:o.push(s),s.lane=a|536870912),m):null}function cu(t){if(50<jo)throw jo=0,Gf=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Va={};function iT(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,s,a,o){return new iT(t,s,a,o)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ys(t,s){var a=t.alternate;return a===null?(a=bn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function uu(t,s,a,o,f,m){var _=0;if(o=t,typeof t=="function")Vh(t)&&(_=1);else if(typeof t=="string")_=cw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=bn(31,a,s,f),t.elementType=A,t.lanes=m,t;case H:return Fr(a.children,f,m,s);case R:_=8,f|=24;break;case Y:return t=bn(12,a,s,f|2),t.elementType=Y,t.lanes=m,t;case de:return t=bn(13,a,s,f),t.elementType=de,t.lanes=m,t;case Ee:return t=bn(19,a,s,f),t.elementType=Ee,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:_=10;break e;case Z:_=9;break e;case ge:_=11;break e;case C:_=14;break e;case N:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=bn(_,a,s,f),s.elementType=t,s.type=o,s.lanes=m,s}function Fr(t,s,a,o){return t=bn(7,t,o,s),t.lanes=a,t}function Ph(t,s,a){return t=bn(6,t,null,s),t.lanes=a,t}function Jg(t){var s=bn(18,null,null,0);return s.stateNode=t,s}function Uh(t,s,a){return s=bn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Wg=new WeakMap;function kn(t,s){if(typeof t=="object"&&t!==null){var a=Wg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:zl(s)},Wg.set(t,s),s)}return{value:t,source:s,stack:zl(s)}}var Pa=[],Ua=0,du=null,uo=0,On=[],Mn=0,ji=null,Rs=1,Is="";function Qs(t,s){Pa[Ua++]=uo,Pa[Ua++]=du,du=t,uo=s}function Zg(t,s,a){On[Mn++]=Rs,On[Mn++]=Is,On[Mn++]=ji,ji=t;var o=Rs;t=Is;var f=32-ft(o)-1;o&=~(1<<f),a+=1;var m=32-ft(s)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,Rs=1<<32-ft(s)+f|a<<f|o,Is=m+t}else Rs=1<<m|a<<f|o,Is=t}function Lh(t){t.return!==null&&(Qs(t,1),Zg(t,1,0))}function zh(t){for(;t===du;)du=Pa[--Ua],Pa[Ua]=null,uo=Pa[--Ua],Pa[Ua]=null;for(;t===ji;)ji=On[--Mn],On[Mn]=null,Is=On[--Mn],On[Mn]=null,Rs=On[--Mn],On[Mn]=null}function ey(t,s){On[Mn++]=Rs,On[Mn++]=Is,On[Mn++]=ji,Rs=s.id,Is=s.overflow,ji=t}var Ht=null,st=null,Pe=!1,ki=null,Vn=!1,qh=Error(r(519));function Oi(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ho(kn(s,t)),qh}function ty(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[xt]=t,s[Ut]=o,a){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(a=0;a<Oo.length;a++)Ie(Oo[a],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":Ie("invalid",s),Hc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",s);break;case"textarea":Ie("invalid",s),Si(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||vv(s.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",s),Ie("toggle",s)),o.onScroll!=null&&Ie("scroll",s),o.onScrollEnd!=null&&Ie("scrollend",s),o.onClick!=null&&(s.onclick=$n),s=!0):s=!1,s||Oi(t,!0)}function ny(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ht=Ht.return}}function La(t){if(t!==Ht)return!1;if(!Pe)return ny(t),Pe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||am(t.type,t.memoizedProps)),a=!a),a&&st&&Oi(t),ny(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=Av(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=Av(t)}else s===27?(s=st,Ki(t.type)?(t=dm,dm=null,st=t):st=s):st=Ht?Un(t.stateNode.nextSibling):null;return!0}function Hr(){st=Ht=null,Pe=!1}function Bh(){var t=ki;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),ki=null),t}function ho(t){ki===null?ki=[t]:ki.push(t)}var Fh=V(null),Gr=null,Ks=null;function Mi(t,s,a){ae(Fh,s._currentValue),s._currentValue=a}function $s(t){t._currentValue=Fh.current,te(Fh)}function Hh(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function Gh(t,s,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<s.length;D++)if(T.context===s[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Hh(m.return,a,t),o||(_=null);break e}m=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Hh(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function za(t,s,a,o){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}f=f.return}t!==null&&Gh(s,t,a,o),s.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Gr=t,Ks=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return sy(Gr,t)}function fu(t,s){return Gr===null&&Yr(t),sy(t,s)}function sy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ks===null){if(t===null)throw Error(r(308));Ks=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ks=Ks.next=s;return a}var rT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},aT=i.unstable_scheduleCallback,lT=i.unstable_NormalPriority,wt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new rT,data:new Map,refCount:0}}function fo(t){t.refCount--,t.refCount===0&&aT(lT,function(){t.controller.abort()})}var mo=null,Qh=0,qa=0,Ba=null;function oT(t,s){if(mo===null){var a=mo=[];Qh=0,qa=Jf(),Ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Qh++,s.then(iy,iy),s}function iy(){if(--Qh===0&&mo!==null){Ba!==null&&(Ba.status="fulfilled");var t=mo;mo=null,qa=0,Ba=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function cT(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var ry=J.S;J.S=function(t,s){B0=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&oT(t,s),ry!==null&&ry(t,s)};var Qr=V(null);function Kh(){var t=Qr.current;return t!==null?t:tt.pooledCache}function mu(t,s){s===null?ae(Qr,Qr.current):ae(Qr,s.pool)}function ay(){var t=Kh();return t===null?null:{parent:wt._currentValue,pool:t}}var Fa=Error(r(460)),$h=Error(r(474)),pu=Error(r(542)),gu={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oy(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then($n,$n),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,uy(t),t;default:if(typeof s.status=="string")s.then($n,$n);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=o}},function(o){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,uy(t),t}throw $r=s,Fa}}function Kr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($r=a,Fa):a}}var $r=null;function cy(){if($r===null)throw Error(r(459));var t=$r;return $r=null,t}function uy(t){if(t===Fa||t===pu)throw Error(r(483))}var Ha=null,po=0;function yu(t){var s=po;return po+=1,Ha===null&&(Ha=[]),oy(Ha,t,s)}function go(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function vu(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function dy(t){function s(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)s(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Ys(U,M),U.index=0,U.sibling=null,U}function m(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,B,W){return M===null||M.tag!==6?(M=Ph(B,U.mode,W),M.return=U,M):(M=f(M,B),M.return=U,M)}function D(U,M,B,W){var fe=B.type;return fe===H?X(U,M,B.props.children,W,B.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===N&&Kr(fe)===M.type)?(M=f(M,B.props),go(M,B),M.return=U,M):(M=uu(B.type,B.key,B.props,null,U.mode,W),go(M,B),M.return=U,M)}function F(U,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Uh(B,U.mode,W),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function X(U,M,B,W,fe){return M===null||M.tag!==7?(M=Fr(B,U.mode,W,fe),M.return=U,M):(M=f(M,B),M.return=U,M)}function ee(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ph(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return B=uu(M.type,M.key,M.props,null,U.mode,B),go(B,M),B.return=U,B;case q:return M=Uh(M,U.mode,B),M.return=U,M;case N:return M=Kr(M),ee(U,M,B)}if(Dt(M)||L(M))return M=Fr(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return ee(U,yu(M),B);if(M.$$typeof===$)return ee(U,fu(U,M),B);vu(U,M)}return null}function G(U,M,B,W){var fe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(U,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===fe?D(U,M,B,W):null;case q:return B.key===fe?F(U,M,B,W):null;case N:return B=Kr(B),G(U,M,B,W)}if(Dt(B)||L(B))return fe!==null?null:X(U,M,B,W,null);if(typeof B.then=="function")return G(U,M,yu(B),W);if(B.$$typeof===$)return G(U,M,fu(U,B),W);vu(U,B)}return null}function K(U,M,B,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(B)||null,T(M,U,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return U=U.get(W.key===null?B:W.key)||null,D(M,U,W,fe);case q:return U=U.get(W.key===null?B:W.key)||null,F(M,U,W,fe);case N:return W=Kr(W),K(U,M,B,W,fe)}if(Dt(W)||L(W))return U=U.get(B)||null,X(M,U,W,fe,null);if(typeof W.then=="function")return K(U,M,B,yu(W),fe);if(W.$$typeof===$)return K(U,M,B,fu(M,W),fe);vu(M,W)}return null}function ue(U,M,B,W){for(var fe=null,Be=null,he=M,Ce=M=0,ke=null;he!==null&&Ce<B.length;Ce++){he.index>Ce?(ke=he,he=null):ke=he.sibling;var Fe=G(U,he,B[Ce],W);if(Fe===null){he===null&&(he=ke);break}t&&he&&Fe.alternate===null&&s(U,he),M=m(Fe,M,Ce),Be===null?fe=Fe:Be.sibling=Fe,Be=Fe,he=ke}if(Ce===B.length)return a(U,he),Pe&&Qs(U,Ce),fe;if(he===null){for(;Ce<B.length;Ce++)he=ee(U,B[Ce],W),he!==null&&(M=m(he,M,Ce),Be===null?fe=he:Be.sibling=he,Be=he);return Pe&&Qs(U,Ce),fe}for(he=o(he);Ce<B.length;Ce++)ke=K(he,U,Ce,B[Ce],W),ke!==null&&(t&&ke.alternate!==null&&he.delete(ke.key===null?Ce:ke.key),M=m(ke,M,Ce),Be===null?fe=ke:Be.sibling=ke,Be=ke);return t&&he.forEach(function(Zi){return s(U,Zi)}),Pe&&Qs(U,Ce),fe}function ye(U,M,B,W){if(B==null)throw Error(r(151));for(var fe=null,Be=null,he=M,Ce=M=0,ke=null,Fe=B.next();he!==null&&!Fe.done;Ce++,Fe=B.next()){he.index>Ce?(ke=he,he=null):ke=he.sibling;var Zi=G(U,he,Fe.value,W);if(Zi===null){he===null&&(he=ke);break}t&&he&&Zi.alternate===null&&s(U,he),M=m(Zi,M,Ce),Be===null?fe=Zi:Be.sibling=Zi,Be=Zi,he=ke}if(Fe.done)return a(U,he),Pe&&Qs(U,Ce),fe;if(he===null){for(;!Fe.done;Ce++,Fe=B.next())Fe=ee(U,Fe.value,W),Fe!==null&&(M=m(Fe,M,Ce),Be===null?fe=Fe:Be.sibling=Fe,Be=Fe);return Pe&&Qs(U,Ce),fe}for(he=o(he);!Fe.done;Ce++,Fe=B.next())Fe=K(he,U,Ce,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&he.delete(Fe.key===null?Ce:Fe.key),M=m(Fe,M,Ce),Be===null?fe=Fe:Be.sibling=Fe,Be=Fe);return t&&he.forEach(function(bw){return s(U,bw)}),Pe&&Qs(U,Ce),fe}function et(U,M,B,W){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var fe=B.key;M!==null;){if(M.key===fe){if(fe=B.type,fe===H){if(M.tag===7){a(U,M.sibling),W=f(M,B.props.children),W.return=U,U=W;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===N&&Kr(fe)===M.type){a(U,M.sibling),W=f(M,B.props),go(W,B),W.return=U,U=W;break e}a(U,M);break}else s(U,M);M=M.sibling}B.type===H?(W=Fr(B.props.children,U.mode,W,B.key),W.return=U,U=W):(W=uu(B.type,B.key,B.props,null,U.mode,W),go(W,B),W.return=U,U=W)}return _(U);case q:e:{for(fe=B.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),W=f(M,B.children||[]),W.return=U,U=W;break e}else{a(U,M);break}else s(U,M);M=M.sibling}W=Uh(B,U.mode,W),W.return=U,U=W}return _(U);case N:return B=Kr(B),et(U,M,B,W)}if(Dt(B))return ue(U,M,B,W);if(L(B)){if(fe=L(B),typeof fe!="function")throw Error(r(150));return B=fe.call(B),ye(U,M,B,W)}if(typeof B.then=="function")return et(U,M,yu(B),W);if(B.$$typeof===$)return et(U,M,fu(U,B),W);vu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),W=f(M,B),W.return=U,U=W):(a(U,M),W=Ph(B,U.mode,W),W.return=U,U=W),_(U)):a(U,M)}return function(U,M,B,W){try{po=0;var fe=et(U,M,B,W);return Ha=null,fe}catch(he){if(he===Fa||he===pu)throw he;var Be=bn(29,he,null,U.mode);return Be.lanes=W,Be.return=U,Be}finally{}}}var Xr=dy(!0),hy=dy(!1),Vi=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var f=o.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s,s=cu(t),$g(t,null,a),s}return ou(t,o,s,a),cu(t)}function yo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Fl(t,a)}}function Wh(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Zh=!1;function vo(){if(Zh){var t=Ba;if(t!==null)throw t}}function _o(t,s,a,o){Zh=!1;var f=t.updateQueue;Vi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,F=D.next;D.next=null,_===null?m=F:_.next=F,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=F:T.next=F,X.lastBaseUpdate=D))}if(m!==null){var ee=f.baseState;_=0,X=F=D=null,T=m;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(je&G)===G:(o&G)===G){G!==0&&G===qa&&(Zh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,ye=T;G=s;var et=a;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){ee=ue.call(et,ee,G);break e}ee=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,G=typeof ue=="function"?ue.call(et,ee,G):ue,G==null)break e;ee=E({},ee,G);break e;case 2:Vi=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(F=X=K,D=ee):X=X.next=K,_|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;K=T,T=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),Fi|=_,t.lanes=_,t.memoizedState=ee}}function fy(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function my(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fy(a[t],s)}var Ga=V(null),_u=V(0);function py(t,s){t=ii,ae(_u,t),ae(Ga,s),ii=t|s.baseLanes}function ef(){ae(_u,ii),ae(Ga,Ga.current)}function tf(){ii=_u.current,te(Ga),te(_u)}var xn=V(null),Pn=null;function Li(t){var s=t.alternate;ae(pt,pt.current&1),ae(xn,t),Pn===null&&(s===null||Ga.current!==null||s.memoizedState!==null)&&(Pn=t)}function nf(t){ae(pt,pt.current),ae(xn,t),Pn===null&&(Pn=t)}function gy(t){t.tag===22?(ae(pt,pt.current),ae(xn,t),Pn===null&&(Pn=t)):zi()}function zi(){ae(pt,pt.current),ae(xn,xn.current)}function En(t){te(xn),Pn===t&&(Pn=null),te(pt)}var pt=V(0);function bu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||um(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xs=0,Ne=null,We=null,St=null,xu=!1,Ya=!1,Jr=!1,Eu=0,bo=0,Qa=null,uT=0;function dt(){throw Error(r(321))}function sf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!_n(t[a],s[a]))return!1;return!0}function rf(t,s,a,o,f,m){return Xs=m,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=t===null||t.memoizedState===null?Zy:bf,Jr=!1,m=a(o,f),Jr=!1,Ya&&(m=vy(s,a,o,f)),yy(t),m}function yy(t){J.H=To;var s=We!==null&&We.next!==null;if(Xs=0,St=We=Ne=null,xu=!1,bo=0,Qa=null,s)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&hu(t)&&(Nt=!0))}function vy(t,s,a,o){Ne=t;var f=0;do{if(Ya&&(Qa=null),bo=0,Ya=!1,25<=f)throw Error(r(301));if(f+=1,St=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=e0,m=s(a,o)}while(Ya);return m}function dT(){var t=J.H,s=t.useState()[0];return s=typeof s.then=="function"?xo(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),s}function af(){var t=Eu!==0;return Eu=0,t}function lf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function of(t){if(xu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}xu=!1}Xs=0,St=We=Ne=null,Ya=!1,bo=Eu=0,Qa=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function gt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=St===null?Ne.memoizedState:St.next;if(s!==null)St=s,We=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(t){var s=bo;return bo+=1,Qa===null&&(Qa=[]),t=oy(Qa,t,s),s=Ne,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?Zy:bf),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xo(t);if(t.$$typeof===$)return Gt(t)}throw Error(r(438,String(t)))}function cf(t){var s=null,a=Ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Tu(),Ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=k;return s.index++,a}function Js(t,s){return typeof s=="function"?s(t):s}function Su(t){var s=gt();return uf(s,We,t)}function uf(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}s.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var T=_=null,D=null,F=s,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(je&ee)===ee:(Xs&ee)===ee){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===qa&&(X=!0);else if((Xs&G)===G){F=F.next,G===qa&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=ee,_=m):D=D.next=ee,Ne.lanes|=G,Fi|=G;ee=F.action,Jr&&a(m,ee),m=F.hasEagerState?F.eagerState:a(m,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=G,_=m):D=D.next=G,Ne.lanes|=ee,Fi|=ee;F=F.next}while(F!==null&&F!==s);if(D===null?_=m:D.next=T,!_n(m,t.memoizedState)&&(Nt=!0,X&&(a=Ba,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=D,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function df(t){var s=gt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);_n(m,s.memoizedState)||(Nt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function _y(t,s,a){var o=Ne,f=gt(),m=Pe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!_n((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,mf(Ey.bind(null,o,f,t),[t]),f.getSnapshot!==s||_||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},xy.bind(null,o,f,a,s),null),tt===null)throw Error(r(349));m||(Xs&127)!==0||by(o,s,a)}return a}function by(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ne.updateQueue,s===null?(s=Tu(),Ne.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function xy(t,s,a,o){s.value=a,s.getSnapshot=o,Ty(s)&&wy(t)}function Ey(t,s,a){return a(function(){Ty(s)&&wy(t)})}function Ty(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!_n(t,a)}catch{return!0}}function wy(t){var s=Br(t,2);s!==null&&mn(s,t,2)}function hf(t){var s=ln();if(typeof t=="function"){var a=t;if(t=a(),Jr){An(!0);try{a()}finally{An(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},s}function Sy(t,s,a,o){return t.baseState=a,uf(t,We,typeof o=="function"?o:Js)}function hT(t,s,a,o,f){if(Cu(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};J.T!==null?a(!0):m.isTransition=!1,o(m),a=s.pending,a===null?(m.next=s.pending=m,Ny(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Ny(t,s){var a=s.action,o=s.payload,f=t.state;if(s.isTransition){var m=J.T,_={};J.T=_;try{var T=a(f,o),D=J.S;D!==null&&D(_,T),Ay(t,s,T)}catch(F){ff(t,s,F)}finally{m!==null&&_.types!==null&&(m.types=_.types),J.T=m}}else try{m=a(f,o),Ay(t,s,m)}catch(F){ff(t,s,F)}}function Ay(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cy(t,s,o)},function(o){return ff(t,s,o)}):Cy(t,s,a)}function Cy(t,s,a){s.status="fulfilled",s.value=a,Ry(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Ny(t,a)))}function ff(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,Ry(s),s=s.next;while(s!==o)}t.action=null}function Ry(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Iy(t,s){return s}function Dy(t,s){if(Pe){var a=tt.formState;if(a!==null){e:{var o=Ne;if(Pe){if(st){t:{for(var f=st,m=Vn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Un(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){st=Un(f.nextSibling),o=f.data==="F!";break e}}Oi(o)}o=!1}o&&(s=a[0])}}return a=ln(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:s},a.queue=o,a=Xy.bind(null,Ne,o),o.dispatch=a,o=hf(!1),m=_f.bind(null,Ne,!1,o.queue),o=ln(),f={state:s,dispatch:null,action:t,pending:null},o.queue=f,a=hT.bind(null,Ne,f,m,a),f.dispatch=a,o.memoizedState=t,[s,a,!1]}function jy(t){var s=gt();return ky(s,We,t)}function ky(t,s,a){if(s=uf(t,s,Iy)[0],t=Su(Js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=xo(s)}catch(_){throw _===Fa?pu:_}else o=s;s=gt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Ne.flags|=2048,Ka(9,{destroy:void 0},fT.bind(null,f,a),null)),[o,m,t]}function fT(t,s){t.action=s}function Oy(t){var s=gt(),a=We;if(a!==null)return ky(s,a,t);gt(),s=s.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Ka(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Tu(),Ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function My(){return gt().memoizedState}function Nu(t,s,a,o){var f=ln();Ne.flags|=t,f.memoizedState=Ka(1|s,{destroy:void 0},a,o===void 0?null:o)}function Au(t,s,a,o){var f=gt();o=o===void 0?null:o;var m=f.memoizedState.inst;We!==null&&o!==null&&sf(o,We.memoizedState.deps)?f.memoizedState=Ka(s,m,a,o):(Ne.flags|=t,f.memoizedState=Ka(1|s,m,a,o))}function Vy(t,s){Nu(8390656,8,t,s)}function mf(t,s){Au(2048,8,t,s)}function mT(t){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=Tu(),Ne.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Py(t){var s=gt().memoizedState;return mT({ref:s,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Uy(t,s){return Au(4,2,t,s)}function Ly(t,s){return Au(4,4,t,s)}function zy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function qy(t,s,a){a=a!=null?a.concat([t]):null,Au(4,4,zy.bind(null,s,t),a)}function pf(){}function By(t,s){var a=gt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&sf(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Fy(t,s){var a=gt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&sf(s,o[1]))return o[0];if(o=t(),Jr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,s],o}function gf(t,s,a){return a===void 0||(Xs&1073741824)!==0&&(je&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=H0(),Ne.lanes|=t,Fi|=t,a)}function Hy(t,s,a,o){return _n(a,s)?a:Ga.current!==null?(t=gf(t,a,o),_n(t,s)||(Nt=!0),t):(Xs&42)===0||(Xs&1073741824)!==0&&(je&261930)===0?(Nt=!0,t.memoizedState=a):(t=H0(),Ne.lanes|=t,Fi|=t,s)}function Gy(t,s,a,o,f){var m=re.p;re.p=m!==0&&8>m?m:8;var _=J.T,T={};J.T=T,_f(t,!1,s,a);try{var D=f(),F=J.S;if(F!==null&&F(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=cT(D,o);Eo(t,s,X,Sn(t))}else Eo(t,s,o,Sn(t))}catch(ee){Eo(t,s,{then:function(){},status:"rejected",reason:ee},Sn())}finally{re.p=m,_!==null&&T.types!==null&&(_.types=T.types),J.T=_}}function pT(){}function yf(t,s,a,o){if(t.tag!==5)throw Error(r(476));var f=Yy(t).queue;Gy(t,f,s,pe,a===null?pT:function(){return Qy(t),a(o)})}function Yy(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Qy(t){var s=Yy(t);s.next===null&&(s=t.alternate.memoizedState),Eo(t,s.next.queue,{},Sn())}function vf(){return Gt(Lo)}function Ky(){return gt().memoizedState}function $y(){return gt().memoizedState}function gT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Sn();t=Pi(a);var o=Ui(s,t,a);o!==null&&(mn(o,s,a),yo(o,s,a)),s={cache:Yh()},t.payload=s;return}s=s.return}}function yT(t,s,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(t)?Jy(s,a):(a=Mh(t,s,a,o),a!==null&&(mn(a,t,o),Wy(a,s,o)))}function Xy(t,s,a){var o=Sn();Eo(t,s,a,o)}function Eo(t,s,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(t))Jy(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,T=m(_,a);if(f.hasEagerState=!0,f.eagerState=T,_n(T,_))return ou(t,s,f,0),tt===null&&lu(),!1}catch{}finally{}if(a=Mh(t,s,f,o),a!==null)return mn(a,t,o),Wy(a,s,o),!0}return!1}function _f(t,s,a,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Cu(t)){if(s)throw Error(r(479))}else s=Mh(t,a,o,2),s!==null&&mn(s,t,2)}function Cu(t){var s=t.alternate;return t===Ne||s!==null&&s===Ne}function Jy(t,s){Ya=xu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Wy(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Fl(t,a)}}var To={readContext:Gt,use:wu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};To.useEffectEvent=dt;var Zy={readContext:Gt,use:wu,useCallback:function(t,s){return ln().memoizedState=[t,s===void 0?null:s],t},useContext:Gt,useEffect:Vy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Nu(4194308,4,zy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Nu(4194308,4,t,s)},useInsertionEffect:function(t,s){Nu(4,2,t,s)},useMemo:function(t,s){var a=ln();s=s===void 0?null:s;var o=t();if(Jr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=ln();if(a!==void 0){var f=a(s);if(Jr){An(!0);try{a(s)}finally{An(!1)}}}else f=s;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=yT.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var s=ln();return t={current:t},s.memoizedState=t},useState:function(t){t=hf(t);var s=t.queue,a=Xy.bind(null,Ne,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:pf,useDeferredValue:function(t,s){var a=ln();return gf(a,t,s)},useTransition:function(){var t=hf(!1);return t=Gy.bind(null,Ne,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=Ne,f=ln();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),tt===null)throw Error(r(349));(je&127)!==0||by(o,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Vy(Ey.bind(null,o,m,t),[t]),o.flags|=2048,Ka(9,{destroy:void 0},xy.bind(null,o,m,a,s),null),a},useId:function(){var t=ln(),s=tt.identifierPrefix;if(Pe){var a=Is,o=Rs;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Eu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=uT++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:vf,useFormState:Dy,useActionState:Dy,useOptimistic:function(t){var s=ln();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=_f.bind(null,Ne,!0,a),a.dispatch=s,[t,s]},useMemoCache:cf,useCacheRefresh:function(){return ln().memoizedState=gT.bind(null,Ne)},useEffectEvent:function(t){var s=ln(),a={impl:t};return s.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},bf={readContext:Gt,use:wu,useCallback:By,useContext:Gt,useEffect:mf,useImperativeHandle:qy,useInsertionEffect:Uy,useLayoutEffect:Ly,useMemo:Fy,useReducer:Su,useRef:My,useState:function(){return Su(Js)},useDebugValue:pf,useDeferredValue:function(t,s){var a=gt();return Hy(a,We.memoizedState,t,s)},useTransition:function(){var t=Su(Js)[0],s=gt().memoizedState;return[typeof t=="boolean"?t:xo(t),s]},useSyncExternalStore:_y,useId:Ky,useHostTransitionStatus:vf,useFormState:jy,useActionState:jy,useOptimistic:function(t,s){var a=gt();return Sy(a,We,t,s)},useMemoCache:cf,useCacheRefresh:$y};bf.useEffectEvent=Py;var e0={readContext:Gt,use:wu,useCallback:By,useContext:Gt,useEffect:mf,useImperativeHandle:qy,useInsertionEffect:Uy,useLayoutEffect:Ly,useMemo:Fy,useReducer:df,useRef:My,useState:function(){return df(Js)},useDebugValue:pf,useDeferredValue:function(t,s){var a=gt();return We===null?gf(a,t,s):Hy(a,We.memoizedState,t,s)},useTransition:function(){var t=df(Js)[0],s=gt().memoizedState;return[typeof t=="boolean"?t:xo(t),s]},useSyncExternalStore:_y,useId:Ky,useHostTransitionStatus:vf,useFormState:Oy,useActionState:Oy,useOptimistic:function(t,s){var a=gt();return We!==null?Sy(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cf,useCacheRefresh:$y};e0.useEffectEvent=Py;function xf(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ef={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Sn(),f=Pi(o);f.payload=s,a!=null&&(f.callback=a),s=Ui(t,f,o),s!==null&&(mn(s,t,o),yo(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Sn(),f=Pi(o);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ui(t,f,o),s!==null&&(mn(s,t,o),yo(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Sn(),o=Pi(a);o.tag=2,s!=null&&(o.callback=s),s=Ui(t,o,a),s!==null&&(mn(s,t,a),yo(s,t,a))}};function t0(t,s,a,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):s.prototype&&s.prototype.isPureReactComponent?!oo(a,o)||!oo(f,m):!0}function n0(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Ef.enqueueReplaceState(s,s.state,null)}function Wr(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function s0(t){au(t)}function i0(t){console.error(t)}function r0(t){au(t)}function Ru(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function a0(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tf(t,s,a){return a=Pi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ru(t,s)},a}function l0(t){return t=Pi(t),t.tag=3,t}function o0(t,s,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){a0(s,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){a0(s,a,o),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function vT(t,s,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&za(s,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?qu():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===gu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Kf(t,o,f)),!1;case 22:return a.flags|=65536,o===gu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Kf(t,o,f)),!1}throw Error(r(435,a.tag))}return Kf(t,o,f),qu(),!1}if(Pe)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,o!==qh&&(t=Error(r(422),{cause:o}),ho(kn(t,a)))):(o!==qh&&(s=Error(r(423),{cause:o}),ho(kn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=kn(o,a),f=Tf(t.stateNode,o,f),Wh(t,f),ht!==4&&(ht=2)),!1;var m=Error(r(520),{cause:o});if(m=kn(m,a),Do===null?Do=[m]:Do.push(m),ht!==4&&(ht=2),s===null)return!0;o=kn(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Tf(a.stateNode,o,t),Wh(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=l0(f),o0(f,t,a,o),Wh(a,f),!1}a=a.return}while(a!==null);return!1}var wf=Error(r(461)),Nt=!1;function Yt(t,s,a,o){s.child=t===null?hy(s,null,a,o):Xr(s,t.child,a,o)}function c0(t,s,a,o,f){a=a.render;var m=s.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Yr(s),o=rf(t,s,a,_,m,f),T=af(),t!==null&&!Nt?(lf(t,s,f),Ws(t,s,f)):(Pe&&T&&Lh(s),s.flags|=1,Yt(t,s,o,f),s.child)}function u0(t,s,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!Vh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,d0(t,s,m,o,f)):(t=uu(a.type,null,o,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!jf(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:oo,a(_,o)&&t.ref===s.ref)return Ws(t,s,f)}return s.flags|=1,t=Ys(m,o),t.ref=s.ref,t.return=s,s.child=t}function d0(t,s,a,o,f){if(t!==null){var m=t.memoizedProps;if(oo(m,o)&&t.ref===s.ref)if(Nt=!1,s.pendingProps=o=m,jf(t,f))(t.flags&131072)!==0&&(Nt=!0);else return s.lanes=t.lanes,Ws(t,s,f)}return Sf(t,s,a,o,f)}function h0(t,s,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=s.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,s.child=null;return f0(t,s,m,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(s,m!==null?m.cachePool:null),m!==null?py(s,m):ef(),gy(s);else return o=s.lanes=536870912,f0(t,s,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(mu(s,m.cachePool),py(s,m),zi(),s.memoizedState=null):(t!==null&&mu(s,null),ef(),zi());return Yt(t,s,f,a),s.child}function wo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function f0(t,s,a,o,f){var m=Kh();return m=m===null?null:{parent:wt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&mu(s,null),ef(),gy(s),t!==null&&za(t,s,o,!0),s.childLanes=f,null}function Iu(t,s){return s=ju({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function m0(t,s,a){return Xr(s,t.child,null,a),t=Iu(s,s.pendingProps),t.flags|=2,En(s),s.memoizedState=null,t}function _T(t,s,a){var o=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=Iu(s,o),s.lanes=536870912,wo(null,t);if(nf(s),(t=st)?(t=Nv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ji!==null?{id:Rs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=s,s.child=a,Ht=s,st=null)):t=null,t===null)throw Oi(s);return s.lanes=536870912,null}return Iu(s,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(nf(s),f)if(s.flags&256)s.flags&=-257,s=m0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Nt||za(t,s,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(o=tt,o!==null&&(_=Hl(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Br(t,_),mn(o,t,_),wf;qu(),s=m0(t,s,a)}else t=m.treeContext,st=Un(_.nextSibling),Ht=s,Pe=!0,ki=null,Vn=!1,t!==null&&ey(s,t),s=Iu(s,o),s.flags|=4096;return s}return t=Ys(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Du(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Sf(t,s,a,o,f){return Yr(s),a=rf(t,s,a,o,void 0,f),o=af(),t!==null&&!Nt?(lf(t,s,f),Ws(t,s,f)):(Pe&&o&&Lh(s),s.flags|=1,Yt(t,s,a,f),s.child)}function p0(t,s,a,o,f,m){return Yr(s),s.updateQueue=null,a=vy(s,o,a,f),yy(t),o=af(),t!==null&&!Nt?(lf(t,s,m),Ws(t,s,m)):(Pe&&o&&Lh(s),s.flags|=1,Yt(t,s,a,m),s.child)}function g0(t,s,a,o,f){if(Yr(s),s.stateNode===null){var m=Va,_=a.contextType;typeof _=="object"&&_!==null&&(m=Gt(_)),m=new a(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ef,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},Xh(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?Gt(_):Va,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(xf(s,a,_,o),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Ef.enqueueReplaceState(m,m.state,null),_o(s,o,m,f),vo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var T=s.memoizedProps,D=Wr(a,T);m.props=D;var F=m.context,X=a.contextType;_=Va,typeof X=="object"&&X!==null&&(_=Gt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||F!==_)&&n0(s,m,o,_),Vi=!1;var G=s.memoizedState;m.state=G,_o(s,o,m,f),vo(),F=s.memoizedState,T||G!==F||Vi?(typeof ee=="function"&&(xf(s,a,ee,o),F=s.memoizedState),(D=Vi||t0(s,a,D,o,G,F,_))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=F),m.props=o,m.state=F,m.context=_,o=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,Jh(t,s),_=s.memoizedProps,X=Wr(a,_),m.props=X,ee=s.pendingProps,G=m.context,F=a.contextType,D=Va,typeof F=="object"&&F!==null&&(D=Gt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ee||G!==D)&&n0(s,m,o,D),Vi=!1,G=s.memoizedState,m.state=G,_o(s,o,m,f),vo();var K=s.memoizedState;_!==ee||G!==K||Vi||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof T=="function"&&(xf(s,a,T,o),K=s.memoizedState),(X=Vi||t0(s,a,X,o,G,K,D)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,K,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,K,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=K),m.props=o,m.state=K,m.context=D,o=X):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,Du(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=Xr(s,t.child,null,f),s.child=Xr(s,null,a,f)):Yt(t,s,a,f),s.memoizedState=m.state,t=s.child):t=Ws(t,s,f),t}function y0(t,s,a,o){return Hr(),s.flags|=256,Yt(t,s,a,o),s.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(t){return{baseLanes:t,cachePool:ay()}}function Cf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=wn),t}function v0(t,s,a){var o=s.pendingProps,f=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(Pe){if(f?Li(s):zi(),(t=st)?(t=Nv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ji!==null?{id:Rs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=s,s.child=a,Ht=s,st=null)):t=null,t===null)throw Oi(s);return um(t)?s.lanes=32:s.lanes=536870912,null}var T=o.children;return o=o.fallback,f?(zi(),f=s.mode,T=ju({mode:"hidden",children:T},f),o=Fr(o,f,a,null),T.return=s,o.return=s,T.sibling=o,s.child=T,o=s.child,o.memoizedState=Af(a),o.childLanes=Cf(t,_,a),s.memoizedState=Nf,wo(null,o)):(Li(s),Rf(s,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(m)s.flags&256?(Li(s),s.flags&=-257,s=If(t,s,a)):s.memoizedState!==null?(zi(),s.child=t.child,s.flags|=128,s=null):(zi(),T=o.fallback,f=s.mode,o=ju({mode:"visible",children:o.children},f),T=Fr(T,f,a,null),T.flags|=2,o.return=s,T.return=s,o.sibling=T,s.child=o,Xr(s,t.child,null,a),o=s.child,o.memoizedState=Af(a),o.childLanes=Cf(t,_,a),s.memoizedState=Nf,s=wo(null,o));else if(Li(s),um(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,o=Error(r(419)),o.stack="",o.digest=_,ho({value:o,source:null,stack:null}),s=If(t,s,a)}else if(Nt||za(t,s,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=tt,_!==null&&(o=Hl(_,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,Br(t,o),mn(_,t,o),wf;cm(T)||qu(),s=If(t,s,a)}else cm(T)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,st=Un(T.nextSibling),Ht=s,Pe=!0,ki=null,Vn=!1,t!==null&&ey(s,t),s=Rf(s,o.children),s.flags|=4096);return s}return f?(zi(),T=o.fallback,f=s.mode,D=t.child,F=D.sibling,o=Ys(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,F!==null?T=Ys(F,T):(T=Fr(T,f,a,null),T.flags|=2),T.return=s,o.return=s,o.sibling=T,s.child=o,wo(null,o),o=s.child,T=t.child.memoizedState,T===null?T=Af(a):(f=T.cachePool,f!==null?(D=wt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ay(),T={baseLanes:T.baseLanes|a,cachePool:f}),o.memoizedState=T,o.childLanes=Cf(t,_,a),s.memoizedState=Nf,wo(t.child,o)):(Li(s),a=t.child,t=a.sibling,a=Ys(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function Rf(t,s){return s=ju({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ju(t,s){return t=bn(22,t,null,s),t.lanes=0,t}function If(t,s,a){return Xr(s,t.child,null,a),t=Rf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function _0(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Hh(t.return,s,a)}function Df(t,s,a,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function b0(t,s,a){var o=s.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,s.flags|=128):_&=1,ae(pt,_),Yt(t,s,o,a),o=Pe?uo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_0(t,a,s);else if(t.tag===19)_0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&bu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Df(s,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&bu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Df(s,!0,a,null,m,o);break;case"together":Df(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Ws(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Fi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(za(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Ys(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ys(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function jf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function bT(t,s,a){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Mi(s,wt,t.memoizedState.cache),Hr();break;case 27:case 5:wr(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Mi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nf(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Li(s),s.flags|=128,null):(a&s.child.childLanes)!==0?v0(t,s,a):(Li(s),t=Ws(t,s,a),t!==null?t.sibling:null);Li(s);break;case 19:var f=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(za(t,s,a,!1),o=(a&s.childLanes)!==0),f){if(o)return b0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(pt,pt.current),o)break;return null;case 22:return s.lanes=0,h0(t,s,a,s.pendingProps);case 24:Mi(s,wt,t.memoizedState.cache)}return Ws(t,s,a)}function x0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Nt=!0;else{if(!jf(t,a)&&(s.flags&128)===0)return Nt=!1,bT(t,s,a);Nt=(t.flags&131072)!==0}else Nt=!1,Pe&&(s.flags&1048576)!==0&&Zg(s,uo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=Kr(s.elementType),s.type=t,typeof t=="function")Vh(t)?(o=Wr(t,o),s.tag=1,s=g0(null,s,t,o,a)):(s.tag=0,s=Sf(null,s,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===ge){s.tag=11,s=c0(null,s,t,o,a);break e}else if(f===C){s.tag=14,s=u0(null,s,t,o,a);break e}}throw s=Ue(t)||t,Error(r(306,s,""))}}return s;case 0:return Sf(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,f=Wr(o,s.pendingProps),g0(t,s,o,f,a);case 3:e:{if(jt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var m=s.memoizedState;f=m.element,Jh(t,s),_o(s,o,null,a);var _=s.memoizedState;if(o=_.cache,Mi(s,wt,o),o!==m.cache&&Gh(s,[wt],a,!0),vo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=y0(t,s,o,a);break e}else if(o!==f){f=kn(Error(r(424)),s),ho(f),s=y0(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Un(t.firstChild),Ht=s,Pe=!0,ki=null,Vn=!0,a=hy(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),o===f){s=Ws(t,s,a);break e}Yt(t,s,o,a)}s=s.child}return s;case 26:return Du(t,s),t===null?(a=jv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Pe||(a=s.type,t=s.pendingProps,o=Ku(Ae.current).createElement(a),o[xt]=s,o[Ut]=t,Qt(o,a,t),Et(o),s.stateNode=o):s.memoizedState=jv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return wr(s),t===null&&Pe&&(o=s.stateNode=Rv(s.type,s.pendingProps,Ae.current),Ht=s,Vn=!0,f=st,Ki(s.type)?(dm=f,st=Un(o.firstChild)):st=f),Yt(t,s,s.pendingProps.children,a),Du(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Pe&&((f=o=st)&&(o=XT(o,s.type,s.pendingProps,Vn),o!==null?(s.stateNode=o,Ht=s,st=Un(o.firstChild),Vn=!1,f=!0):f=!1),f||Oi(s)),wr(s),f=s.type,m=s.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,am(f,m)?o=null:_!==null&&am(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=rf(t,s,dT,null,null,a),Lo._currentValue=f),Du(t,s),Yt(t,s,o,a),s.child;case 6:return t===null&&Pe&&((t=a=st)&&(a=JT(a,s.pendingProps,Vn),a!==null?(s.stateNode=a,Ht=s,st=null,t=!0):t=!1),t||Oi(s)),null;case 13:return v0(t,s,a);case 4:return jt(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Xr(s,null,o,a):Yt(t,s,o,a),s.child;case 11:return c0(t,s,s.type,s.pendingProps,a);case 7:return Yt(t,s,s.pendingProps,a),s.child;case 8:return Yt(t,s,s.pendingProps.children,a),s.child;case 12:return Yt(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Mi(s,s.type,o.value),Yt(t,s,o.children,a),s.child;case 9:return f=s.type._context,o=s.pendingProps.children,Yr(s),f=Gt(f),o=o(f),s.flags|=1,Yt(t,s,o,a),s.child;case 14:return u0(t,s,s.type,s.pendingProps,a);case 15:return d0(t,s,s.type,s.pendingProps,a);case 19:return b0(t,s,a);case 31:return _T(t,s,a);case 22:return h0(t,s,a,s.pendingProps);case 24:return Yr(s),o=Gt(wt),t===null?(f=Kh(),f===null&&(f=tt,m=Yh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:o,cache:f},Xh(s),Mi(s,wt,f)):((t.lanes&a)!==0&&(Jh(t,s),_o(s,null,null,a),vo()),f=t.memoizedState,m=s.memoizedState,f.parent!==o?(f={parent:o,cache:o},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Mi(s,wt,o)):(o=m.cache,Mi(s,wt,o),o!==f.cache&&Gh(s,[wt],a,!0))),Yt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Zs(t){t.flags|=4}function kf(t,s,a,o,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(K0())t.flags|=8192;else throw $r=gu,$h}else t.flags&=-16777217}function E0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(s))if(K0())t.flags|=8192;else throw $r=gu,$h}function ku(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Lc():536870912,t.lanes|=s,Wa|=s)}function So(t,s){if(!Pe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function xT(t,s,a){var o=s.pendingProps;switch(zh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),$s(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(s)?Zs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bh())),it(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(Zs(s),m!==null?(it(s),E0(s,m)):(it(s),kf(s,f,null,o,a))):m?m!==t.memoizedState?(Zs(s),it(s),E0(s,m)):(it(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&Zs(s),it(s),kf(s,f,t,o,a)),null;case 27:if(ya(s),a=Ae.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Zs(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return it(s),null}t=ce.current,La(s)?ty(s):(t=Rv(f,o,a),s.stateNode=t,Zs(s))}return it(s),null;case 5:if(ya(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Zs(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return it(s),null}if(m=ce.current,La(s))ty(s);else{var _=Ku(Ae.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[xt]=s,m[Ut]=o;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(Qt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Zs(s)}}return it(s),kf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Zs(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=Ae.current,La(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[xt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||vv(t.nodeValue,a)),t||Oi(s,!0)}else t=Ku(t).createTextNode(o),t[xt]=s,s.stateNode=t}return it(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=La(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),t=!1}else a=Bh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(En(s),s):(En(s),null);if((s.flags&128)!==0)throw Error(r(558))}return it(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=La(s),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[xt]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),f=!1}else f=Bh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(En(s),s):(En(s),null)}return En(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),ku(s,s.updateQueue),it(s),null);case 4:return at(),t===null&&tm(s.stateNode.containerInfo),it(s),null;case 10:return $s(s.type),it(s),null;case 19:if(te(pt),o=s.memoizedState,o===null)return it(s),null;if(f=(s.flags&128)!==0,m=o.rendering,m===null)if(f)So(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=bu(t),m!==null){for(s.flags|=128,So(o,!1),t=m.updateQueue,s.updateQueue=t,ku(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Xg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Pe&&Qs(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&rn()>Uu&&(s.flags|=128,f=!0,So(o,!1),s.lanes=4194304)}else{if(!f)if(t=bu(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,ku(s,t),So(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Pe)return it(s),null}else 2*rn()-o.renderingStartTime>Uu&&a!==536870912&&(s.flags|=128,f=!0,So(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rn(),t.sibling=null,a=pt.current,ae(pt,f?a&1|2:a&1),Pe&&Qs(s,o.treeForkCount),t):(it(s),null);case 22:case 23:return En(s),tf(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),a=s.updateQueue,a!==null&&ku(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&te(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),$s(wt),it(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function ET(t,s){switch(zh(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return $s(wt),at(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ya(s),null;case 31:if(s.memoizedState!==null){if(En(s),s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(En(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return te(pt),null;case 4:return at(),null;case 10:return $s(s.type),null;case 22:case 23:return En(s),tf(),t!==null&&te(Qr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return $s(wt),null;case 25:return null;default:return null}}function T0(t,s){switch(zh(s),s.tag){case 3:$s(wt),at();break;case 26:case 27:case 5:ya(s);break;case 4:at();break;case 31:s.memoizedState!==null&&En(s);break;case 13:En(s);break;case 19:te(pt);break;case 10:$s(s.type);break;case 22:case 23:En(s),tf(),t!==null&&te(Qr);break;case 24:$s(wt)}}function No(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==f)}}catch(T){Xe(s,s.return,T)}}function qi(t,s,a){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=s;var D=a,F=T;try{F()}catch(X){Xe(f,D,X)}}}o=o.next}while(o!==m)}}catch(X){Xe(s,s.return,X)}}function w0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{my(s,a)}catch(o){Xe(t,t.return,o)}}}function S0(t,s,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,s,o)}}function Ao(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){Xe(t,s,f)}}function Ds(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Xe(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,s,f)}else a.current=null}function N0(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Of(t,s,a){try{var o=t.stateNode;HT(o,t.type,a,s),o[Ut]=s}catch(f){Xe(t,t.return,f)}}function A0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ki(t.type)||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=$n));else if(o!==4&&(o===27&&Ki(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Vf(t,s,a),t=t.sibling;t!==null;)Vf(t,s,a),t=t.sibling}function Ou(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ou(t,s,a),t=t.sibling;t!==null;)Ou(t,s,a),t=t.sibling}function C0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qt(s,o,a),s[xt]=t,s[Ut]=a}catch(m){Xe(t,t.return,m)}}var ei=!1,At=!1,Pf=!1,R0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function TT(t,s){if(t=t.containerInfo,im=td,t=qg(t),Rh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,F=0,X=0,ee=t,G=null;t:for(;;){for(var K;ee!==a||f!==0&&ee.nodeType!==3||(T=_+f),ee!==m||o!==0&&ee.nodeType!==3||(D=_+o),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===t)break t;if(G===a&&++F===f&&(T=_),G===m&&++X===o&&(D=_),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:t,selectionRange:a},td=!1,zt=s;zt!==null;)if(s=zt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,zt=t;else for(;zt!==null;){switch(s=zt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ue=Wr(a.type,f);t=o.getSnapshotBeforeUpdate(ue,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)om(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,zt=t;break}zt=s.return}}function I0(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ni(t,a),o&4&&No(5,a);break;case 1:if(ni(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=Wr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}o&64&&w0(a),o&512&&Ao(a,a.return);break;case 3:if(ni(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{my(t,s)}catch(_){Xe(a,a.return,_)}}break;case 27:s===null&&o&4&&C0(a);case 26:case 5:ni(t,a),s===null&&o&4&&N0(a),o&512&&Ao(a,a.return);break;case 12:ni(t,a);break;case 31:ni(t,a),o&4&&k0(t,a);break;case 13:ni(t,a),o&4&&O0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=jT.bind(null,a),WT(t,a))));break;case 22:if(o=a.memoizedState!==null||ei,!o){s=s!==null&&s.memoizedState!==null||At,f=ei;var m=At;ei=o,(At=s)&&!m?si(t,a,(a.subtreeFlags&8772)!==0):ni(t,a),ei=f,At=m}break;case 30:break;default:ni(t,a)}}function D0(t){var s=t.alternate;s!==null&&(t.alternate=null,D0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ea(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,un=!1;function ti(t,s,a){for(a=a.child;a!==null;)j0(t,s,a),a=a.sibling}function j0(t,s,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:At||Ds(a,s),ti(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Ds(a,s);var o=ot,f=un;Ki(a.type)&&(ot=a.stateNode,un=!1),ti(t,s,a),Vo(a.stateNode),ot=o,un=f;break;case 5:At||Ds(a,s);case 6:if(o=ot,f=un,ot=null,ti(t,s,a),ot=o,un=f,ot!==null)if(un)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(m){Xe(a,s,m)}else try{ot.removeChild(a.stateNode)}catch(m){Xe(a,s,m)}break;case 18:ot!==null&&(un?(t=ot,wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),al(t)):wv(ot,a.stateNode));break;case 4:o=ot,f=un,ot=a.stateNode.containerInfo,un=!0,ti(t,s,a),ot=o,un=f;break;case 0:case 11:case 14:case 15:qi(2,a,s),At||qi(4,a,s),ti(t,s,a);break;case 1:At||(Ds(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&S0(a,s,o)),ti(t,s,a);break;case 21:ti(t,s,a);break;case 22:At=(o=At)||a.memoizedState!==null,ti(t,s,a),At=o;break;default:ti(t,s,a)}}function k0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{al(t)}catch(a){Xe(s,s.return,a)}}}function O0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{al(t)}catch(a){Xe(s,s.return,a)}}function wT(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new R0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new R0),s;default:throw Error(r(435,t.tag))}}function Mu(t,s){var a=wT(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var f=kT.bind(null,t,o);o.then(f,f)}})}function dn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ki(T.type)){ot=T.stateNode,un=!1;break e}break;case 5:ot=T.stateNode,un=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ot===null)throw Error(r(160));j0(m,_,f),ot=null,un=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)M0(s,t),s=s.sibling}var ts=null;function M0(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(s,t),hn(t),o&4&&(qi(3,t,t.return),No(3,t),qi(5,t,t.return));break;case 1:dn(s,t),hn(t),o&512&&(At||a===null||Ds(a,a.return)),o&64&&ei&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=ts;if(dn(s,t),hn(t),o&512&&(At||a===null||Ds(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ys]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Qt(m,o,a),m[xt]=t,Et(m),o=m;break e;case"link":var _=Mv("link","href",f).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=f.createElement(o),Qt(m,o,a),f.head.appendChild(m);break;case"meta":if(_=Mv("meta","content",f).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=f.createElement(o),Qt(m,o,a),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[xt]=t,Et(m),o=m}t.stateNode=o}else Vv(f,t.type,t.stateNode);else t.stateNode=Ov(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Vv(f,t.type,t.stateNode):Ov(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Of(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(s,t),hn(t),o&512&&(At||a===null||Ds(a,a.return)),a!==null&&o&4&&Of(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(s,t),hn(t),o&512&&(At||a===null||Ds(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(ue){Xe(t,t.return,ue)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Of(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Pf=!0);break;case 6:if(dn(s,t),hn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(Ju=null,f=ts,ts=$u(s.containerInfo),dn(s,t),ts=f,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{al(s.containerInfo)}catch(ue){Xe(t,t.return,ue)}Pf&&(Pf=!1,V0(t));break;case 4:o=ts,ts=$u(t.stateNode.containerInfo),dn(s,t),hn(t),ts=o;break;case 12:dn(s,t),hn(t);break;case 31:dn(s,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Mu(t,o)));break;case 13:dn(s,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pu=rn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Mu(t,o)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=ei,X=At;if(ei=F||f,At=X||D,dn(s,t),At=X,ei=F,hn(t),o&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ei||At||Zr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var ee=D.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ue){Xe(D,D.return,ue)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ue){Xe(D,D.return,ue)}}}else if(s.tag===18){if(a===null){D=s;try{var K=D.stateNode;f?Sv(K,!0):Sv(D.stateNode,!1)}catch(ue){Xe(D,D.return,ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Mu(t,a))));break;case 19:dn(s,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Mu(t,o)));break;case 30:break;case 21:break;default:dn(s,t),hn(t)}}function hn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(A0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Mf(t);Ou(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=Mf(t);Ou(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,F=Mf(t);Vf(t,F,D);break;default:throw Error(r(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function V0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;V0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ni(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)I0(t,s.alternate,s),s=s.sibling}function Zr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:qi(4,s,s.return),Zr(s);break;case 1:Ds(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&S0(s,s.return,a),Zr(s);break;case 27:Vo(s.stateNode);case 26:case 5:Ds(s,s.return),Zr(s);break;case 22:s.memoizedState===null&&Zr(s);break;case 30:Zr(s);break;default:Zr(s)}t=t.sibling}}function si(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,f=t,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:si(f,m,a),No(4,m);break;case 1:if(si(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xe(o,o.return,F)}if(o=m,f=o.updateQueue,f!==null){var T=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)fy(D[f],T)}catch(F){Xe(o,o.return,F)}}a&&_&64&&w0(m),Ao(m,m.return);break;case 27:C0(m);case 26:case 5:si(f,m,a),a&&o===null&&_&4&&N0(m),Ao(m,m.return);break;case 12:si(f,m,a);break;case 31:si(f,m,a),a&&_&4&&k0(f,m);break;case 13:si(f,m,a),a&&_&4&&O0(f,m);break;case 22:m.memoizedState===null&&si(f,m,a),Ao(m,m.return);break;case 30:break;default:si(f,m,a)}s=s.sibling}}function Uf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fo(a))}function Lf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fo(t))}function ns(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)P0(t,s,a,o),s=s.sibling}function P0(t,s,a,o){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ns(t,s,a,o),f&2048&&No(9,s);break;case 1:ns(t,s,a,o);break;case 3:ns(t,s,a,o),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&fo(t)));break;case 12:if(f&2048){ns(t,s,a,o),t=s.stateNode;try{var m=s.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(s,s.return,D)}}else ns(t,s,a,o);break;case 31:ns(t,s,a,o);break;case 13:ns(t,s,a,o);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?ns(t,s,a,o):Co(t,s):m._visibility&2?ns(t,s,a,o):(m._visibility|=2,$a(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Uf(_,s);break;case 24:ns(t,s,a,o),f&2048&&Lf(s.alternate,s);break;default:ns(t,s,a,o)}}function $a(t,s,a,o,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,_=s,T=a,D=o,F=_.flags;switch(_.tag){case 0:case 11:case 15:$a(m,_,T,D,f),No(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?$a(m,_,T,D,f):Co(m,_):(X._visibility|=2,$a(m,_,T,D,f)),f&&F&2048&&Uf(_.alternate,_);break;case 24:$a(m,_,T,D,f),f&&F&2048&&Lf(_.alternate,_);break;default:$a(m,_,T,D,f)}s=s.sibling}}function Co(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,f=o.flags;switch(o.tag){case 22:Co(a,o),f&2048&&Uf(o.alternate,o);break;case 24:Co(a,o),f&2048&&Lf(o.alternate,o);break;default:Co(a,o)}s=s.sibling}}var Ro=8192;function Xa(t,s,a){if(t.subtreeFlags&Ro)for(t=t.child;t!==null;)U0(t,s,a),t=t.sibling}function U0(t,s,a){switch(t.tag){case 26:Xa(t,s,a),t.flags&Ro&&t.memoizedState!==null&&uw(a,ts,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,s,a);break;case 3:case 4:var o=ts;ts=$u(t.stateNode.containerInfo),Xa(t,s,a),ts=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ro,Ro=16777216,Xa(t,s,a),Ro=o):Xa(t,s,a));break;default:Xa(t,s,a)}}function L0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Io(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];zt=o,q0(o,t)}L0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)z0(t),t=t.sibling}function z0(t){switch(t.tag){case 0:case 11:case 15:Io(t),t.flags&2048&&qi(9,t,t.return);break;case 3:Io(t);break;case 12:Io(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Vu(t)):Io(t);break;default:Io(t)}}function Vu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];zt=o,q0(o,t)}L0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:qi(8,s,s.return),Vu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Vu(s));break;default:Vu(s)}t=t.sibling}}function q0(t,s){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:qi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,zt=o;else e:for(a=t;zt!==null;){o=zt;var f=o.sibling,m=o.return;if(D0(o),o===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}var ST={getCacheForType:function(t){var s=Gt(wt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Gt(wt).controller.signal}},NT=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Re=null,je=0,$e=0,Tn=null,Bi=!1,Ja=!1,zf=!1,ii=0,ht=0,Fi=0,ea=0,qf=0,wn=0,Wa=0,Do=null,fn=null,Bf=!1,Pu=0,B0=0,Uu=1/0,Lu=null,Hi=null,Ot=0,Gi=null,Za=null,ri=0,Ff=0,Hf=null,F0=null,jo=0,Gf=null;function Sn(){return(Ge&2)!==0&&je!==0?je&-je:J.T!==null?Jf():zc()}function H0(){if(wn===0)if((je&536870912)===0||Pe){var t=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),wn=t}else wn=536870912;return t=xn.current,t!==null&&(t.flags|=32),wn}function mn(t,s,a){(t===tt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(el(t,0),Yi(t,je,wn,!1)),Cr(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(ea|=a),ht===4&&Yi(t,je,wn,!1)),js(t))}function G0(t,s,a){if((Ge&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Yn(t,s),f=o?RT(t,s):Qf(t,s,!0),m=o;do{if(f===0){Ja&&!o&&Yi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!AT(a)){f=Qf(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var T=t;f=Do;var D=T.current.memoizedState.isDehydrated;if(D&&(el(T,_).flags|=256),_=Qf(T,_,!1),_!==2){if(zf&&!D){T.errorRecoveryDisabledLanes|=m,ea|=m,f=4;break e}m=fn,fn=f,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){el(t,0),Yi(t,s,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yi(o,s,wn,!Bi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Pu+300-rn(),10<f)){if(Yi(o,s,wn,!Bi),ms(o,0,!0)!==0)break e;ri=s,o.timeoutHandle=Ev(Y0.bind(null,o,a,fn,Lu,Bf,s,wn,ea,Wa,Bi,m,"Throttled",-0,0),f);break e}Y0(o,a,fn,Lu,Bf,s,wn,ea,Wa,Bi,m,null,-0,0)}}break}while(!0);js(t)}function Y0(t,s,a,o,f,m,_,T,D,F,X,ee,G,K){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},U0(s,m,ee);var ue=(m&62914560)===m?Pu-rn():(m&4194048)===m?B0-rn():0;if(ue=dw(ee,ue),ue!==null){ri=m,t.cancelPendingCommit=ue(ev.bind(null,t,s,m,a,o,f,_,T,D,X,ee,null,G,K)),Yi(t,m,_,!F);return}}ev(t,s,m,a,o,f,_,T,D)}function AT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!_n(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(t,s,a,o){s&=~qf,s&=~ea,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var f=s;0<f;){var m=31-ft(f),_=1<<m;o[m]=-1,f&=~_}a!==0&&Rr(t,a,s)}function zu(){return(Ge&6)===0?(ko(0),!1):!0}function Yf(){if(Re!==null){if($e===0)var t=Re.return;else t=Re,Ks=Gr=null,of(t),Ha=null,po=0,t=Re;for(;t!==null;)T0(t.alternate,t),t=t.return;Re=null}}function el(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,QT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ri=0,Yf(),tt=t,Re=a=Ys(t.current,null),je=s,$e=0,Tn=null,Bi=!1,Ja=Yn(t,s),zf=!1,Wa=wn=qf=ea=Fi=ht=0,fn=Do=null,Bf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var f=31-ft(o),m=1<<f;s|=t[f],o&=~m}return ii=s,lu(),a}function Q0(t,s){Ne=null,J.H=To,s===Fa||s===pu?(s=cy(),$e=3):s===$h?(s=cy(),$e=4):$e=s===wf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Tn=s,Re===null&&(ht=1,Ru(t,kn(s,t.current)))}function K0(){var t=xn.current;return t===null?!0:(je&4194048)===je?Pn===null:(je&62914560)===je||(je&536870912)!==0?t===Pn:!1}function $0(){var t=J.H;return J.H=To,t===null?To:t}function X0(){var t=J.A;return J.A=ST,t}function qu(){ht=4,Bi||(je&4194048)!==je&&xn.current!==null||(Ja=!0),(Fi&134217727)===0&&(ea&134217727)===0||tt===null||Yi(tt,je,wn,!1)}function Qf(t,s,a){var o=Ge;Ge|=2;var f=$0(),m=X0();(tt!==t||je!==s)&&(Lu=null,el(t,s)),s=!1;var _=ht;e:do try{if($e!==0&&Re!==null){var T=Re,D=Tn;switch($e){case 8:Yf(),_=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var F=$e;if($e=0,Tn=null,tl(t,T,D,F),a&&Ja){_=0;break e}break;default:F=$e,$e=0,Tn=null,tl(t,T,D,F)}}CT(),_=ht;break}catch(X){Q0(t,X)}while(!0);return s&&t.shellSuspendCounter++,Ks=Gr=null,Ge=o,J.H=f,J.A=m,Re===null&&(tt=null,je=0,lu()),_}function CT(){for(;Re!==null;)J0(Re)}function RT(t,s){var a=Ge;Ge|=2;var o=$0(),f=X0();tt!==t||je!==s?(Lu=null,Uu=rn()+500,el(t,s)):Ja=Yn(t,s);e:do try{if($e!==0&&Re!==null){s=Re;var m=Tn;t:switch($e){case 1:$e=0,Tn=null,tl(t,s,m,1);break;case 2:case 9:if(ly(m)){$e=0,Tn=null,W0(s);break}s=function(){$e!==2&&$e!==9||tt!==t||($e=7),js(t)},m.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ly(m)?($e=0,Tn=null,W0(s)):($e=0,Tn=null,tl(t,s,m,7));break;case 5:var _=null;switch(Re.tag){case 26:_=Re.memoizedState;case 5:case 27:var T=Re;if(_?Pv(_):T.stateNode.complete){$e=0,Tn=null;var D=T.sibling;if(D!==null)Re=D;else{var F=T.return;F!==null?(Re=F,Bu(F)):Re=null}break t}}$e=0,Tn=null,tl(t,s,m,5);break;case 6:$e=0,Tn=null,tl(t,s,m,6);break;case 8:Yf(),ht=6;break e;default:throw Error(r(462))}}IT();break}catch(X){Q0(t,X)}while(!0);return Ks=Gr=null,J.H=o,J.A=f,Ge=a,Re!==null?0:(tt=null,je=0,lu(),ht)}function IT(){for(;Re!==null&&!Eh();)J0(Re)}function J0(t){var s=x0(t.alternate,t,ii);t.memoizedProps=t.pendingProps,s===null?Bu(t):Re=s}function W0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=p0(a,s,s.pendingProps,s.type,void 0,je);break;case 11:s=p0(a,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:of(s);default:T0(a,s),s=Re=Xg(s,ii),s=x0(a,s,ii)}t.memoizedProps=t.pendingProps,s===null?Bu(t):Re=s}function tl(t,s,a,o){Ks=Gr=null,of(s),Ha=null,po=0;var f=s.return;try{if(vT(t,f,s,a,je)){ht=1,Ru(t,kn(a,t.current)),Re=null;return}}catch(m){if(f!==null)throw Re=f,m;ht=1,Ru(t,kn(a,t.current)),Re=null;return}s.flags&32768?(Pe||o===1?t=!0:Ja||(je&536870912)!==0?t=!1:(Bi=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Z0(s,t)):Bu(s)}function Bu(t){var s=t;do{if((s.flags&32768)!==0){Z0(s,Bi);return}t=s.return;var a=xT(s.alternate,s,ii);if(a!==null){Re=a;return}if(s=s.sibling,s!==null){Re=s;return}Re=s=t}while(s!==null);ht===0&&(ht=5)}function Z0(t,s){do{var a=ET(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);ht=6,Re=null}function ev(t,s,a,o,f,m,_,T,D){t.cancelPendingCommit=null;do Fu();while(Ot!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Oh,Sh(t,a,m,_,T,D),t===tt&&(Re=tt=null,je=0),Za=s,Gi=t,ri=a,Ff=m,Hf=f,F0=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OT(Ei,function(){return rv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null,f=re.p,re.p=2,_=Ge,Ge|=4;try{TT(t,s,a)}finally{Ge=_,re.p=f,J.T=o}}Ot=1,tv(),nv(),sv()}}function tv(){if(Ot===1){Ot=0;var t=Gi,s=Za,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var o=re.p;re.p=2;var f=Ge;Ge|=4;try{M0(s,t);var m=rm,_=qg(t.containerInfo),T=m.focusedElem,D=m.selectionRange;if(_!==T&&T&&T.ownerDocument&&zg(T.ownerDocument.documentElement,T)){if(D!==null&&Rh(T)){var F=D.start,X=D.end;if(X===void 0&&(X=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),ue=T.textContent.length,ye=Math.min(D.start,ue),et=D.end===void 0?ye:Math.min(D.end,ue);!K.extend&&ye>et&&(_=et,et=ye,ye=_);var U=Lg(T,ye),M=Lg(T,et);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),ye>et?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var W=ee[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}td=!!im,rm=im=null}finally{Ge=f,re.p=o,J.T=a}}t.current=s,Ot=2}}function nv(){if(Ot===2){Ot=0;var t=Gi,s=Za,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var o=re.p;re.p=2;var f=Ge;Ge|=4;try{I0(t,s.alternate,s)}finally{Ge=f,re.p=o,J.T=a}}Ot=3}}function sv(){if(Ot===4||Ot===3){Ot=0,kc();var t=Gi,s=Za,a=ri,o=F0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,Za=Gi=null,iv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Hi=null),Bs(a),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=J.T,f=re.p,re.p=2,J.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];m(T.value,{componentStack:T.stack})}}finally{J.T=s,re.p=f}}(ri&3)!==0&&Fu(),js(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Gf?jo++:(jo=0,Gf=t):jo=0,ko(0)}}function iv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,fo(s)))}function Fu(){return tv(),nv(),sv(),rv()}function rv(){if(Ot!==5)return!1;var t=Gi,s=Ff;Ff=0;var a=Bs(ri),o=J.T,f=re.p;try{re.p=32>a?32:a,J.T=null,a=Hf,Hf=null;var m=Gi,_=ri;if(Ot=0,Za=Gi=null,ri=0,(Ge&6)!==0)throw Error(r(331));var T=Ge;if(Ge|=4,z0(m.current),P0(m,m.current,_,a),Ge=T,ko(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,m)}catch{}return!0}finally{re.p=f,J.T=o,iv(t,s)}}function av(t,s,a){s=kn(a,s),s=Tf(t.stateNode,s,2),t=Ui(t,s,2),t!==null&&(Cr(t,2),js(t))}function Xe(t,s,a){if(t.tag===3)av(t,t,a);else for(;s!==null;){if(s.tag===3){av(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hi===null||!Hi.has(o))){t=kn(a,t),a=l0(2),o=Ui(s,a,2),o!==null&&(o0(a,o,s,t),Cr(o,2),js(o));break}}s=s.return}}function Kf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new NT;var f=new Set;o.set(s,f)}else f=o.get(s),f===void 0&&(f=new Set,o.set(s,f));f.has(a)||(zf=!0,f.add(a),t=DT.bind(null,t,s,a),s.then(t,t))}function DT(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(je&a)===a&&(ht===4||ht===3&&(je&62914560)===je&&300>rn()-Pu?(Ge&2)===0&&el(t,0):qf|=a,Wa===je&&(Wa=0)),js(t)}function lv(t,s){s===0&&(s=Lc()),t=Br(t,s),t!==null&&(Cr(t,s),js(t))}function jT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),lv(t,a)}function kT(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),lv(t,a)}function OT(t,s){return kt(t,s)}var Hu=null,nl=null,$f=!1,Gu=!1,Xf=!1,Qi=0;function js(t){t!==nl&&t.next===null&&(nl===null?Hu=nl=t:nl=nl.next=t),Gu=!0,$f||($f=!0,VT())}function ko(t,s){if(!Xf&&Gu){Xf=!0;do for(var a=!1,o=Hu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-ft(42|t)+1)-1,m&=f&~(_&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,dv(o,m))}else m=je,m=ms(o,o===tt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Yn(o,m)||(a=!0,dv(o,m));o=o.next}while(a);Xf=!1}}function MT(){ov()}function ov(){Gu=$f=!1;var t=0;Qi!==0&&YT()&&(t=Qi);for(var s=rn(),a=null,o=Hu;o!==null;){var f=o.next,m=cv(o,s);m===0?(o.next=null,a===null?Hu=f:a.next=f,f===null&&(nl=a)):(a=o,(t!==0||(m&3)!==0)&&(Gu=!0)),o=f}Ot!==0&&Ot!==5||ko(t),Qi!==0&&(Qi=0)}function cv(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-ft(m),T=1<<_,D=f[_];D===-1?((T&a)===0||(T&o)!==0)&&(f[_]=wh(T,s)):D<=s&&(t.expiredLanes|=T),m&=~T}if(s=tt,a=je,a=ms(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&xi(o),Bs(a)){case 2:case 8:a=Bl;break;case 32:a=Ei;break;case 268435456:a=Oc;break;default:a=Ei}return o=uv.bind(null,t),a=kt(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&xi(o),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,s){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fu()&&t.callbackNode!==a)return null;var o=je;return o=ms(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(G0(t,o,s),cv(t,rn()),t.callbackNode!=null&&t.callbackNode===a?uv.bind(null,t):null)}function dv(t,s){if(Fu())return null;G0(t,s,!0)}function VT(){KT(function(){(Ge&6)!==0?kt(ql,MT):ov()})}function Jf(){if(Qi===0){var t=qa;t===0&&(t=hs,hs<<=1,(hs&261888)===0&&(hs=256)),Qi=t}return Qi}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function fv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function PT(t,s,a,o,f){if(s==="submit"&&a&&a.stateNode===f){var m=hv((f[Ut]||null).action),_=o.submitter;_&&(s=(s=_[Ut]||null)?hv(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var T=new Ss("action","action",null,o,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qi!==0){var D=_?fv(f,_):new FormData(f);yf(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=_?fv(f,_):new FormData(f),yf(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Wf=0;Wf<kh.length;Wf++){var Zf=kh[Wf],UT=Zf.toLowerCase(),LT=Zf[0].toUpperCase()+Zf.slice(1);es(UT,"on"+LT)}es(Hg,"onAnimationEnd"),es(Gg,"onAnimationIteration"),es(Yg,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(tT,"onTransitionRun"),es(nT,"onTransitionStart"),es(sT,"onTransitionCancel"),es(Qg,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function mv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var _=o.length-1;0<=_;_--){var T=o[_],D=T.instance,F=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=F;try{m(f)}catch(X){au(X)}f.currentTarget=null,m=D}else for(_=0;_<o.length;_++){if(T=o[_],D=T.instance,F=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=F;try{m(f)}catch(X){au(X)}f.currentTarget=null,m=D}}}}function Ie(t,s){var a=s[xa];a===void 0&&(a=s[xa]=new Set);var o=t+"__bubble";a.has(o)||(pv(s,t,2,!1),a.add(o))}function em(t,s,a){var o=0;s&&(o|=4),pv(a,t,o,s)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function tm(t){if(!t[Yu]){t[Yu]=!0,Gl.forEach(function(a){a!=="selectionchange"&&(zT.has(a)||em(a,!1,t),em(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Yu]||(s[Yu]=!0,em("selectionchange",!1,s))}}function pv(t,s,a,o){switch(Hv(s)){case 2:var f=mw;break;case 8:f=pw;break;default:f=gm}a=f.bind(null,s,a,t),f=void 0,!Or||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function nm(t,s,a,o,f){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=vs(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=m=_;continue e}T=T.parentNode}}o=o.return}Ci(function(){var F=m,X=Rn(a),ee=[];e:{var G=Kg.get(t);if(G!==void 0){var K=Ss,ue=t;switch(t){case"keypress":if(Vr(a)===0)break e;case"keydown":case"keyup":K=su;break;case"focusin":ue="focus",K=Ur;break;case"focusout":ue="blur",K=Ur;break;case"beforeblur":case"afterblur":K=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=v;break;case Hg:case Gg:case Yg:K=Xc;break;case Qg:K=w;break;case"scroll":case"scrollend":K=so;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gs;break;case"toggle":case"beforetoggle":K=Se}var ye=(s&4)!==0,et=!ye&&(t==="scroll"||t==="scrollend"),U=ye?G!==null?G+"Capture":null:G;ye=[];for(var M=F,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||U===null||(W=Xn(M,U),W!=null&&ye.push(Mo(M,W,B))),et)break;M=M.return}0<ye.length&&(G=new K(G,ue,null,a,X),ee.push({event:G,listeners:ye}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==eo&&(ue=a.relatedTarget||a.fromElement)&&(vs(ue)||ue[gs]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(ue=a.relatedTarget||a.toElement,K=F,ue=ue?vs(ue):null,ue!==null&&(et=c(ue),ye=ue.tag,ue!==et||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(K=null,ue=F),K!==ue)){if(ye=io,W="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Gs,W="onPointerLeave",U="onPointerEnter",M="pointer"),et=K==null?G:yn(K),B=ue==null?G:yn(ue),G=new ye(W,M+"leave",K,a,X),G.target=et,G.relatedTarget=B,W=null,vs(X)===F&&(ye=new ye(U,M+"enter",ue,a,X),ye.target=B,ye.relatedTarget=et,W=ye),et=W,K&&ue)t:{for(ye=qT,U=K,M=ue,B=0,W=U;W;W=ye(W))B++;W=0;for(var fe=M;fe;fe=ye(fe))W++;for(;0<B-W;)U=ye(U),B--;for(;0<W-B;)M=ye(M),W--;for(;B--;){if(U===M||M!==null&&U===M.alternate){ye=U;break t}U=ye(U),M=ye(M)}ye=null}else ye=null;K!==null&&gv(ee,G,K,ye,!1),ue!==null&&et!==null&&gv(ee,et,ue,ye,!0)}}e:{if(G=F?yn(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Be=kg;else if(Dg(G))if(Og)Be=W1;else{Be=X1;var he=$1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Sa(F.elementType)&&(Be=kg):Be=J1;if(Be&&(Be=Be(t,F))){jg(ee,Be,a,X);break e}he&&he(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Jl(G,"number",G.value)}switch(he=F?yn(F):window,t){case"focusin":(Dg(he)||he.contentEditable==="true")&&(ka=he,Ih=F,co=null);break;case"focusout":co=Ih=ka=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,Bg(ee,a,X);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":Bg(ee,a,X)}var Ce;if(He)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ja?Lr(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Cs&&a.locale!=="ko"&&(ja||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ja&&(Ce=no()):(ws=X,to="value"in ws?ws.value:ws.textContent,ja=!0)),he=Qu(F,ke),0<he.length&&(ke=new As(ke,t,null,a,X),ee.push({event:ke,listeners:he}),Ce?ke.data=Ce:(Ce=Da(a),Ce!==null&&(ke.data=Ce)))),(Ce=Dn?G1(t,a):Y1(t,a))&&(ke=Qu(F,"onBeforeInput"),0<ke.length&&(he=new As("onBeforeInput","beforeinput",null,a,X),ee.push({event:he,listeners:ke}),he.data=Ce)),PT(ee,t,F,a,X)}mv(ee,s)})}function Mo(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Qu(t,s){for(var a=s+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Xn(t,a),f!=null&&o.unshift(Mo(t,f,m)),f=Xn(t,s),f!=null&&o.push(Mo(t,f,m))),t.tag===3)return o;t=t.return}return[]}function qT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gv(t,s,a,o,f){for(var m=s._reactName,_=[];a!==null&&a!==o;){var T=a,D=T.alternate,F=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||F===null||(D=F,f?(F=Xn(a,m),F!=null&&_.unshift(Mo(a,F,D))):f||(F=Xn(a,m),F!=null&&_.push(Mo(a,F,D)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var BT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(BT,`
`).replace(FT,"")}function vv(t,s){return s=yv(s),yv(t)===s}function Ze(t,s,a,o,f,m){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||cn(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&cn(t,""+o);break;case"className":vn(t,"class",o);break;case"tabIndex":vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,o);break;case"style":Zl(t,o,m);break;case"data":if(s!=="object"){vn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Ze(t,s,"name",f.name,f,null),Ze(t,s,"formEncType",f.formEncType,f,null),Ze(t,s,"formMethod",f.formMethod,f,null),Ze(t,s,"formTarget",f.formTarget,f,null)):(Ze(t,s,"encType",f.encType,f,null),Ze(t,s,"method",f.method,f,null),Ze(t,s,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=$n);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Ta(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ta(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qc.get(a)||a,Ta(t,a,o))}}function sm(t,s,a,o,f,m){switch(a){case"style":Zl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?cn(t,o):(typeof o=="number"||typeof o=="bigint")&&cn(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[Ut]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ta(t,a,o)}}}function Qt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,m,_,a,null)}}f&&Ze(t,s,"srcSet",a.srcSet,a,null),o&&Ze(t,s,"src",a.src,a,null);return;case"input":Ie("invalid",t);var T=m=_=f=null,D=null,F=null;for(o in a)if(a.hasOwnProperty(o)){var X=a[o];if(X!=null)switch(o){case"name":f=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":F=X;break;case"value":m=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:Ze(t,s,o,X,a,null)}}Hc(t,m,T,D,F,_,f,!1);return;case"select":Ie("invalid",t),o=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Ze(t,s,f,T,a,null)}s=m,a=_,t.multiple=!!o,s!=null?wi(t,!!o,s,!1):a!=null&&wi(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),m=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Ze(t,s,_,T,a,null)}Si(t,o,f,m);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,s,D,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<Oo.length;o++)Ie(Oo[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(o=a[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,F,o,a,null)}return;default:if(Sa(s)){for(X in a)a.hasOwnProperty(X)&&(o=a[X],o!==void 0&&sm(t,s,X,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Ze(t,s,T,o,a,null))}function HT(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,T=null,D=null,F=null,X=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ee;default:o.hasOwnProperty(K)||Ze(t,s,K,null,o,ee)}}for(var G in o){var K=o[G];if(ee=a[G],o.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":m=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==ee&&Ze(t,s,G,K,o,ee)}}wa(t,_,T,D,F,X,m,f);return;case"select":K=_=T=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":K=D;default:o.hasOwnProperty(m)||Ze(t,s,m,null,o,D)}for(f in o)if(m=o[f],D=a[f],o.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":G=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==D&&Ze(t,s,f,m,o,D)}s=T,a=_,o=K,G!=null?wi(t,!!a,G,!1):!!o!=!!a&&(s!=null?wi(t,!!a,s,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,s,T,null,o,f)}for(_ in o)if(f=o[_],m=a[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Ze(t,s,_,f,o,m)}Gc(t,G,K);return;case"option":for(var ue in a)if(G=a[ue],a.hasOwnProperty(ue)&&G!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Ze(t,s,ue,null,o,G)}for(D in o)if(G=o[D],K=a[D],o.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,s,D,G,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!o.hasOwnProperty(ye)&&Ze(t,s,ye,null,o,G);for(F in o)if(G=o[F],K=a[F],o.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Ze(t,s,F,G,o,K)}return;default:if(Sa(s)){for(var et in a)G=a[et],a.hasOwnProperty(et)&&G!==void 0&&!o.hasOwnProperty(et)&&sm(t,s,et,void 0,o,G);for(X in o)G=o[X],K=a[X],!o.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||sm(t,s,X,G,o,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!o.hasOwnProperty(U)&&Ze(t,s,U,null,o,G);for(ee in o)G=o[ee],K=a[ee],!o.hasOwnProperty(ee)||G===K||G==null&&K==null||Ze(t,s,ee,G,o,K)}function _v(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,_=f.initiatorType,T=f.duration;if(m&&T&&_v(_)){for(_=0,T=f.responseEnd,o+=1;o<a.length;o++){var D=a[o],F=D.startTime;if(F>T)break;var X=D.transferSize,ee=D.initiatorType;X&&_v(ee)&&(D=D.responseEnd,_+=X*(D<T?1:(T-F)/(D-F)))}if(--o,s+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var im=null,rm=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function bv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function am(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lm=null;function YT(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch($T)}:Ev;function $T(t){setTimeout(function(){throw t})}function Ki(t){return t==="head"}function wv(t,s){var a=s,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),al(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Vo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vo(a);for(var m=a.firstChild;m;){var _=m.nextSibling,T=m.nodeName;m[ys]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Vo(t.ownerDocument.body);a=f}while(a);al(s)}function Sv(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function om(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":om(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XT(t,s,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ys])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function JT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Nv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Un(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function WT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Un(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var dm=null;function Av(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Un(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Cv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Rv(t,s,a){switch(s=Ku(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ea(t)}var Ln=new Map,Iv=new Set;function $u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ai=re.d;re.d={f:ZT,r:ew,D:tw,C:nw,L:sw,m:iw,X:aw,S:rw,M:lw};function ZT(){var t=ai.f(),s=zu();return t||s}function ew(t){var s=Cn(t);s!==null&&s.tag===5&&s.type==="form"?Qy(s):ai.r(t)}var sl=typeof document>"u"?null:document;function Dv(t,s,a){var o=sl;if(o&&typeof s=="string"&&s){var f=on(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Iv.has(f)||(Iv.add(f),t={rel:t,crossOrigin:a,href:s},o.querySelector(f)===null&&(s=o.createElement("link"),Qt(s,"link",t),Et(s),o.head.appendChild(s)))}}function tw(t){ai.D(t),Dv("dns-prefetch",t,null)}function nw(t,s){ai.C(t,s),Dv("preconnect",t,s)}function sw(t,s,a){ai.L(t,s,a);var o=sl;if(o&&t&&s){var f='link[rel="preload"][as="'+on(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var m=f;switch(s){case"style":m=il(t);break;case"script":m=rl(t)}Ln.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Ln.set(m,t),o.querySelector(f)!==null||s==="style"&&o.querySelector(Po(m))||s==="script"&&o.querySelector(Uo(m))||(s=o.createElement("link"),Qt(s,"link",t),Et(s),o.head.appendChild(s)))}}function iw(t,s){ai.m(t,s);var a=sl;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=rl(t)}if(!Ln.has(m)&&(t=E({rel:"modulepreload",href:t},s),Ln.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uo(m)))return}o=a.createElement("link"),Qt(o,"link",t),Et(o),a.head.appendChild(o)}}}function rw(t,s,a){ai.S(t,s,a);var o=sl;if(o&&t){var f=_s(o).hoistableStyles,m=il(t);s=s||"default";var _=f.get(m);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(Po(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Ln.get(m))&&hm(t,a);var D=_=o.createElement("link");Et(D),Qt(D,"link",t),D._p=new Promise(function(F,X){D.onload=F,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xu(_,s,o)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(m,_)}}}function aw(t,s){ai.X(t,s);var a=sl;if(a&&t){var o=_s(a).hoistableScripts,f=rl(t),m=o.get(f);m||(m=a.querySelector(Uo(f)),m||(t=E({src:t,async:!0},s),(s=Ln.get(f))&&fm(t,s),m=a.createElement("script"),Et(m),Qt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function lw(t,s){ai.M(t,s);var a=sl;if(a&&t){var o=_s(a).hoistableScripts,f=rl(t),m=o.get(f);m||(m=a.querySelector(Uo(f)),m||(t=E({src:t,async:!0,type:"module"},s),(s=Ln.get(f))&&fm(t,s),m=a.createElement("script"),Et(m),Qt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function jv(t,s,a,o){var f=(f=Ae.current)?$u(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=il(a.href),a=_s(f).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=il(a.href);var m=_s(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Po(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),m||ow(f,t,a,_.state))),s&&o===null)throw Error(r(528,""));return _}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=rl(a),a=_s(f).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function il(t){return'href="'+on(t)+'"'}function Po(t){return'link[rel="stylesheet"]['+t+"]"}function kv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function ow(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Qt(s,"link",a),Et(s),t.head.appendChild(s))}function rl(t){return'[src="'+on(t)+'"]'}function Uo(t){return"script[async]"+t}function Ov(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(o)return s.instance=o,Et(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Qt(o,"style",f),Xu(o,a.precedence,t),s.instance=o;case"stylesheet":f=il(a.href);var m=t.querySelector(Po(f));if(m)return s.state.loading|=4,s.instance=m,Et(m),m;o=kv(a),(f=Ln.get(f))&&hm(o,f),m=(t.ownerDocument||t).createElement("link"),Et(m);var _=m;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(m,"link",o),s.state.loading|=4,Xu(m,a.precedence,t),s.instance=m;case"script":return m=rl(a.src),(f=t.querySelector(Uo(m)))?(s.instance=f,Et(f),f):(o=a,(f=Ln.get(m))&&(o=E({},a),fm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Et(f),Qt(f,"link",o),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Xu(o,a.precedence,t));return s.instance}function Xu(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===s)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function hm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function fm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Ju=null;function Mv(t,s,a){if(Ju===null){var o=new Map,f=Ju=new Map;f.set(a,o)}else f=Ju,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[ys]||m[xt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=t+_;var T=o.get(_);T?T.push(m):o.set(_,[m])}}return o}function Vv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function cw(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function uw(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=il(o.href),m=s.querySelector(Po(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Wu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,Et(m);return}m=s.ownerDocument||s,o=kv(o),(f=Ln.get(f))&&hm(o,f),m=m.createElement("link"),Et(m);var _=m;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Qt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var mm=0;function dw(t,s){return t.stylesheets&&t.count===0&&ed(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&ed(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&mm===0&&(mm=62500*GT());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ed(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>mm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function ed(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,s.forEach(hw,t),Zu=null,Wu.call(t))}function hw(t,s){if(!(s.state.loading&4)){var a=Zu.get(t);if(a)var o=a.get(null);else{a=new Map,Zu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=s.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,f),a.set(_,f),this.count++,o=Wu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Lo={$$typeof:$,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function fw(t,s,a,o,f,m,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ps(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ps(0),this.hiddenUpdates=ps(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Uv(t,s,a,o,f,m,_,T,D,F,X,ee){return t=new fw(t,s,a,_,D,F,X,ee,T),s=1,m===!0&&(s|=24),m=bn(3,null,null,s),t.current=m,m.stateNode=t,s=Yh(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:s},Xh(m),t}function Lv(t){return t?(t=Va,t):Va}function zv(t,s,a,o,f,m){f=Lv(f),o.context===null?o.context=f:o.pendingContext=f,o=Pi(s),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Ui(t,o,s),a!==null&&(mn(a,t,s),yo(a,t,s))}function qv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function pm(t,s){qv(t,s),(t=t.alternate)&&qv(t,s)}function Bv(t){if(t.tag===13||t.tag===31){var s=Br(t,67108864);s!==null&&mn(s,t,67108864),pm(t,67108864)}}function Fv(t){if(t.tag===13||t.tag===31){var s=Sn();s=Ir(s);var a=Br(t,s);a!==null&&mn(a,t,s),pm(t,s)}}var td=!0;function mw(t,s,a,o){var f=J.T;J.T=null;var m=re.p;try{re.p=2,gm(t,s,a,o)}finally{re.p=m,J.T=f}}function pw(t,s,a,o){var f=J.T;J.T=null;var m=re.p;try{re.p=8,gm(t,s,a,o)}finally{re.p=m,J.T=f}}function gm(t,s,a,o){if(td){var f=ym(o);if(f===null)nm(t,s,o,nd,a),Gv(t,o);else if(yw(f,t,s,a,o))o.stopPropagation();else if(Gv(t,o),s&4&&-1<gw.indexOf(t)){for(;f!==null;){var m=Cn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=fs(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-ft(_);T.entanglements[1]|=D,_&=~D}js(m),(Ge&6)===0&&(Uu=rn()+500,ko(0))}}break;case 31:case 13:T=Br(m,2),T!==null&&mn(T,m,2),zu(),pm(m,2)}if(m=ym(o),m===null&&nm(t,s,o,nd,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else nm(t,s,o,null,a)}}function ym(t){return t=Rn(t),vm(t)}var nd=null;function vm(t){if(nd=null,t=vs(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return nd=t,null}function Hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case ql:return 2;case Bl:return 8;case Ei:case Th:return 32;case Oc:return 268435456;default:return 32}default:return 32}}var _m=!1,$i=null,Xi=null,Ji=null,zo=new Map,qo=new Map,Wi=[],gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(t,s){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":zo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(s.pointerId)}}function Bo(t,s,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Cn(s),s!==null&&Bv(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function yw(t,s,a,o,f){switch(s){case"focusin":return $i=Bo($i,t,s,a,o,f),!0;case"dragenter":return Xi=Bo(Xi,t,s,a,o,f),!0;case"mouseover":return Ji=Bo(Ji,t,s,a,o,f),!0;case"pointerover":var m=f.pointerId;return zo.set(m,Bo(zo.get(m)||null,t,s,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,qo.set(m,Bo(qo.get(m)||null,t,s,a,o,f)),!0}return!1}function Yv(t){var s=vs(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){Fv(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Qn(t.priority,function(){Fv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=ym(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);eo=o,a.target.dispatchEvent(o),eo=null}else return s=Cn(a),s!==null&&Bv(s),t.blockedOn=a,!1;s.shift()}return!0}function Qv(t,s,a){sd(t)&&a.delete(s)}function vw(){_m=!1,$i!==null&&sd($i)&&($i=null),Xi!==null&&sd(Xi)&&(Xi=null),Ji!==null&&sd(Ji)&&(Ji=null),zo.forEach(Qv),qo.forEach(Qv)}function id(t,s){t.blockedOn===s&&(t.blockedOn=null,_m||(_m=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vw)))}var rd=null;function Kv(t){rd!==t&&(rd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rd===t&&(rd=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],f=t[s+2];if(typeof o!="function"){if(vm(o||a)===null)continue;break}var m=Cn(a);m!==null&&(t.splice(s,3),s-=3,yf(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function al(t){function s(D){return id(D,t)}$i!==null&&id($i,t),Xi!==null&&id(Xi,t),Ji!==null&&id(Ji,t),zo.forEach(s),qo.forEach(s);for(var a=0;a<Wi.length;a++){var o=Wi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)Yv(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],_=f[Ut]||null;if(typeof m=="function")_||Kv(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Ut]||null)T=_.formAction;else if(vm(f)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Kv(a)}}}function $v(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function bm(t){this._internalRoot=t}ad.prototype.render=bm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Sn();zv(a,o,t,s,null,null)},ad.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;zv(t.current,2,null,t,null,null),zu(),s[gs]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var s=zc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Wi.length&&s!==0&&s<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&Yv(t)}};var Xv=e.version;if(Xv!=="19.2.0")throw Error(r(527,Xv,"19.2.0"));re.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var _w={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Gn=ld.inject(_w),Bt=ld}catch{}}return Ho.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",f=s0,m=i0,_=r0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Uv(t,1,!1,null,null,a,o,null,f,m,_,$v),t[gs]=s.current,tm(t),new bm(s)},Ho.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,f="",m=s0,_=i0,T=r0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=Uv(t,1,!0,s,a??null,o,f,D,m,_,T,$v),s.context=Lv(null),a=s.current,o=Sn(),o=Ir(o),f=Pi(o),f.callback=null,Ui(a,f,o),a=o,s.current.lanes=a,Cr(s,a),js(s),t[gs]=s.current,tm(t),new ad(s)},Ho.version="19.2.0",Ho}var a_;function Rw(){if(a_)return Tm.exports;a_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=Cw(),Tm.exports}var Iw=Rw();var l_="popstate";function Dw(i={}){function e(r,l){let{pathname:c,search:h,hash:p}=r.location;return Gm("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:lc(l)}return kw(e,n,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Hn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jw(){return Math.random().toString(36).substring(2,10)}function o_(i,e){return{usr:i.state,key:i.key,idx:e}}function Gm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?wl(e):e,state:n,key:e&&e.key||r||jw()}}function lc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function wl(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function kw(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,h=l.history,p="POP",y=null,g=x();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let R=x(),Y=R==null?null:R-g;g=R,y&&y({action:p,location:H.location,delta:Y})}function S(R,Y){p="PUSH";let Z=Gm(H.location,R,Y);g=x()+1;let $=o_(Z,g),ge=H.createHref(Z);try{h.pushState($,"",ge)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;l.location.assign(ge)}c&&y&&y({action:p,location:H.location,delta:1})}function j(R,Y){p="REPLACE";let Z=Gm(H.location,R,Y);g=x();let $=o_(Z,g),ge=H.createHref(Z);h.replaceState($,"",ge),c&&y&&y({action:p,location:H.location,delta:0})}function q(R){return Ow(R)}let H={get action(){return p},get location(){return i(l,h)},listen(R){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(l_,E),y=R,()=>{l.removeEventListener(l_,E),y=null}},createHref(R){return e(l,R)},createURL:q,encodeLocation(R){let Y=q(R);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:j,go(R){return h.go(R)}};return H}function Ow(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:lc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $b(i,e,n="/"){return Mw(i,e,n,!1)}function Mw(i,e,n,r){let l=typeof e=="string"?wl(e):e,c=fi(l.pathname||"/",n);if(c==null)return null;let h=Xb(i);Vw(h);let p=null;for(let y=0;p==null&&y<h.length;++y){let g=Qw(c);p=Gw(h[y],g,r)}return p}function Xb(i,e=[],n=[],r="",l=!1){let c=(h,p,y=l,g)=>{let x={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&y)return;ct(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=ui([r,x.relativePath]),S=n.concat(x);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Xb(h.children,e,S,E,y)),!(h.path==null&&!h.index)&&e.push({path:E,score:Fw(E,h.index),routesMeta:S})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let y of Jb(h.path))c(h,p,!0,y)}),e}function Jb(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let h=Jb(r.join("/")),p=[];return p.push(...h.map(y=>y===""?c:[c,y].join("/"))),l&&p.push(...h),p.map(y=>i.startsWith("/")&&y===""?"/":y)}function Vw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Hw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Pw=/^:[\w-]+$/,Uw=3,Lw=2,zw=1,qw=10,Bw=-2,c_=i=>i==="*";function Fw(i,e){let n=i.split("/"),r=n.length;return n.some(c_)&&(r+=Bw),e&&(r+=Lw),n.filter(l=>!c_(l)).reduce((l,c)=>l+(Pw.test(c)?Uw:c===""?zw:qw),r)}function Hw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function Gw(i,e,n=!1){let{routesMeta:r}=i,l={},c="/",h=[];for(let p=0;p<r.length;++p){let y=r[p],g=p===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Ad({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},x),S=y.route;if(!E&&g&&n&&!r[r.length-1].route.index&&(E=Ad({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},x)),!E)return null;Object.assign(l,E.params),h.push({params:l,pathname:ui([c,E.pathname]),pathnameBase:Ww(ui([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=ui([c,E.pathnameBase]))}return h}function Ad(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=Yw(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((g,{paramName:x,isOptional:E},S)=>{if(x==="*"){let q=p[S]||"";h=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const j=p[S];return E&&!j?g[x]=void 0:g[x]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:i}}function Yw(i,e=!1,n=!0){Hn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Qw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$w=i=>Kw.test(i);function Xw(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?wl(i):i,c;if(n)if($w(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?c=u_(n.substring(1),"/"):c=u_(n,e)}else c=e;return{pathname:c,search:Zw(r),hash:e2(l)}}function u_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Am(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tp(i){let e=Jw(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function wp(i,e,n,r=!1){let l;typeof i=="string"?l=wl(i):(l={...i},ct(!l.pathname||!l.pathname.includes("?"),Am("?","pathname","search",l)),ct(!l.pathname||!l.pathname.includes("#"),Am("#","pathname","hash",l)),ct(!l.search||!l.search.includes("#"),Am("#","search","hash",l)));let c=i===""||l.pathname==="",h=c?"/":l.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;l.pathname=S.join("/")}p=E>=0?e[E]:"/"}let y=Xw(l,p),g=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||x)&&(y.pathname+="/"),y}var ui=i=>i.join("/").replace(/\/\/+/g,"/"),Ww=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,e2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function t2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Wb=["POST","PUT","PATCH","DELETE"];new Set(Wb);var n2=["GET",...Wb];new Set(n2);var Sl=P.createContext(null);Sl.displayName="DataRouter";var eh=P.createContext(null);eh.displayName="DataRouterState";P.createContext(!1);var Zb=P.createContext({isTransitioning:!1});Zb.displayName="ViewTransition";var s2=P.createContext(new Map);s2.displayName="Fetchers";var i2=P.createContext(null);i2.displayName="Await";var os=P.createContext(null);os.displayName="Navigation";var vc=P.createContext(null);vc.displayName="Location";var cs=P.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var Sp=P.createContext(null);Sp.displayName="RouteError";function r2(i,{relative:e}={}){ct(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(os),{hash:l,pathname:c,search:h}=bc(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ui([n,c])),r.createHref({pathname:p,search:h,hash:l})}function Nl(){return P.useContext(vc)!=null}function _r(){return ct(Nl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(vc).location}var ex="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tx(i){P.useContext(os).static||P.useLayoutEffect(i)}function _c(){let{isDataRoute:i}=P.useContext(cs);return i?b2():a2()}function a2(){ct(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Sl),{basename:e,navigator:n}=P.useContext(os),{matches:r}=P.useContext(cs),{pathname:l}=_r(),c=JSON.stringify(Tp(r)),h=P.useRef(!1);return tx(()=>{h.current=!0}),P.useCallback((y,g={})=>{if(Hn(h.current,ex),!h.current)return;if(typeof y=="number"){n.go(y);return}let x=wp(y,JSON.parse(c),l,g.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ui([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,c,l,i])}var l2=P.createContext(null);function o2(i){let e=P.useContext(cs).outlet;return P.useMemo(()=>e&&P.createElement(l2.Provider,{value:i},e),[e,i])}function bc(i,{relative:e}={}){let{matches:n}=P.useContext(cs),{pathname:r}=_r(),l=JSON.stringify(Tp(n));return P.useMemo(()=>wp(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function c2(i,e){return nx(i,e)}function nx(i,e,n,r,l){ct(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(os),{matches:h}=P.useContext(cs),p=h[h.length-1],y=p?p.params:{},g=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let Z=E&&E.path||"";sx(g,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=_r(),j;if(e){let Z=typeof e=="string"?wl(e):e;ct(x==="/"||Z.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),j=Z}else j=S;let q=j.pathname||"/",H=q;if(x!=="/"){let Z=x.replace(/^\//,"").split("/");H="/"+q.replace(/^\//,"").split("/").slice(Z.length).join("/")}let R=$b(i,{pathname:H});Hn(E||R!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Hn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=m2(R&&R.map(Z=>Object.assign({},Z,{params:Object.assign({},y,Z.params),pathname:ui([x,c.encodeLocation?c.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?x:ui([x,c.encodeLocation?c.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),h,n,r,l);return e&&Y?P.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},Y):Y}function u2(){let i=_2(),e=t2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:l},n):null,h)}var d2=P.createElement(u2,null),h2=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?P.createElement(cs.Provider,{value:this.props.routeContext},P.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f2({routeContext:i,match:e,children:n}){let r=P.useContext(Sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(cs.Provider,{value:i},n)}function m2(i,e=[],n=null,r=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,h=n?.errors;if(h!=null){let x=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ct(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,y=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=x),E.route.id){let{loaderData:S,errors:j}=n,q=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!j||j[E.route.id]===void 0);if(E.route.lazy||q){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let g=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:E})}:void 0;return c.reduceRight((x,E,S)=>{let j,q=!1,H=null,R=null;n&&(j=h&&E.route.id?h[E.route.id]:void 0,H=E.route.errorElement||d2,p&&(y<0&&S===0?(sx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,R=null):y===S&&(q=!0,R=E.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,S+1)),Z=()=>{let $;return j?$=H:q?$=R:E.route.Component?$=P.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=x,P.createElement(f2,{match:E,routeContext:{outlet:x,matches:Y,isDataRoute:n!=null},children:$})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(h2,{location:n.location,revalidation:n.revalidation,component:H,error:j,children:Z(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:g}):Z()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p2(i){let e=P.useContext(Sl);return ct(e,Np(i)),e}function g2(i){let e=P.useContext(eh);return ct(e,Np(i)),e}function y2(i){let e=P.useContext(cs);return ct(e,Np(i)),e}function Ap(i){let e=y2(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function v2(){return Ap("useRouteId")}function _2(){let i=P.useContext(Sp),e=g2("useRouteError"),n=Ap("useRouteError");return i!==void 0?i:e.errors?.[n]}function b2(){let{router:i}=p2("useNavigate"),e=Ap("useNavigate"),n=P.useRef(!1);return tx(()=>{n.current=!0}),P.useCallback(async(l,c={})=>{Hn(n.current,ex),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var d_={};function sx(i,e,n){!e&&!d_[i]&&(d_[i]=!0,Hn(!1,n))}P.memo(x2);function x2({routes:i,future:e,state:n,unstable_onError:r}){return nx(i,void 0,n,r,e)}function h_({to:i,replace:e,state:n,relative:r}){ct(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=P.useContext(os);Hn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(cs),{pathname:h}=_r(),p=_c(),y=wp(i,Tp(c),h,r==="path"),g=JSON.stringify(y);return P.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:r})},[p,g,r,e,n]),null}function E2(i){return o2(i.context)}function Zt(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T2({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1}){ct(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof n=="string"&&(n=wl(n));let{pathname:y="/",search:g="",hash:x="",state:E=null,key:S="default"}=n,j=P.useMemo(()=>{let q=fi(y,h);return q==null?null:{location:{pathname:q,search:g,hash:x,state:E,key:S},navigationType:r}},[h,y,g,x,E,S,r]);return Hn(j!=null,`<Router basename="${h}"> is not able to match the URL "${y}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(os.Provider,{value:p},P.createElement(vc.Provider,{children:e,value:j}))}function w2({children:i,location:e}){return c2(Ym(i),e)}function Ym(i,e=[]){let n=[];return P.Children.forEach(i,(r,l)=>{if(!P.isValidElement(r))return;let c=[...e,l];if(r.type===P.Fragment){n.push.apply(n,Ym(r.props.children,c));return}ct(r.type===Zt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Ym(r.props.children,c)),n.push(h)}),n}var pd="get",gd="application/x-www-form-urlencoded";function th(i){return i!=null&&typeof i.tagName=="string"}function S2(i){return th(i)&&i.tagName.toLowerCase()==="button"}function N2(i){return th(i)&&i.tagName.toLowerCase()==="form"}function A2(i){return th(i)&&i.tagName.toLowerCase()==="input"}function C2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function R2(i,e){return i.button===0&&(!e||e==="_self")&&!C2(i)}var od=null;function I2(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(i){return i!=null&&!D2.has(i)?(Hn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gd}"`),null):i}function j2(i,e){let n,r,l,c,h;if(N2(i)){let p=i.getAttribute("action");r=p?fi(p,e):null,n=i.getAttribute("method")||pd,l=Cm(i.getAttribute("enctype"))||gd,c=new FormData(i)}else if(S2(i)||A2(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||p.getAttribute("action");if(r=y?fi(y,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||pd,l=Cm(i.getAttribute("formenctype"))||Cm(p.getAttribute("enctype"))||gd,c=new FormData(p,i),!I2()){let{name:g,type:x,value:E}=i;if(x==="image"){let S=g?`${g}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else g&&c.append(g,E)}}else{if(th(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pd,r=null,l=gd,h=i}return c&&l==="text/plain"&&(h=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function k2(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&fi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function O2(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function V2(i,e,n){let r=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await O2(c,n);return h.links?h.links():[]}return[]}));return z2(r.flat(1).filter(M2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function f_(i,e,n,r,l,c){let h=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,p=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,g)=>h(y,g)||p(y,g)):c==="data"?e.filter((y,g)=>{let x=r.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(h(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function P2(i,e,{includeHydrateFallback:n}={}){return U2(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function U2(i){return[...new Set(i)]}function L2(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function z2(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let c=JSON.stringify(L2(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function ix(){let i=P.useContext(Sl);return Cp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function q2(){let i=P.useContext(eh);return Cp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Rp=P.createContext(void 0);Rp.displayName="FrameworkContext";function rx(){let i=P.useContext(Rp);return Cp(i,"You must render this element inside a <HydratedRouter> element"),i}function B2(i,e){let n=P.useContext(Rp),[r,l]=P.useState(!1),[c,h]=P.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:x,onTouchStart:E}=e,S=P.useRef(null);P.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=Y=>{Y.forEach(Z=>{h(Z.isIntersecting)})},R=new IntersectionObserver(H,{threshold:.5});return S.current&&R.observe(S.current),()=>{R.disconnect()}}},[i]),P.useEffect(()=>{if(r){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[r]);let j=()=>{l(!0)},q=()=>{l(!1),h(!1)};return n?i!=="intent"?[c,S,{}]:[c,S,{onFocus:Go(p,j),onBlur:Go(y,q),onMouseEnter:Go(g,j),onMouseLeave:Go(x,q),onTouchStart:Go(E,j)}]:[!1,S,{}]}function Go(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function F2({page:i,...e}){let{router:n}=ix(),r=P.useMemo(()=>$b(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?P.createElement(G2,{page:i,matches:r,...e}):null}function H2(i){let{manifest:e,routeModules:n}=rx(),[r,l]=P.useState([]);return P.useEffect(()=>{let c=!1;return V2(i,e,n).then(h=>{c||l(h)}),()=>{c=!0}},[i,e,n]),r}function G2({page:i,matches:e,...n}){let r=_r(),{manifest:l,routeModules:c}=rx(),{basename:h}=ix(),{loaderData:p,matches:y}=q2(),g=P.useMemo(()=>f_(i,e,y,l,r,"data"),[i,e,y,l,r]),x=P.useMemo(()=>f_(i,e,y,l,r,"assets"),[i,e,y,l,r]),E=P.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let q=new Set,H=!1;if(e.forEach(Y=>{let Z=l.routes[Y.route.id];!Z||!Z.hasLoader||(!g.some($=>$.route.id===Y.route.id)&&Y.route.id in p&&c[Y.route.id]?.shouldRevalidate||Z.hasClientLoader?H=!0:q.add(Y.route.id))}),q.size===0)return[];let R=k2(i,h,"data");return H&&q.size>0&&R.searchParams.set("_routes",e.filter(Y=>q.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[R.pathname+R.search]},[h,p,r,l,g,e,i,c]),S=P.useMemo(()=>P2(x,l),[x,l]),j=H2(x);return P.createElement(P.Fragment,null,E.map(q=>P.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),S.map(q=>P.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),j.map(({key:q,link:H})=>P.createElement("link",{key:q,nonce:n.nonce,...H})))}function Y2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ax&&(window.__reactRouterVersion="7.9.6")}catch{}function Q2({basename:i,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=Dw({window:n,v5Compat:!0}));let l=r.current,[c,h]=P.useState({action:l.action,location:l.location}),p=P.useCallback(y=>{P.startTransition(()=>h(y))},[h]);return P.useLayoutEffect(()=>l.listen(p),[l,p]),P.createElement(T2,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:l})}var lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,li=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:h,state:p,target:y,to:g,preventScrollReset:x,viewTransition:E,...S},j){let{basename:q}=P.useContext(os),H=typeof g=="string"&&lx.test(g),R,Y=!1;if(typeof g=="string"&&H&&(R=g,ax))try{let A=new URL(window.location.href),k=g.startsWith("//")?new URL(A.protocol+g):new URL(g),O=fi(k.pathname,q);k.origin===A.origin&&O!=null?g=O+k.search+k.hash:Y=!0}catch{Hn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=r2(g,{relative:l}),[$,ge,de]=B2(r,S),Ee=J2(g,{replace:h,state:p,target:y,preventScrollReset:x,relative:l,viewTransition:E});function C(A){e&&e(A),A.defaultPrevented||Ee(A)}let N=P.createElement("a",{...S,...de,href:R||Z,onClick:Y||c?e:C,ref:Y2(j,ge),target:y,"data-discover":!H&&n==="render"?"true":void 0});return $&&!H?P.createElement(P.Fragment,null,N,P.createElement(F2,{page:Z})):N});li.displayName="Link";var K2=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:h,viewTransition:p,children:y,...g},x){let E=bc(h,{relative:g.relative}),S=_r(),j=P.useContext(eh),{navigator:q,basename:H}=P.useContext(os),R=j!=null&&nS(E)&&p===!0,Y=q.encodeLocation?q.encodeLocation(E).pathname:E.pathname,Z=S.pathname,$=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),$=$?$.toLowerCase():null,Y=Y.toLowerCase()),$&&H&&($=fi($,H)||$);const ge=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let de=Z===Y||!l&&Z.startsWith(Y)&&Z.charAt(ge)==="/",Ee=$!=null&&($===Y||!l&&$.startsWith(Y)&&$.charAt(Y.length)==="/"),C={isActive:de,isPending:Ee,isTransitioning:R},N=de?e:void 0,A;typeof r=="function"?A=r(C):A=[r,de?"active":null,Ee?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(C):c;return P.createElement(li,{...g,"aria-current":N,className:A,ref:x,style:k,to:h,viewTransition:p},typeof y=="function"?y(C):y)});K2.displayName="NavLink";var $2=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:h=pd,action:p,onSubmit:y,relative:g,preventScrollReset:x,viewTransition:E,...S},j)=>{let q=eS(),H=tS(p,{relative:g}),R=h.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&lx.test(p),Z=$=>{if(y&&y($),$.defaultPrevented)return;$.preventDefault();let ge=$.nativeEvent.submitter,de=ge?.getAttribute("formmethod")||h;q(ge||$.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:l,state:c,relative:g,preventScrollReset:x,viewTransition:E})};return P.createElement("form",{ref:j,method:R,action:H,onSubmit:r?y:Z,...S,"data-discover":!Y&&i==="render"?"true":void 0})});$2.displayName="Form";function X2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ox(i){let e=P.useContext(Sl);return ct(e,X2(i)),e}function J2(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:h}={}){let p=_c(),y=_r(),g=bc(i,{relative:c});return P.useCallback(x=>{if(R2(x,e)){x.preventDefault();let E=n!==void 0?n:lc(y)===lc(g);p(i,{replace:E,state:r,preventScrollReset:l,relative:c,viewTransition:h})}},[y,p,g,n,r,e,i,l,c,h])}var W2=0,Z2=()=>`__${String(++W2)}__`;function eS(){let{router:i}=ox("useSubmit"),{basename:e}=P.useContext(os),n=v2();return P.useCallback(async(r,l={})=>{let{action:c,method:h,encType:p,formData:y,body:g}=j2(r,e);if(l.navigate===!1){let x=l.fetcherKey||Z2();await i.fetch(x,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||h,formEncType:l.encType||p,flushSync:l.flushSync})}else await i.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||h,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function tS(i,{relative:e}={}){let{basename:n}=P.useContext(os),r=P.useContext(cs);ct(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...bc(i||".",{relative:e})},h=_r();if(i==null){c.search=h.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(x=>x==="")){p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ui([n,c.pathname])),lc(c)}function nS(i,{relative:e}={}){let n=P.useContext(Zb);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ox("useViewTransitionState"),l=bc(i,{relative:e});if(!n.isTransitioning)return!1;let c=fi(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=fi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ad(l.pathname,h)!=null||Ad(l.pathname,c)!=null}const sS=()=>{};var m_={};const cx=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},iS=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[n++],h=i[n++],p=i[n++],y=((l&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],h=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const c=i[l],h=l+1<i.length,p=h?i[l+1]:0,y=l+2<i.length,g=y?i[l+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|g>>6,j=g&63;y||(j=64,h||(S=64)),r.push(n[x],n[E],n[S],n[j])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(cx(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):iS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const c=n[i.charAt(l++)],p=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const E=l<i.length?n[i.charAt(l)]:64;if(++l,c==null||p==null||g==null||E==null)throw new rS;const S=c<<2|p>>4;if(r.push(S),g!==64){const j=p<<4&240|g>>2;if(r.push(j),E!==64){const q=g<<6&192|E;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(i){const e=cx(i);return ux.encodeByteArray(e,!0)},Cd=function(i){return aS(i).replace(/\./g,"")},dx=function(i){try{return ux.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oS=()=>lS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof m_>"u")return;const i=m_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&dx(i[1]);return e&&JSON.parse(e)},nh=()=>{try{return sS()||oS()||cS()||uS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hx=i=>nh()?.emulatorHosts?.[i],dS=i=>{const e=hx(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fx=()=>nh()?.config,mx=i=>nh()?.[`_${i}`];class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Al(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function px(i){return(await fetch(i,{credentials:"include"})).ok}function fS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Cd(JSON.stringify(n)),Cd(JSON.stringify(h)),""].join(".")}const ec={};function mS(){const i={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?i.emulator.push(e):i.prod.push(e);return i}function pS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let p_=!1;function gx(i,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||ec[i]===e||ec[i]||p_)return;ec[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=mS().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{p_=!0,h()},S}function x(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=pS(r),j=n("text"),q=document.getElementById(j)||document.createElement("span"),H=n("learnmore"),R=document.getElementById(H)||document.createElement("a"),Y=n("preprendIcon"),Z=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;p($),x(R,H);const ge=g();y(Z,Y),$.append(Z,q,R,ge),document.body.appendChild($)}c?(q.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function yS(){const i=nh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xS(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ES(){return!yS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const SS="FirebaseError";class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SS,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?NS(c,r):"Error",p=`${this.serviceName}: ${h} (${l}).`;return new vi(l,p,r)}}function NS(i,e){return i.replace(AS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const AS=/\{\$([^}]+)}/g;function CS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ra(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=i[l],h=e[l];if(g_(c)&&g_(h)){if(!ra(c,h))return!1}else if(c!==h)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function g_(i){return i!==null&&typeof i=="object"}function Ec(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qo(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ko(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function RS(i,e){const n=new IS(i,e);return n.subscribe.bind(n)}class IS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Rm),l.error===void 0&&(l.error=Rm),l.complete===void 0&&(l.complete=Rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Rm(){}function sn(i){return i&&i._delegate?i._delegate:i}class aa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class jS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OS(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&h.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(i){return i===ta?void 0:i}function OS(i){return i.instantiationMode==="EAGER"}class MS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const VS={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},PS=Oe.INFO,US={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},LS=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=US[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=PS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const zS=(i,e)=>e.some(n=>i instanceof n);let y_,v_;function qS(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,Qm=new WeakMap,vx=new WeakMap,Im=new WeakMap,Dp=new WeakMap;function FS(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(ar(i.result)),l()},h=()=>{r(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&yx.set(n,i)}).catch(()=>{}),Dp.set(e,i),e}function HS(i){if(Qm.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),l()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Qm.set(i,e)}let Km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||vx.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function GS(i){Km=i(Km)}function YS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Dm(this),e,...n);return vx.set(r,e.sort?e.sort():[e]),ar(r)}:BS().includes(i)?function(...e){return i.apply(Dm(this),e),ar(yx.get(this))}:function(...e){return ar(i.apply(Dm(this),e))}}function QS(i){return typeof i=="function"?YS(i):(i instanceof IDBTransaction&&HS(i),zS(i,qS())?new Proxy(i,Km):i)}function ar(i){if(i instanceof IDBRequest)return FS(i);if(Im.has(i))return Im.get(i);const e=QS(i);return e!==i&&(Im.set(i,e),Dp.set(e,i)),e}const Dm=i=>Dp.get(i);function KS(i,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const h=indexedDB.open(i,e),p=ar(h);return r&&h.addEventListener("upgradeneeded",y=>{r(ar(h.result),y.oldVersion,y.newVersion,ar(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const $S=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],jm=new Map;function __(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=XS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||$S.includes(n)))return;const c=async function(h,...p){const y=this.transaction(h,l?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),l&&y.done]))[0]};return jm.set(e,c),c}GS(i=>({...i,get:(e,n,r)=>__(e,n)||i.get(e,n,r),has:(e,n)=>!!__(e,n)||i.has(e,n)}));class JS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WS(i){return i.getComponent()?.type==="VERSION"}const $m="@firebase/app",b_="0.14.6";const mi=new Ip("@firebase/app"),ZS="@firebase/app-compat",eN="@firebase/analytics-compat",tN="@firebase/analytics",nN="@firebase/app-check-compat",sN="@firebase/app-check",iN="@firebase/auth",rN="@firebase/auth-compat",aN="@firebase/database",lN="@firebase/data-connect",oN="@firebase/database-compat",cN="@firebase/functions",uN="@firebase/functions-compat",dN="@firebase/installations",hN="@firebase/installations-compat",fN="@firebase/messaging",mN="@firebase/messaging-compat",pN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",vN="@firebase/remote-config-compat",_N="@firebase/storage",bN="@firebase/storage-compat",xN="@firebase/firestore",EN="@firebase/ai",TN="@firebase/firestore-compat",wN="firebase",SN="12.6.0";const Xm="[DEFAULT]",NN={[$m]:"fire-core",[ZS]:"fire-core-compat",[tN]:"fire-analytics",[eN]:"fire-analytics-compat",[sN]:"fire-app-check",[nN]:"fire-app-check-compat",[iN]:"fire-auth",[rN]:"fire-auth-compat",[aN]:"fire-rtdb",[lN]:"fire-data-connect",[oN]:"fire-rtdb-compat",[cN]:"fire-fn",[uN]:"fire-fn-compat",[dN]:"fire-iid",[hN]:"fire-iid-compat",[fN]:"fire-fcm",[mN]:"fire-fcm-compat",[pN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[vN]:"fire-rc-compat",[_N]:"fire-gcs",[bN]:"fire-gcs-compat",[xN]:"fire-fst",[TN]:"fire-fst-compat",[EN]:"fire-vertex","fire-js":"fire-js",[wN]:"fire-js-all"};const Rd=new Map,AN=new Map,Jm=new Map;function x_(i,e){try{i.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function yl(i){const e=i.name;if(Jm.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,i);for(const n of Rd.values())x_(n,i);for(const n of AN.values())x_(n,i);return!0}function jp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function zn(i){return i==null?!1:i.settings!==void 0}const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new xc("app","Firebase",CN);class RN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Cl=SN;function _x(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Xm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(n||(n=fx()),!n)throw lr.create("no-options");const c=Rd.get(l);if(c){if(ra(n,c.options)&&ra(r,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const h=new MS(l);for(const y of Jm.values())h.addComponent(y);const p=new RN(n,r,h);return Rd.set(l,p),p}function bx(i=Xm){const e=Rd.get(i);if(!e&&i===Xm&&fx())return _x();if(!e)throw lr.create("no-app",{appName:i});return e}function or(i,e,n){let r=NN[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${r}" with version "${e}":`];l&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(h.join(" "));return}yl(new aa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const IN="firebase-heartbeat-database",DN=1,oc="firebase-heartbeat-store";let km=null;function xx(){return km||(km=KS(IN,DN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(i=>{throw lr.create("idb-open",{originalErrorMessage:i.message})})),km}async function jN(i){try{const n=(await xx()).transaction(oc),r=await n.objectStore(oc).get(Ex(i));return await n.done,r}catch(e){if(e instanceof vi)mi.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e?.message});mi.warn(n.message)}}}async function E_(i,e){try{const r=(await xx()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,Ex(i)),await r.done}catch(n){if(n instanceof vi)mi.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n?.message});mi.warn(r.message)}}}function Ex(i){return`${i.name}!${i.options.appId}`}const kN=1024,ON=30;class MN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ON){const l=UN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T_(),{heartbeatsToSend:n,unsentEntries:r}=VN(this._heartbeatsCache.heartbeats),l=Cd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return mi.warn(e),""}}}function T_(){return new Date().toISOString().substring(0,10)}function VN(i,e=kN){const n=[];let r=i.slice();for(const l of i){const c=n.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),w_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),w_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w_(i){return Cd(JSON.stringify({version:2,heartbeats:i})).length}function UN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function LN(i){yl(new aa("platform-logger",e=>new JS(e),"PRIVATE")),yl(new aa("heartbeat",e=>new MN(e),"PRIVATE")),or($m,b_,i),or($m,b_,"esm2020"),or("fire-js","")}LN("");var zN="firebase",qN="12.6.0";or(zN,qN,"app");function Tx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BN=Tx,wx=new xc("auth","Firebase",Tx());const Id=new Ip("@firebase/auth");function FN(i,...e){Id.logLevel<=Oe.WARN&&Id.warn(`Auth (${Cl}): ${i}`,...e)}function yd(i,...e){Id.logLevel<=Oe.ERROR&&Id.error(`Auth (${Cl}): ${i}`,...e)}function as(i,...e){throw kp(i,...e)}function Os(i,...e){return kp(i,...e)}function Sx(i,e,n){const r={...BN(),[e]:n};return new xc("auth","Firebase",r).create(e,{appName:i.name})}function di(i){return Sx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return wx.create(i,...e)}function ve(i,e,...n){if(!i)throw kp(e,...n)}function oi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yd(e),new Error(e)}function pi(i,e){i||oi(e)}function Wm(){return typeof self<"u"&&self.location?.href||""}function HN(){return S_()==="http:"||S_()==="https:"}function S_(){return typeof self<"u"&&self.location?.protocol||null}function GN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HN()||_S()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=gS()||bS()}get(){return GN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(i,e){pi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Nx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new Tc(3e4,6e4);function br(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function xr(i,e,n,r,l={}){return Ax(i,l,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const p=Ec({key:i.config.apiKey,...h}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:y,...c};return vS()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Al(i.emulatorConfig.host)&&(g.credentials="include"),Nx.fetch()(await Cx(i,i.config.apiHost,n,p),g)})}async function Ax(i,e,n){i._canInitEmulator=!1;const r={...QN,...e};try{const l=new JN(i),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw cd(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(i,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw cd(i,"email-already-in-use",h);if(y==="USER_DISABLED")throw cd(i,"user-disabled",h);const x=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Sx(i,x,g);as(i,x)}}catch(l){if(l instanceof vi)throw l;as(i,"network-request-failed",{message:String(l)})}}async function wc(i,e,n,r,l={}){const c=await xr(i,e,n,r,l);return"mfaPendingCredential"in c&&as(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Cx(i,e,n,r){const l=`${e}${n}?${r}`,c=i,h=c.config.emulator?Op(i.config,l):`${i.config.apiScheme}://${l}`;return KN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function XN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Os(this.auth,"network-request-failed")),$N.get())})}}function cd(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Os(i,e,r);return l.customData._tokenResponse=n,l}function N_(i){return i!==void 0&&i.enterprise!==void 0}class WN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZN(i,e){return xr(i,"GET","/v2/recaptchaConfig",br(i,e))}async function eA(i,e){return xr(i,"POST","/v1/accounts:delete",e)}async function Dd(i,e){return xr(i,"POST","/v1/accounts:lookup",e)}function tc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tA(i,e=!1){const n=sn(i),r=await n.getIdToken(e),l=Mp(r);ve(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c?.sign_in_provider;return{claims:l,token:r,authTime:tc(Om(l.auth_time)),issuedAtTime:tc(Om(l.iat)),expirationTime:tc(Om(l.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Om(i){return Number(i)*1e3}function Mp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const l=dx(n);return l?JSON.parse(l):(yd("Failed to decode base64 JWT payload"),null)}catch(l){return yd("Caught error parsing JWT payload as JSON",l?.toString()),null}}function A_(i){const e=Mp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cc(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vi&&nA(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function nA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class sA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jd(i){const e=i.auth,n=await i.getIdToken(),r=await cc(i,Dd(e,{idToken:n}));ve(r?.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?Rx(l.providerUserInfo):[],h=rA(i.providerData,c),p=i.isAnonymous,y=!(i.email&&l.passwordHash)&&!h?.length,g=p?y:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Zm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(i,x)}async function iA(i){const e=sn(i);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rA(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Rx(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function aA(i,e){const n=await Ax(i,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,h=await Cx(i,l,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return i.emulatorConfig&&Al(i.emulatorConfig.host)&&(y.credentials="include"),Nx.fetch()(h,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lA(i,e){return xr(i,"POST","/v2/accounts:revokeToken",br(i,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=A_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await aA(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,h=new hl;return r&&(ve(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return oi("not implemented")}}function er(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ss{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new sA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tA(this,e)}reload(){return iA(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ss({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await cc(this,eA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:j,providerData:q,stsTokenManager:H}=n;ve(E&&H,e,"internal-error");const R=hl.fromJSON(this.name,H);ve(typeof E=="string",e,"internal-error"),er(r,e.name),er(l,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof j=="boolean",e,"internal-error"),er(c,e.name),er(h,e.name),er(p,e.name),er(y,e.name),er(g,e.name),er(x,e.name);const Y=new ss({uid:E,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:j,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:R,createdAt:g,lastLoginAt:x});return q&&Array.isArray(q)&&(Y.providerData=q.map(Z=>({...Z}))),y&&(Y._redirectEventId=y),Y}static async _fromIdTokenResponse(e,n,r=!1){const l=new hl;l.updateFromServerResponse(n);const c=new ss({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await jd(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Rx(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!c?.length,p=new hl;p.updateFromIdToken(r);const y=new ss({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:h}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,g),y}}const C_=new Map;function ci(i){pi(i instanceof Function,"Expected a class definition");let e=C_.get(i);return e?(pi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,C_.set(i,e),e)}class Ix{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ix.type="NONE";const R_=Ix;function vd(i,e,n){return`firebase:${i}:${e}:${n}`}class fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=vd(this.userKey,l.apiKey,c),this.fullPersistenceKey=vd("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dd(this.auth,{idToken:e}).catch(()=>{});return n?ss._fromGetAccountInfoResponse(this.auth,n,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fl(ci(R_),e,r);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||ci(R_);const h=vd(r,e.config.apiKey,e.name);let p=null;for(const g of n)try{const x=await g._get(h);if(x){let E;if(typeof x=="string"){const S=await Dd(e,{idToken:x}).catch(()=>{});if(!S)break;E=await ss._fromGetAccountInfoResponse(e,S,x)}else E=ss._fromJSON(e,x);g!==c&&(p=E),c=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new fl(c,e,r):(c=y[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(h)}catch{}})),new fl(c,e,r))}}function I_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vx(e))return"Blackberry";if(Px(e))return"Webos";if(jx(e))return"Safari";if((e.includes("chrome/")||kx(e))&&!e.includes("edge/"))return"Chrome";if(Mx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function Dx(i=nn()){return/firefox\//i.test(i)}function jx(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kx(i=nn()){return/crios\//i.test(i)}function Ox(i=nn()){return/iemobile/i.test(i)}function Mx(i=nn()){return/android/i.test(i)}function Vx(i=nn()){return/blackberry/i.test(i)}function Px(i=nn()){return/webos/i.test(i)}function Vp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function oA(i=nn()){return Vp(i)&&!!window.navigator?.standalone}function cA(){return xS()&&document.documentMode===10}function Ux(i=nn()){return Vp(i)||Mx(i)||Px(i)||Vx(i)||/windows phone/i.test(i)||Ox(i)}function Lx(i,e=[]){let n;switch(i){case"Browser":n=I_(nn());break;case"Worker":n=`${I_(nn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cl}/${r}`}class uA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,p)=>{try{const y=e(c);h(y)}catch(y){p(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function dA(i,e={}){return xr(i,"GET","/v2/passwordPolicy",br(i,e))}const hA=6;class fA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class mA{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new uA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dd(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(di(this));const n=e?sn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dA(this),n=new fA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,l);return()=>{h=!0,y()}}else{const y=e.addObserver(n);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(i){return sn(i)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=RS(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pA(i){sh=i}function zx(i){return sh.loadJS(i)}function gA(){return sh.recaptchaEnterpriseScript}function yA(){return sh.gapiScript}function vA(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class _A{constructor(){this.enterprise=new bA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xA="recaptcha-enterprise",qx="NO_RECAPTCHA";class EA{constructor(e){this.type=xA,this.auth=da(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{ZN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new WN(y);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,h(g.siteKey)}}).catch(y=>{p(y)})})}function l(c,h,p){const y=window.grecaptcha;N_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(g=>{h(g)}).catch(()=>{h(qx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _A().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(p=>{if(!n&&N_(window.grecaptcha))l(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let y=gA();y.length!==0&&(y+=p),zx(y).then(()=>{l(p,c,h)}).catch(g=>{h(g)})}}).catch(p=>{h(p)})})}}async function j_(i,e,n,r=!1,l=!1){const c=new EA(i);let h;if(l)h=qx;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function ep(i,e,n,r,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await j_(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await j_(i,e,n,n==="getOobCode");return r(i,h)}else return Promise.reject(c)})}function TA(i,e){const n=jp(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(ra(c,e??{}))return l;as(l,"already-initialized")}return n.initialize({options:e})}function wA(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ci);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function SA(i,e,n){const r=da(i);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=Bx(e),{host:h,port:p}=NA(e),y=p===null?"":`:${p}`,g={url:`${c}//${h}${y}/`},x=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(ra(g,r.config.emulator)&&ra(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Al(h)?(px(`${c}//${h}${y}`),gx("Auth",!0)):AA()}function Bx(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function NA(i){const e=Bx(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:k_(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:k_(h)}}}function k_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function AA(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function CA(i,e){return xr(i,"POST","/v1/accounts:signUp",e)}async function RA(i,e){return wc(i,"POST","/v1/accounts:signInWithPassword",br(i,e))}async function IA(i,e){return wc(i,"POST","/v1/accounts:signInWithEmailLink",br(i,e))}async function DA(i,e){return wc(i,"POST","/v1/accounts:signInWithEmailLink",br(i,e))}class uc extends Pp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,n,"signInWithPassword",RA);case"emailLink":return IA(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,r,"signUpPassword",CA);case"emailLink":return DA(e,{idToken:n,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ml(i,e){return wc(i,"POST","/v1/accounts:signInWithIdp",br(i,e))}const jA="http://localhost";class la extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):as("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const h=new la(r,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:jA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}function kA(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OA(i){const e=Qo(Ko(i)).link,n=e?Qo(Ko(e)).deep_link_id:null,r=Qo(Ko(i)).deep_link_id;return(r?Qo(Ko(r)).link:null)||r||n||e||i}class Up{constructor(e){const n=Qo(Ko(e)),r=n.apiKey??null,l=n.oobCode??null,c=kA(n.mode??null);ve(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=OA(e);try{return new Up(n)}catch{return null}}}class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Up.parseLink(n);return ve(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sc extends Fx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends Sc{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class sr extends Sc{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class ir extends Sc{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function MA(i,e){return wc(i,"POST","/v1/accounts:signUp",br(i,e))}class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await ss._fromIdTokenResponse(e,r,l),h=O_(r);return new oa({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=O_(r);return new oa({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function O_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class kd extends vi{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new kd(e,n,r,l)}}function Hx(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(i,c,e,r):c})}async function VA(i,e,n=!1){const r=await cc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return oa._forOperation(i,"link",r)}async function PA(i,e,n=!1){const{auth:r}=i;if(zn(r.app))return Promise.reject(di(r));const l="reauthenticate";try{const c=await cc(i,Hx(r,l,e,i),n);ve(c.idToken,r,"internal-error");const h=Mp(c.idToken);ve(h,r,"internal-error");const{sub:p}=h;return ve(i.uid===p,r,"user-mismatch"),oa._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(r,"user-mismatch"),c}}async function Gx(i,e,n=!1){if(zn(i.app))return Promise.reject(di(i));const r="signIn",l=await Hx(i,r,e),c=await oa._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(c.user),c}async function UA(i,e){return Gx(da(i),e)}async function Yx(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LA(i,e,n){if(zn(i.app))return Promise.reject(di(i));const r=da(i),h=await ep(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MA).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Yx(i),y}),p=await oa._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(p.user),p}function zA(i,e,n){return zn(i.app)?Promise.reject(di(i)):UA(sn(i),Rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yx(i),r})}function qA(i,e,n,r){return sn(i).onIdTokenChanged(e,n,r)}function BA(i,e,n){return sn(i).beforeAuthStateChanged(e,n)}function FA(i,e,n,r){return sn(i).onAuthStateChanged(e,n,r)}function HA(i){return sn(i).signOut()}const Od="__sak";class Qx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GA=1e3,YA=10;class Kx extends Qx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ux(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,y)=>{this.notifyListeners(h,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);cA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,YA):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kx.type="LOCAL";const QA=Kx;class $x extends Qx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$x.type="SESSION";const Xx=$x;function KA(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,h=this.handlersMap[l];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(h).map(async g=>g(n.origin,c)),y=await KA(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function Lp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class $A{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((p,y)=>{const g=Lp("",20);l.port1.start();const x=setTimeout(()=>{y(new Error("unsupported_event"))},r);h={messageChannel:l,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ms(){return window}function XA(i){Ms().location.href=i}function Jx(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function JA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WA(){return navigator?.serviceWorker?.controller||null}function ZA(){return Jx()?self:null}const Wx="firebaseLocalStorageDb",eC=1,Md="firebaseLocalStorage",Zx="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(i,e){return i.transaction([Md],e?"readwrite":"readonly").objectStore(Md)}function tC(){const i=indexedDB.deleteDatabase(Wx);return new Nc(i).toPromise()}function tp(){const i=indexedDB.open(Wx,eC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Md,{keyPath:Zx})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Md)?e(r):(r.close(),await tC(),e(await tp()))})})}async function M_(i,e,n){const r=rh(i,!0).put({[Zx]:e,value:n});return new Nc(r).toPromise()}async function nC(i,e){const n=rh(i,!1).get(e),r=await new Nc(n).toPromise();return r===void 0?null:r.value}function V_(i,e){const n=rh(i,!0).delete(e);return new Nc(n).toPromise()}const sC=800,iC=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(ZA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JA(),!this.activeServiceWorker)return;this.sender=new $A(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await M_(e,Od,"1"),await V_(e,Od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=rh(l,!1).getAll();return new Nc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const rC=eE;new Tc(3e4,6e4);function aC(i,e){return e?ci(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class zp extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lC(i){return Gx(i.auth,new zp(i),i.bypassAuthState)}function oC(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),PA(n,new zp(i),i.bypassAuthState)}async function cC(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),VA(n,new zp(i),i.bypassAuthState)}class tE{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lC;case"linkViaPopup":case"linkViaRedirect":return cC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:as(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uC=new Tc(2e3,1e4);class dl extends tE{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uC.get())};e()}}dl.currentPopupAction=null;const dC="pendingRedirect",_d=new Map;class hC extends tE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await fC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fC(i,e){const n=gC(e),r=pC(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function mC(i,e){_d.set(i._key(),e)}function pC(i){return ci(i._redirectPersistence)}function gC(i){return vd(dC,i.config.apiKey,i.name)}async function yC(i,e,n=!1){if(zn(i.app))return Promise.reject(di(i));const r=da(i),l=aC(r,e),h=await new hC(r,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const vC=600*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Os(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function bC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(i);default:return!1}}async function xC(i,e={}){return xr(i,"GET","/v1/projects",e)}const EC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TC=/^https?/;async function wC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await xC(i);for(const n of e)try{if(SC(n))return}catch{}as(i,"unauthorized-domain")}function SC(i){const e=Wm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!TC.test(n))return!1;if(EC.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const NC=new Tc(3e4,6e4);function U_(){const i=Ms().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function AC(i){return new Promise((e,n)=>{function r(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(Os(i,"network-request-failed"))},timeout:NC.get()})}if(Ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ms().gapi?.load)r();else{const l=vA("iframefcb");return Ms()[l]=()=>{gapi.load?r():n(Os(i,"network-request-failed"))},zx(`${yA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw bd=null,e})}let bd=null;function CC(i){return bd=bd||AC(i),bd}const RC=new Tc(5e3,15e3),IC="__/auth/iframe",DC="emulator/auth/iframe",jC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OC(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Op(e,DC):`https://${i.config.authDomain}/${IC}`,r={apiKey:e.apiKey,appName:i.name,v:Cl},l=kC.get(i.config.apiHost);l&&(r.eid=l);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Ec(r).slice(1)}`}async function MC(i){const e=await CC(i),n=Ms().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:OC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const h=Os(i,"network-request-failed"),p=Ms().setTimeout(()=>{c(h)},RC.get());function y(){Ms().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(h)})}))}const VC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC=500,UC=600,LC="_blank",zC="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qC(i,e,n,r=PC,l=UC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...VC,width:r.toString(),height:l.toString(),top:c,left:h},g=nn().toLowerCase();n&&(p=kx(g)?LC:n),Dx(g)&&(e=e||zC,y.scrollbars="yes");const x=Object.entries(y).reduce((S,[j,q])=>`${S}${j}=${q},`,"");if(oA(g)&&p!=="_self")return BC(e||"",p),new L_(null);const E=window.open(e||"",p,x);ve(E,i,"popup-blocked");try{E.focus()}catch{}return new L_(E)}function BC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const FC="__/auth/handler",HC="emulator/auth/handler",GC=encodeURIComponent("fac");async function z_(i,e,n,r,l,c){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Cl,eventId:l};if(e instanceof Fx){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",CS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof Sc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const y=await i._getAppCheckToken(),g=y?`#${GC}=${encodeURIComponent(y)}`:"";return`${YC(i)}?${Ec(p).slice(1)}${g}`}function YC({config:i}){return i.emulator?Op(i,HC):`https://${i.authDomain}/${FC}`}const Mm="webStorageSupport";class QC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xx,this._completeRedirectFn=yC,this._overrideRedirectResult=mC}async _openPopup(e,n,r,l){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await z_(e,n,r,Wm(),l);return qC(e,c,Lp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await z_(e,n,r,Wm(),l);return XA(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(pi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MC(e),r=new _C(e);return n.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},l=>{const c=l?.[0]?.[Mm];c!==void 0&&n(!!c),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ux()||jx()||Vp()}}const KC=QC;var q_="@firebase/auth",B_="1.11.1";class $C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(i){yl(new aa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(i)},g=new mA(r,l,c,y);return wA(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yl(new aa("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(r=>new $C(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(q_,B_,XC(i)),or(q_,B_,"esm2020")}const WC=300,ZC=mx("authIdTokenMaxAge")||WC;let F_=null;const eR=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZC)return;const l=n?.token;F_!==l&&(F_=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tR(i=bx()){const e=jp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=TA(i,{popupRedirectResolver:KC,persistence:[rC,QA,Xx]}),r=mx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=eR(c.toString());BA(n,h,()=>h(n.currentUser)),qA(n,p=>h(p))}}const l=hx("auth");return l&&SA(n,`http://${l}`),n}function nR(){return document.getElementsByTagName("head")?.[0]??document}pA({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const c=Os("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",nR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,sE;(function(){var i;function e(C,N){function A(){}A.prototype=N.prototype,C.F=N.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(k,O,L){for(var I=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)I[Ue-2]=arguments[Ue];return N.prototype[O].apply(k,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,N,A){A||(A=0);const k=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)k[O]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(O=0;O<16;++O)k[O]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=C.g[0],A=C.g[1],O=C.g[2];let L=C.g[3],I;I=N+(L^A&(O^L))+k[0]+3614090360&4294967295,N=A+(I<<7&4294967295|I>>>25),I=L+(O^N&(A^O))+k[1]+3905402710&4294967295,L=N+(I<<12&4294967295|I>>>20),I=O+(A^L&(N^A))+k[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=A+(N^O&(L^N))+k[3]+3250441966&4294967295,A=O+(I<<22&4294967295|I>>>10),I=N+(L^A&(O^L))+k[4]+4118548399&4294967295,N=A+(I<<7&4294967295|I>>>25),I=L+(O^N&(A^O))+k[5]+1200080426&4294967295,L=N+(I<<12&4294967295|I>>>20),I=O+(A^L&(N^A))+k[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=A+(N^O&(L^N))+k[7]+4249261313&4294967295,A=O+(I<<22&4294967295|I>>>10),I=N+(L^A&(O^L))+k[8]+1770035416&4294967295,N=A+(I<<7&4294967295|I>>>25),I=L+(O^N&(A^O))+k[9]+2336552879&4294967295,L=N+(I<<12&4294967295|I>>>20),I=O+(A^L&(N^A))+k[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=A+(N^O&(L^N))+k[11]+2304563134&4294967295,A=O+(I<<22&4294967295|I>>>10),I=N+(L^A&(O^L))+k[12]+1804603682&4294967295,N=A+(I<<7&4294967295|I>>>25),I=L+(O^N&(A^O))+k[13]+4254626195&4294967295,L=N+(I<<12&4294967295|I>>>20),I=O+(A^L&(N^A))+k[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=A+(N^O&(L^N))+k[15]+1236535329&4294967295,A=O+(I<<22&4294967295|I>>>10),I=N+(O^L&(A^O))+k[1]+4129170786&4294967295,N=A+(I<<5&4294967295|I>>>27),I=L+(A^O&(N^A))+k[6]+3225465664&4294967295,L=N+(I<<9&4294967295|I>>>23),I=O+(N^A&(L^N))+k[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=A+(L^N&(O^L))+k[0]+3921069994&4294967295,A=O+(I<<20&4294967295|I>>>12),I=N+(O^L&(A^O))+k[5]+3593408605&4294967295,N=A+(I<<5&4294967295|I>>>27),I=L+(A^O&(N^A))+k[10]+38016083&4294967295,L=N+(I<<9&4294967295|I>>>23),I=O+(N^A&(L^N))+k[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=A+(L^N&(O^L))+k[4]+3889429448&4294967295,A=O+(I<<20&4294967295|I>>>12),I=N+(O^L&(A^O))+k[9]+568446438&4294967295,N=A+(I<<5&4294967295|I>>>27),I=L+(A^O&(N^A))+k[14]+3275163606&4294967295,L=N+(I<<9&4294967295|I>>>23),I=O+(N^A&(L^N))+k[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=A+(L^N&(O^L))+k[8]+1163531501&4294967295,A=O+(I<<20&4294967295|I>>>12),I=N+(O^L&(A^O))+k[13]+2850285829&4294967295,N=A+(I<<5&4294967295|I>>>27),I=L+(A^O&(N^A))+k[2]+4243563512&4294967295,L=N+(I<<9&4294967295|I>>>23),I=O+(N^A&(L^N))+k[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=A+(L^N&(O^L))+k[12]+2368359562&4294967295,A=O+(I<<20&4294967295|I>>>12),I=N+(A^O^L)+k[5]+4294588738&4294967295,N=A+(I<<4&4294967295|I>>>28),I=L+(N^A^O)+k[8]+2272392833&4294967295,L=N+(I<<11&4294967295|I>>>21),I=O+(L^N^A)+k[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=A+(O^L^N)+k[14]+4259657740&4294967295,A=O+(I<<23&4294967295|I>>>9),I=N+(A^O^L)+k[1]+2763975236&4294967295,N=A+(I<<4&4294967295|I>>>28),I=L+(N^A^O)+k[4]+1272893353&4294967295,L=N+(I<<11&4294967295|I>>>21),I=O+(L^N^A)+k[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=A+(O^L^N)+k[10]+3200236656&4294967295,A=O+(I<<23&4294967295|I>>>9),I=N+(A^O^L)+k[13]+681279174&4294967295,N=A+(I<<4&4294967295|I>>>28),I=L+(N^A^O)+k[0]+3936430074&4294967295,L=N+(I<<11&4294967295|I>>>21),I=O+(L^N^A)+k[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=A+(O^L^N)+k[6]+76029189&4294967295,A=O+(I<<23&4294967295|I>>>9),I=N+(A^O^L)+k[9]+3654602809&4294967295,N=A+(I<<4&4294967295|I>>>28),I=L+(N^A^O)+k[12]+3873151461&4294967295,L=N+(I<<11&4294967295|I>>>21),I=O+(L^N^A)+k[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=A+(O^L^N)+k[2]+3299628645&4294967295,A=O+(I<<23&4294967295|I>>>9),I=N+(O^(A|~L))+k[0]+4096336452&4294967295,N=A+(I<<6&4294967295|I>>>26),I=L+(A^(N|~O))+k[7]+1126891415&4294967295,L=N+(I<<10&4294967295|I>>>22),I=O+(N^(L|~A))+k[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=A+(L^(O|~N))+k[5]+4237533241&4294967295,A=O+(I<<21&4294967295|I>>>11),I=N+(O^(A|~L))+k[12]+1700485571&4294967295,N=A+(I<<6&4294967295|I>>>26),I=L+(A^(N|~O))+k[3]+2399980690&4294967295,L=N+(I<<10&4294967295|I>>>22),I=O+(N^(L|~A))+k[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=A+(L^(O|~N))+k[1]+2240044497&4294967295,A=O+(I<<21&4294967295|I>>>11),I=N+(O^(A|~L))+k[8]+1873313359&4294967295,N=A+(I<<6&4294967295|I>>>26),I=L+(A^(N|~O))+k[15]+4264355552&4294967295,L=N+(I<<10&4294967295|I>>>22),I=O+(N^(L|~A))+k[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=A+(L^(O|~N))+k[13]+1309151649&4294967295,A=O+(I<<21&4294967295|I>>>11),I=N+(O^(A|~L))+k[4]+4149444226&4294967295,N=A+(I<<6&4294967295|I>>>26),I=L+(A^(N|~O))+k[11]+3174756917&4294967295,L=N+(I<<10&4294967295|I>>>22),I=O+(N^(L|~A))+k[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=A+(L^(O|~N))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,N){N===void 0&&(N=C.length);const A=N-this.blockSize,k=this.C;let O=this.h,L=0;for(;L<N;){if(O==0)for(;L<=A;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<N;)if(k[O++]=C.charCodeAt(L++),O==this.blockSize){l(this,k),O=0;break}}else for(;L<N;)if(k[O++]=C[L++],O==this.blockSize){l(this,k),O=0;break}}this.h=O,this.o+=N},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;N=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=N&255,N/=256;for(this.v(C),C=Array(16),N=0,A=0;A<4;++A)for(let k=0;k<32;k+=8)C[N++]=this.g[A]>>>k&255;return C};function c(C,N){var A=p;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=N(C)}function h(C,N){this.h=N;const A=[];let k=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;k&&L==N||(A[O]=L,k=!1)}this.g=A}var p={};function y(C){return-128<=C&&C<128?c(C,function(N){return new h([N|0],N<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return R(g(-C));const N=[];let A=1;for(let k=0;C>=A;k++)N[k]=C/A|0,A*=4294967296;return new h(N,0)}function x(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return R(x(C.substring(1),N));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(N,8));let k=E;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+O),N);O<8?(O=g(Math.pow(N,O)),k=k.j(O).add(g(I))):(k=k.j(A),k=k.add(g(I)))}return k}var E=y(0),S=y(1),j=y(16777216);i=h.prototype,i.m=function(){if(H(this))return-R(this).m();let C=0,N=1;for(let A=0;A<this.g.length;A++){const k=this.i(A);C+=(k>=0?k:4294967296+k)*N,N*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(q(this))return"0";if(H(this))return"-"+R(this).toString(C);const N=g(Math.pow(C,6));var A=this;let k="";for(;;){const O=ge(A,N).g;A=Y(A,O.j(N));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=O,q(A))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function q(C){if(C.h!=0)return!1;for(let N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function H(C){return C.h==-1}i.l=function(C){return C=Y(this,C),H(C)?-1:q(C)?0:1};function R(C){const N=C.g.length,A=[];for(let k=0;k<N;k++)A[k]=~C.g[k];return new h(A,~C.h).add(S)}i.abs=function(){return H(this)?R(this):this},i.add=function(C){const N=Math.max(this.g.length,C.g.length),A=[];let k=0;for(let O=0;O<=N;O++){let L=k+(this.i(O)&65535)+(C.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);k=I>>>16,L&=65535,I&=65535,A[O]=I<<16|L}return new h(A,A[A.length-1]&-2147483648?-1:0)};function Y(C,N){return C.add(R(N))}i.j=function(C){if(q(this)||q(C))return E;if(H(this))return H(C)?R(this).j(R(C)):R(R(this).j(C));if(H(C))return R(this.j(R(C)));if(this.l(j)<0&&C.l(j)<0)return g(this.m()*C.m());const N=this.g.length+C.g.length,A=[];for(var k=0;k<2*N;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<C.g.length;O++){const L=this.i(k)>>>16,I=this.i(k)&65535,Ue=C.i(O)>>>16,Dt=C.i(O)&65535;A[2*k+2*O]+=I*Dt,Z(A,2*k+2*O),A[2*k+2*O+1]+=L*Dt,Z(A,2*k+2*O+1),A[2*k+2*O+1]+=I*Ue,Z(A,2*k+2*O+1),A[2*k+2*O+2]+=L*Ue,Z(A,2*k+2*O+2)}for(C=0;C<N;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=N;C<2*N;C++)A[C]=0;return new h(A,0)};function Z(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function $(C,N){this.g=C,this.h=N}function ge(C,N){if(q(N))throw Error("division by zero");if(q(C))return new $(E,E);if(H(C))return N=ge(R(C),N),new $(R(N.g),R(N.h));if(H(N))return N=ge(C,R(N)),new $(R(N.g),N.h);if(C.g.length>30){if(H(C)||H(N))throw Error("slowDivide_ only works with positive integers.");for(var A=S,k=N;k.l(C)<=0;)A=de(A),k=de(k);var O=Ee(A,1),L=Ee(k,1);for(k=Ee(k,2),A=Ee(A,2);!q(k);){var I=L.add(k);I.l(C)<=0&&(O=O.add(A),L=I),k=Ee(k,1),A=Ee(A,1)}return N=Y(C,O.j(N)),new $(O,N)}for(O=E;C.l(N)>=0;){for(A=Math.max(1,Math.floor(C.m()/N.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=g(A),I=L.j(N);H(I)||I.l(C)>0;)A-=k,L=g(A),I=L.j(N);q(L)&&(L=S),O=O.add(L),C=Y(C,I)}return new $(O,C)}i.B=function(C){return ge(this,C).h},i.and=function(C){const N=Math.max(this.g.length,C.g.length),A=[];for(let k=0;k<N;k++)A[k]=this.i(k)&C.i(k);return new h(A,this.h&C.h)},i.or=function(C){const N=Math.max(this.g.length,C.g.length),A=[];for(let k=0;k<N;k++)A[k]=this.i(k)|C.i(k);return new h(A,this.h|C.h)},i.xor=function(C){const N=Math.max(this.g.length,C.g.length),A=[];for(let k=0;k<N;k++)A[k]=this.i(k)^C.i(k);return new h(A,this.h^C.h)};function de(C){const N=C.g.length+1,A=[];for(let k=0;k<N;k++)A[k]=C.i(k)<<1|C.i(k-1)>>>31;return new h(A,C.h)}function Ee(C,N){const A=N>>5;N%=32;const k=C.g.length-A,O=[];for(let L=0;L<k;L++)O[L]=N>0?C.i(L+A)>>>N|C.i(L+A+1)<<32-N:C.i(L+A);return new h(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=x,cr=h}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iE,$o,rE,xd,np,aE,lE,oE;(function(){var i,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function l(d,v){if(v)e:{var b=r;d=d.split(".");for(var w=0;w<d.length-1;w++){var z=d[w];if(!(z in b))break e;b=b[z]}d=d[d.length-1],w=b[d],v=v(w),v!=w&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});var c=c||{},h=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,b){return d.call.apply(d.bind,arguments)}function g(d,v,b){return g=y,g.apply(null,arguments)}function x(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),d.apply(this,w)}}function E(d,v){function b(){}b.prototype=v.prototype,d.Z=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(w,z,Q){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return v.prototype[z].apply(w,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function j(d){const v=d.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=d[w];return b}return[]}function q(d,v){for(let w=1;w<arguments.length;w++){const z=arguments[w];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=d.length||0;const Q=z.length||0;d.length=b+Q;for(let ie=0;ie<Q;ie++)d[b+ie]=z[ie]}else d.push(z)}}class H{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function R(d){h.setTimeout(()=>{throw d},0)}function Y(){var d=C;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Z{constructor(){this.h=this.g=null}add(v,b){const w=$.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var $=new H(()=>new ge,d=>d.reset());class ge{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Ee=!1,C=new Z,N=()=>{const d=Promise.resolve(void 0);de=()=>{d.then(A)}};function A(){for(var d;d=Y();){try{d.h.call(d.g)}catch(b){R(b)}var v=$;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}Ee=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return d})();function I(d){return/^[\s\xa0]*$/.test(d)}function Ue(d,v){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}E(Ue,O),Ue.prototype.init=function(d,v){const b=this.type=d.type,w=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),J=0;function re(d,v,b,w,z){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=z,this.key=++J,this.da=this.fa=!1}function pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function qe(d,v,b){for(const w in d)v.call(b,d[w],w,d)}function Qe(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function V(d){const v={};for(const b in d)v[b]=d[b];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(d,v){let b,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(b in w)d[b]=w[b];for(let Q=0;Q<te.length;Q++)b=te[Q],Object.prototype.hasOwnProperty.call(w,b)&&(d[b]=w[b])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,v,b,w,z){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const ie=Ae(d,v,w,z);return ie>-1?(v=d[ie],b||(v.fa=!1)):(v=new re(v,this.src,Q,!!w,z),v.fa=b,d.push(v)),v};function be(d,v){const b=v.type;if(b in d.g){var w=d.g[b],z=Array.prototype.indexOf.call(w,v,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(w,z,1),Q&&(pe(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Ae(d,v,b,w){for(let z=0;z<d.length;++z){const Q=d[z];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==w)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),jt={};function at(d,v,b,w,z){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)at(d,v[Q],b,w,z);return null}return b=zl(b),d&&d[Dt]?d.J(v,b,p(w)?!!w.capture:!1,z):wr(d,v,b,!1,w,z)}function wr(d,v,b,w,z,Q){if(!v)throw Error("Invalid event type");const ie=p(z)?!!z.capture:!!z;let Se=Sr(d);if(Se||(d[Le]=Se=new ce(d)),b=Se.add(v,b,w,ie,Q),b.proxy)return b;if(w=ya(),b.proxy=w,w.src=d,w.listener=b,d.addEventListener)L||(z=ie),z===void 0&&(z=!1),d.addEventListener(v.toString(),w,z);else if(d.attachEvent)d.attachEvent(ds(v.toString()),w);else if(d.addListener&&d.removeListener)d.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ya(){function d(b){return v.call(d.src,d.listener,b)}const v=Ul;return d}function va(d,v,b,w,z){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)va(d,v[Q],b,w,z);else w=p(w)?!!w.capture:!!w,b=zl(b),d&&d[Dt]?(d=d.i,Q=String(v).toString(),Q in d.g&&(v=d.g[Q],b=Ae(v,b,w,z),b>-1&&(pe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Sr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ae(v,b,w,z)),(b=d>-1?v[d]:null)&&_a(b))}function _a(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Dt])be(v.i,d);else{var b=d.type,w=d.proxy;v.removeEventListener?v.removeEventListener(b,w,d.capture):v.detachEvent?v.detachEvent(ds(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=Sr(v))?(be(b,d),b.h==0&&(b.src=null,v[Le]=null)):pe(d)}}}function ds(d){return d in jt?jt[d]:jt[d]="on"+d}function Ul(d,v){if(d.da)d=!0;else{v=new Ue(v,this);const b=d.listener,w=d.ha||d.src;d.fa&&_a(d),d=b.call(w,v)}return d}function Sr(d){return d=d[Le],d instanceof ce?d:null}var Ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function zl(d){return typeof d=="function"?d:(d[Ll]||(d[Ll]=function(v){return d.handleEvent(v)}),d[Ll])}function _t(){k.call(this),this.i=new ce(this),this.M=this,this.G=null}E(_t,k),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(d,v,b,w){va(this,d,v,b,w)};function kt(d,v){var b,w=d.G;if(w)for(b=[];w;w=w.G)b.push(w);if(d=d.M,w=v.type||v,typeof v=="string")v=new O(v,d);else if(v instanceof O)v.target=v.target||d;else{var z=v;v=new O(w,d),ae(v,z)}z=!0;let Q,ie;if(b)for(ie=b.length-1;ie>=0;ie--)Q=v.g=b[ie],z=xi(Q,w,!0,v)&&z;if(Q=v.g=d,z=xi(Q,w,!0,v)&&z,z=xi(Q,w,!1,v)&&z,b)for(ie=0;ie<b.length;ie++)Q=v.g=b[ie],z=xi(Q,w,!1,v)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const b=d.g[v];for(let w=0;w<b.length;w++)pe(b[w]);delete d.g[v],d.h--}}this.G=null},_t.prototype.J=function(d,v,b,w){return this.i.add(String(d),v,!1,b,w)},_t.prototype.K=function(d,v,b,w){return this.i.add(String(d),v,!0,b,w)};function xi(d,v,b,w){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let z=!0;for(let Q=0;Q<v.length;++Q){const ie=v[Q];if(ie&&!ie.da&&ie.capture==b){const Se=ie.listener,mt=ie.ha||ie.src;ie.fa&&be(d.i,ie),z=Se.call(mt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Eh(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(d,v||0)}function kc(d){d.g=Eh(()=>{d.g=null,d.i&&(d.i=!1,kc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class rn extends k{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:kc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(d){k.call(this),this.h=d,this.g={}}E(Nr,k);var ql=[];function Bl(d){qe(d.g,function(v,b){this.g.hasOwnProperty(b)&&_a(v)},d),d.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),Bl(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=h.JSON.stringify,Th=h.JSON.parse,Oc=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Mc(){}function Vc(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}E(Bt,O);function An(){O.call(this,"c")}E(An,O);var ft={},Pc=null;function ba(){return Pc=Pc||new _t}ft.Ia="serverreachability";function Uc(d){O.call(this,ft.Ia,d)}E(Uc,O);function hs(d){const v=ba();kt(v,new Uc(v))}ft.STAT_EVENT="statevent";function Ar(d,v){O.call(this,ft.STAT_EVENT,d),this.stat=v}E(Ar,O);function bt(d){const v=ba();kt(v,new Ar(v,d))}ft.Ja="timingevent";function fs(d,v){O.call(this,ft.Ja,d),this.size=v}E(fs,O);function ms(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function wh(d,v,b,w,z,Q){d.info(function(){if(d.g)if(Q){var ie="",Se=Q.split("&");for(let He=0;He<Se.length;He++){var mt=Se[He].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Dn=lt.split("_");ie=Dn.length>=2&&Dn[1]=="type"?ie+(lt+"="+mt+"&"):ie+(lt+"=redacted&")}}}else ie=null;else ie=Q;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+v+`
`+b+`
`+ie})}function Lc(d,v,b,w,z,Q,ie){d.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+v+`
`+b+`
`+Q+" "+ie})}function ps(d,v,b,w){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sh(d,b)+(w?" "+w:"")})}function Cr(d,v){d.info(function(){return"TIMEOUT: "+v})}Yn.prototype.info=function(){};function Sh(d,v){if(!d.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var b=Q[d];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Ei(Q)}catch{return v}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hl;function Ir(){}E(Ir,Mc),Ir.prototype.g=function(){return new XMLHttpRequest},Hl=new Ir;function Bs(d){return encodeURIComponent(String(d))}function zc(d){var v=1;d=d.split(":");const b=[];for(;v>0&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function Qn(d,v,b,w){this.j=d,this.i=v,this.l=b,this.S=w||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var xt={},Ut={};function gs(d,v,b){d.M=1,d.A=Dr(Tt(v)),d.u=b,d.R=!0,xa(d,null)}function xa(d,v){d.F=Date.now(),ys(d),d.B=Tt(d.A);var b=d.B,w=d.S;Array.isArray(w)||(w=[String(w)]),Sa(b.i,"t",w),d.C=0,b=d.j.L,d.h=new Kn,d.g=tu(d.j,b?v:null,!d.u),d.P>0&&(d.O=new rn(g(d.Y,d,d.g),d.P)),v=d.V,b=d.g,w=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(ql[0]=z.toString()),z=ql);for(let Q=0;Q<z.length;Q++){const ie=at(b,z[Q],w||v.handleEvent,!1,v.h||v);if(!ie)break;v.g[ie.key]=ie}v=d.J?V(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),hs(),wh(d.i,d.v,d.B,d.l,d.S,d.u)}Qn.prototype.ba=function(d){d=d.target;const v=this.O;v&&Jn(d)==3?v.j():this.Y(d)},Qn.prototype.Y=function(d){try{if(d==this.g)e:{const Se=Jn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Se!=4||mt==7||(mt==8||He<=0?hs(3):hs(2)),vs(this);var v=this.g.ca();this.X=v;var b=Nh(this);if(this.o=v==200,Lc(this.i,this.v,this.B,this.l,this.S,Se,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var Q=w;break t}}Q=null}if(d=Q)ps(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_s(this,d);else{this.o=!1,this.m=3,bt(12),yn(this),Cn(this);break e}}if(this.R){d=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=Bc(this,b),lt==Ut){Se==4&&(this.m=4,bt(14),d=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,bt(15),ps(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else ps(this.i,this.l,lt,null),_s(this,lt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||b.length!=0||this.h.h||(this.m=1,bt(16),d=!1),this.o=this.o&&d,!d)ps(this.i,this.l,b,"[Invalid Chunked Response]"),yn(this),Cn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ro(ie),ie.P=!0,bt(11))}}else ps(this.i,this.l,b,null),_s(this,b);Se==4&&yn(this),this.o&&!this.K&&(Se==4?Jc(this.j,this):(this.o=!1,ys(this)))}else Hs(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),yn(this),Cn(this)}}}catch{}finally{}};function Nh(d){if(!qc(d))return d.g.la();const v=Ft(d.g);if(v==="")return"";let b="";const w=v.length,z=Jn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return yn(d),Cn(d),"";d.h.i=new h.TextDecoder}for(let Q=0;Q<w;Q++)d.h.h=!0,b+=d.h.i.decode(v[Q],{stream:!(z&&Q==w-1)});return v.length=0,d.h.g+=b,d.C=0,d.h.g}function qc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Bc(d,v){var b=d.C,w=v.indexOf(`
`,b);return w==-1?Ut:(b=Number(v.substring(b,w)),isNaN(b)?xt:(w+=1,w+b>v.length?Ut:(v=v.slice(w,w+b),d.C=w+b,v)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function ys(d){d.T=Date.now()+d.H,Ea(d,d.H)}function Ea(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ms(g(d.aa,d),v)}function vs(d){d.D&&(h.clearTimeout(d.D),d.D=null)}Qn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(hs(),bt(17)),yn(this),this.m=2,Cn(this)):Ea(this,this.T-d)};function Cn(d){d.j.I==0||d.K||Jc(d.j,d)}function yn(d){vs(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Bl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function _s(d,v){try{var b=d.j;if(b.I!=0&&(b.g==d||xs(b.h,d))){if(!d.L&&xs(b.h,d)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)Ia(b),Ii(b);else break e;Ur(b),bt(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ms(g(b.Va,b),6e3));bs(b.h)<=1&&b.ta&&(b.ta=void 0)}else As(b,11)}else if((d.L||b.g==d)&&Ia(b),!I(v))for(z=b.Ba.g.parse(v),v=0;v<z.length;v++){let He=z[v];const lt=He[0];if(!(lt<=b.K))if(b.K=lt,He=He[1],b.I==2)if(He[0]=="c"){b.M=He[1],b.ba=He[2];const Dn=He[3];Dn!=null&&(b.ka=Dn,b.j.info("VER="+b.ka));const Cs=He[4];Cs!=null&&(b.za=Cs,b.j.info("SVER="+b.za));const Wn=He[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(w=1.5*Wn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const Zn=d.g;if(Zn){const Lr=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var Q=w.h;Q.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ql(Q,Q.h),Q.h=null))}if(w.G){const Da=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(w.wa=Da,Ke(w.J,w.G,Da))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ie=d;if(w.na=eu(w,w.L?w.ba:null,w.W),ie.L){Kl(w.h,ie);var Se=ie,mt=w.O;mt&&(Se.H=mt),Se.D&&(vs(Se),ys(Se)),w.g=ie}else $c(w);b.i.length>0&&Ns(b)}else He[0]!="stop"&&He[0]!="close"||As(b,7);else b.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?As(b,7):so(b):He[0]!="noop"&&b.l&&b.l.qa(He),b.A=0)}}hs(4)}catch{}}var Et=class{constructor(d,v){this.g=d,this.map=v}};function Gl(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function bs(d){return d.h?1:d.g?d.g.size:0}function xs(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ql(d,v){d.g?d.g.add(v):d.h=v}function Kl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Gl.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function $l(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.G);return v}return j(d.i)}var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(d,v){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const w=d[b].indexOf("=");let z,Q=null;w>=0?(z=d[b].substring(0,w),Q=d[b].substring(w+1)):z=d[b],v(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function vn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof vn?(this.l=d.l,Lt(this,d.j),this.o=d.o,this.g=d.g,Ti(this,d.u),this.h=d.h,Xl(this,Qc(d.i)),this.m=d.m):d&&(v=String(d).match(Fc))?(this.l=!1,Lt(this,v[1]||"",!0),this.o=Es(v[2]||""),this.g=Es(v[3]||"",!0),Ti(this,v[4]),this.h=Es(v[5]||"",!0),Xl(this,v[6]||"",!0),this.m=Es(v[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}vn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(jr(v,wa,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(jr(v,wa,!0),"@"),d.push(Bs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(jr(b,b.charAt(0)=="/"?Jl:Hc,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",jr(b,Gc)),d.join("")},vn.prototype.resolve=function(d){const v=Tt(this);let b=!!d.j;b?Lt(v,d.j):b=!!d.o,b?v.o=d.o:b=!!d.g,b?v.g=d.g:b=d.u!=null;var w=d.h;if(b)Ti(v,d.u);else if(b=!!d.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=v.h.lastIndexOf("/");z!=-1&&(w=v.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let ie=0;ie<z.length;){const Se=z[ie++];Se=="."?w&&ie==z.length&&Q.push(""):Se==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ie==z.length&&Q.push("")):(Q.push(Se),w=!0)}w=Q.join("/")}else w=z}return b?v.h=w:b=d.i.toString()!=="",b?Xl(v,Qc(d.i)):b=!!d.m,b&&(v.m=d.m),v};function Tt(d){return new vn(d)}function Lt(d,v,b){d.j=b?Es(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ti(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Xl(d,v,b){v instanceof Si?(d.i=v,Na(d.i,d.l)):(b||(v=jr(v,wi)),d.i=new Si(v,d.l))}function Ke(d,v,b){d.i.set(v,b)}function Dr(d){return Ke(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Es(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function jr(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,on),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function on(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var wa=/[#\/\?@]/g,Hc=/[#\?:]/g,Jl=/[#\?]/g,wi=/[#\?@]/g,Gc=/#/g;function Si(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function cn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ta(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}i=Si.prototype,i.add=function(d,v){cn(this),this.i=null,d=Ni(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function Yc(d,v){cn(d),v=Ni(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Wl(d,v){return cn(d),v=Ni(d,v),d.g.has(v)}i.forEach=function(d,v){cn(this),this.g.forEach(function(b,w){b.forEach(function(z){d.call(v,z,w,this)},this)},this)};function Zl(d,v){cn(d);let b=[];if(typeof v=="string")Wl(d,v)&&(b=b.concat(d.g.get(Ni(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)b=b.concat(d[v]);return b}i.set=function(d,v){return cn(this),this.i=null,d=Ni(this,d),Wl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},i.get=function(d,v){return d?(d=Zl(this,d),d.length>0?String(d[0]):v):v};function Sa(d,v,b){Yc(d,v),b.length>0&&(d.i=null,d.g.set(Ni(d,v),j(b)),d.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const z=Bs(b);b=Zl(this,b);for(let Q=0;Q<b.length;Q++){let ie=z;b[Q]!==""&&(ie+="="+Bs(b[Q])),d.push(ie)}}return this.i=d.join("&")};function Qc(d){const v=new Si;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Ni(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Na(d,v){v&&!d.j&&(cn(d),d.i=null,d.g.forEach(function(b,w){const z=w.toLowerCase();w!=z&&(Yc(this,w),Sa(this,z,b))},d)),d.j=v}function $n(d,v){const b=new Yn;if(h.Image){const w=new Image;w.onload=x(Rn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Rn,b,"TestLoadImage: error",!1,v,w),w.onabort=x(Rn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Rn,b,"TestLoadImage: timeout",!1,v,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=d}else v(!1)}function eo(d,v){const b=new Yn,w=new AbortController,z=setTimeout(()=>{w.abort(),Rn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:w.signal}).then(Q=>{clearTimeout(z),Q.ok?Rn(b,"TestPingServer: ok",!0,v):Rn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Rn(b,"TestPingServer: error",!1,v)})}function Rn(d,v,b,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(b)}catch{}}function Ai(){this.g=new Oc}function Ts(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Ts,Mc),Ts.prototype.g=function(){return new kr(this.i,this.h)};function kr(d,v){_t.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(kr,_t),i=kr.prototype,i.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Xn(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ci(this):Xn(this),this.readyState==3&&Aa(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,Ci(this))},i.Na=function(d){this.g&&(this.response=d,Ci(this))},i.ga=function(){this.g&&Ci(this)};function Ci(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Xn(d)}i.setRequestHeader=function(d,v){this.A.append(d,v)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function Xn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function In(d){let v="";return qe(d,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function Or(d,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=In(b),typeof d=="string"?b!=null&&Bs(b):Ke(d,v,b))}function Je(d){_t.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,_t);var ws=/^https?$/i,to=["POST","PUT"];i=Je.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){Mr(this,Q);return}if(d=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)b.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())b.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(to,v,void 0)>=0)||w||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ie]of b)this.g.setRequestHeader(Q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Mr(this,Q)}};function Mr(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,no(d),Fs(d)}function no(d){d.A||(d.A=!0,kt(d,"complete"),kt(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,kt(this,"complete"),kt(this,"abort"),Fs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},i.Xa=function(){Vr(this)};function Vr(d){if(d.h&&typeof c<"u"){if(d.v&&Jn(d)==4)setTimeout(d.Ca.bind(d),0);else if(kt(d,"readystatechange"),Jn(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=Q===0){let ie=String(d.D).match(Fc)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),w=!ws.test(ie?ie.toLowerCase():"")}b=w}if(b)kt(d,"complete"),kt(d,"success");else{d.o=6;try{var z=Jn(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",no(d)}}finally{Fs(d)}}}}function Fs(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,v||kt(d,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Jn(d){return d.g?d.g.readyState:0}i.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Th(v)}};function Ft(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(d){const v={};d=(d.g&&Jn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<d.length;w++){if(I(d[w]))continue;var b=zc(d[w]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[z]||[];v[z]=Q,Q.push(b)}Qe(v,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function Ri(d){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,d),this.Za=Ss("retryDelaySeedMs",1e4,d),this.Ta=Ss("forwardChannelMaxRetries",2,d),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(d&&d.concurrentRequestLimit),this.Ba=new Ai,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ri.prototype,i.ka=8,i.I=1,i.connect=function(d,v,b,w){bt(0),this.W=d,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=eu(this,null,this.W),Ns(this)};function so(d){if(Ca(d),d.I==3){var v=d.V++,b=Tt(d.J);if(Ke(b,"SID",d.M),Ke(b,"RID",v),Ke(b,"TYPE","terminate"),Pr(d,b),v=new Qn(d,d.j,v),v.M=2,v.A=Dr(Tt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=tu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ys(v)}Zc(d)}function Ii(d){d.g&&(ro(d),d.g.cancel(),d.g=null)}function Ca(d){Ii(d),d.v&&(h.clearTimeout(d.v),d.v=null),Ia(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function Ns(d){if(!Yl(d.h)&&!d.m){d.m=!0;var v=d.Ea;de||N(),Ee||(de(),Ee=!0),C.add(v,d),d.D=0}}function Ra(d,v){return bs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ms(g(d.Ea,d,v),Wc(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new Qn(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=V(Q),ae(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Kc(this,z,v),b=Tt(this.J),Ke(b,"RID",d),Ke(b,"CVER",22),this.G&&Ke(b,"X-HTTP-Session-Id",this.G),Pr(this,b),Q&&(this.R?v="headers="+Bs(In(Q))+"&"+v:this.u&&Or(b,this.u,Q)),Ql(this.h,z),this.Ra&&Ke(b,"TYPE","init"),this.S?(Ke(b,"$req",v),Ke(b,"SID","null"),z.U=!0,gs(z,b,null)):gs(z,b,v),this.I=2}}else this.I==3&&(d?io(this,d):this.i.length==0||Yl(this.h)||io(this))};function io(d,v){var b;v?b=v.l:b=d.V++;const w=Tt(d.J);Ke(w,"SID",d.M),Ke(w,"RID",b),Ke(w,"AID",d.K),Pr(d,w),d.u&&d.o&&Or(w,d.u,d.o),b=new Qn(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Kc(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ql(d.h,b),gs(b,w,v)}function Pr(d,v){d.H&&qe(d.H,function(b,w){Ke(v,w,b)}),d.l&&qe({},function(b,w){Ke(v,w,b)})}function Kc(d,v,b){b=Math.min(d.i.length,b);const w=d.l?g(d.l.Ka,d.l,d):null;e:{var z=d.i;let Se=-1;for(;;){const mt=["count="+b];Se==-1?b>0?(Se=z[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let He=!0;for(let lt=0;lt<b;lt++){var Q=z[lt].g;const Dn=z[lt].map;if(Q-=Se,Q<0)Se=Math.max(0,z[lt].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var ie=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Cs,Wn]of ie){let Zn=Wn;p(Wn)&&(Zn=Ei(Wn)),mt.push(Q+Cs+"="+encodeURIComponent(Zn))}}catch(Cs){throw mt.push(Q+"type="+encodeURIComponent("_badmap")),Cs}}catch{w&&w(Dn)}}if(He){ie=mt.join("&");break e}}ie=void 0}return d=d.i.splice(0,b),v.G=d,ie}function $c(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;de||N(),Ee||(de(),Ee=!0),C.add(v,d),d.A=0}}function Ur(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ms(g(d.Da,d),Wc(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,Xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ms(g(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ii(this),Xc(this))};function ro(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Xc(d){d.g=new Qn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Tt(d.na);Ke(v,"RID","rpc"),Ke(v,"SID",d.M),Ke(v,"AID",d.K),Ke(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ke(v,"TO",d.ia),Ke(v,"TYPE","xmlhttp"),Pr(d,v),d.u&&d.o&&Or(v,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=Dr(Tt(v)),b.u=null,b.R=!0,xa(b,d)}i.Va=function(){this.C!=null&&(this.C=null,Ii(this),Ur(this),bt(19))};function Ia(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Jc(d,v){var b=null;if(d.g==v){Ia(d),ro(d),d.g=null;var w=2}else if(xs(d.h,v))b=v.G,Kl(d.h,v),w=1;else return;if(d.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var z=d.D;w=ba(),kt(w,new fs(w,b)),Ns(d)}else $c(d);else if(z=v.m,z==3||z==0&&v.X>0||!(w==1&&Ra(d,v)||w==2&&Ur(d)))switch(b&&b.length>0&&(v=d.h,v.i=v.i.concat(b)),z){case 1:As(d,5);break;case 4:As(d,10);break;case 3:As(d,6);break;default:As(d,2)}}}function Wc(d,v){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*v}function As(d,v){if(d.j.info("Error code "+v),v==2){var b=g(d.bb,d),w=d.Ua;const z=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(w,"https"),Dr(w),z?$n(w.toString(),b):eo(w.toString(),b)}else bt(2);d.I=0,d.l&&d.l.pa(v),Zc(d),Ca(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Zc(d){if(d.I=0,d.ja=[],d.l){const v=$l(d.h);(v.length!=0||d.i.length!=0)&&(q(d.ja,v),q(d.ja,d.i),d.h.i.length=0,j(d.i),d.i.length=0),d.l.oa()}}function eu(d,v,b){var w=b instanceof vn?Tt(b):new vn(b);if(w.g!="")v&&(w.g=v+"."+w.g),Ti(w,w.u);else{var z=h.location;w=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;const Q=new vn(null);w&&Lt(Q,w),v&&(Q.g=v),z&&Ti(Q,z),b&&(Q.h=b),w=Q}return b=d.G,v=d.wa,b&&v&&Ke(w,b,v),Ke(w,"VER",d.ka),Pr(d,w),w}function tu(d,v,b){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Je(new Ts({ab:b})):new Je(d.ma),v.Fa(d.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}i=nu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Di(){}Di.prototype.g=function(d,v){return new an(d,v)};function an(d,v){_t.call(this),this.g=new Ri(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!I(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Gs(this)}E(an,_t),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){so(this.g)},an.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=Ei(d),d=b);v.i.push(new Et(v.Ya++,d)),v.I==3&&Ns(v)},an.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,an.Z.N.call(this)};function su(d){Bt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}E(su,Bt);function iu(){An.call(this),this.status=1}E(iu,An);function Gs(d){this.g=d}E(Gs,nu),Gs.prototype.ra=function(){kt(this.g,"a")},Gs.prototype.qa=function(d){kt(this.g,new su(d))},Gs.prototype.pa=function(d){kt(this.g,new iu)},Gs.prototype.oa=function(){kt(this.g,"b")},Di.prototype.createWebChannel=Di.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,oE=function(){return new Di},lE=function(){return ba()},aE=ft,np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,xd=Rr,Fl.COMPLETE="complete",rE=Fl,Vc.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,$o=Vc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,iE=Je}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",Y_="4.9.2";let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Il="12.3.0";const ca=new Ip("@firebase/firestore");function ll(){return ca.logLevel}function oe(i,...e){if(ca.logLevel<=Oe.DEBUG){const n=e.map(qp);ca.debug(`Firestore (${Il}): ${i}`,...n)}}function gi(i,...e){if(ca.logLevel<=Oe.ERROR){const n=e.map(qp);ca.error(`Firestore (${Il}): ${i}`,...n)}}function vl(i,...e){if(ca.logLevel<=Oe.WARN){const n=e.map(qp);ca.warn(`Firestore (${Il}): ${i}`,...n)}}function qp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function _e(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cE(i,r,n)}function cE(i,e,n){let r=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gi(r),new Error(r)}function Ye(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||cE(e,l,r)}function we(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class uE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class iR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rR{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hi,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new uE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class aR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=cR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Me(i,e){return i<e?-1:i>e?1:0}function sp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),c=e.charAt(r);if(l!==c)return Vm(l)===Vm(c)?Me(l,c):Vm(l)?1:-1}return Me(i.length,e.length)}const uR=55296,dR=57343;function Vm(i){const e=i.charCodeAt(0);return e>=uR&&e<=dR}function _l(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}const K_="__name__";class ks{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=ks.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const r=ks.isNumericId(e),l=ks.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?ks.extractNumericId(e).compare(ks.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class nt extends ks{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const hR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends ks{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return hR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new $t([K_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new le(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new le(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(h=!h,l++):p!=="."||h?(r+=p,l++):(c(),l++)}if(c(),h)throw new le(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}function dE(i,e,n){if(!n)throw new le(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function fR(i,e,n,r){if(e===!0&&r===!0)throw new le(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function $_(i){if(!me.isDocumentKey(i))throw new le(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function X_(i){if(me.isDocumentKey(i))throw new le(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ah(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function Fn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(i);throw new le(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function It(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ac(i,e){if(!hE(i))throw new le(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(l&&typeof h!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new le(ne.INVALID_ARGUMENT,n);return!0}const J_=-62135596800,W_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*W_);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J_)throw new le(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:It("string",rt._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new rt(0,0))}static max(){return new xe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const dc=-1;function mR(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new dr(l,me.empty(),e)}function pR(i){return new dr(i.readTime,i.key,dc)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(xe.min(),me.empty(),dc)}static max(){return new dr(xe.max(),me.empty(),dc)}}function gR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}const yR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dl(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==yR)throw i;oe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let l=0,c=0,h=!1;e.forEach((p=>{++l,p.next((()=>{++c,h&&c===l&&n()}),(y=>r(y)))})),h=!0,c===l&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((l=>l?se.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,l)=>{const c=e.length,h=new Array(c);let p=0;for(let y=0;y<c;y++){const g=y;n(e[g]).next((x=>{h[g]=x,++p,p===c&&r(h)}),(x=>l(x)))}}))}static doWhile(e,n){return new se(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function _R(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(i){return i.name==="IndexedDbTransactionError"}class lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lh.ce=-1;const Fp=-1;function oh(i){return i==null}function Vd(i){return i===0&&1/i==-1/0}function bR(i){return typeof i=="number"&&Number.isInteger(i)&&!Vd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const fE="";function xR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Z_(e)),e=ER(i.get(n),e);return Z_(e)}function ER(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const c=i.charAt(l);switch(c){case"\0":n+="";break;case fE:n+="";break;default:n+=c}}return n}function Z_(i){return i+fE+""}function eb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ha(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function mE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=l??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Kt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(e){return new tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class is{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new is([])}unionWith(e){let n=new Mt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new is(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const TR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=TR.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fr(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}const gE="server_timestamp",yE="__type__",vE="__previous_value__",_E="__local_write_time__";function Hp(i){return(i?.mapValue?.fields||{})[yE]?.stringValue===gE}function ch(i){const e=i.mapValue.fields[vE];return Hp(e)?ch(e):e}function hc(i){const e=hr(i.mapValue.fields[_E].timestampValue);return new rt(e.seconds,e.nanos)}class wR{constructor(e,n,r,l,c,h,p,y,g,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=x}}const Pd="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Pd}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}const bE="__type__",SR="__max__",hd={mapValue:{}},xE="__vector__",Ud="value";function mr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hp(i)?4:AR(i)?9007199254740991:NR(i)?10:11:_e(28295,{value:i})}function zs(i,e){if(i===e)return!0;const n=mr(i);if(n!==mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hc(i).isEqual(hc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=hr(l.timestampValue),p=hr(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=yt(l.doubleValue),p=yt(c.doubleValue);return h===p?Vd(h)===Vd(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return _l(i.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return(function(l,c){const h=l.mapValue.fields||{},p=c.mapValue.fields||{};if(eb(h)!==eb(p))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(p[y]===void 0||!zs(h[y],p[y])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>zs(n,e)))!==void 0}function bl(i,e){if(i===e)return 0;const n=mr(i),r=mr(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=yt(c.integerValue||c.doubleValue),y=yt(h.integerValue||h.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(i,e);case 3:return nb(i.timestampValue,e.timestampValue);case 4:return nb(hc(i),hc(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return(function(c,h){const p=fr(c),y=fr(h);return p.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),y=h.split("/");for(let g=0;g<p.length&&g<y.length;g++){const x=Me(p[g],y[g]);if(x!==0)return x}return Me(p.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Me(yt(c.latitude),yt(h.latitude));return p!==0?p:Me(yt(c.longitude),yt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return sb(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},y=h.fields||{},g=p[Ud]?.arrayValue,x=y[Ud]?.arrayValue,E=Me(g?.values?.length||0,x?.values?.length||0);return E!==0?E:sb(g,x)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===hd.mapValue&&h===hd.mapValue)return 0;if(c===hd.mapValue)return 1;if(h===hd.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),g=h.fields||{},x=Object.keys(g);y.sort(),x.sort();for(let E=0;E<y.length&&E<x.length;++E){const S=sp(y[E],x[E]);if(S!==0)return S;const j=bl(p[y[E]],g[x[E]]);if(j!==0)return j}return Me(y.length,x.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function nb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=hr(i),r=hr(e),l=Me(n.seconds,r.seconds);return l!==0?l:Me(n.nanos,r.nanos)}function sb(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=bl(n[l],r[l]);if(c)return c}return Me(n.length,r.length)}function xl(i){return ip(i)}function ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return fr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=ip(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of r)c?c=!1:l+=",",l+=`${h}:${ip(n.fields[h])}`;return l+"}"})(i.mapValue):_e(61005,{value:i})}function Ed(i){switch(mr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(i);return e?16+Ed(e):16;case 5:return 2*i.stringValue.length;case 6:return fr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Ed(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return ha(r.fields,((c,h)=>{l+=c.length+Ed(h)})),l})(i.mapValue);default:throw _e(13486,{value:i})}}function ib(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rp(i){return!!i&&"integerValue"in i}function Gp(i){return!!i&&"arrayValue"in i}function rb(i){return!!i&&"nullValue"in i}function ab(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Td(i){return!!i&&"mapValue"in i}function NR(i){return(i?.mapValue?.fields||{})[bE]?.stringValue===xE}function nc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ha(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=nc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(i.arrayValue.values[n]);return e}return{...i}}function AR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===SR}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=$t.emptyPath(),r={},l=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=p.popLast()}h?r[p.lastSegment()]=nc(h):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Td(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){ha(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new qn(nc(this.value))}}function EE(i){const e=[];return ha(i.fields,((n,r)=>{const l=new $t([n]);if(Td(r)){const c=EE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)})),new is(e)}class tn{constructor(e,n,r,l,c,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,xe.min(),xe.min(),xe.min(),qn.empty(),0)}static newFoundDocument(e,n,r,l){return new tn(e,1,n,xe.min(),r,l,0)}static newNoDocument(e,n){return new tn(e,2,n,xe.min(),xe.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,xe.min(),xe.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function lb(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const c=e[l],h=i.position[l];if(c.field.isKeyField()?r=me.comparator(me.fromName(h.referenceValue),n.key):r=bl(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function ob(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!zs(i.position[n],e.position[n]))return!1;return!0}class zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function CR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class TE{}class Rt extends TE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IR(e,n,r):n==="array-contains"?new kR(e,r):n==="in"?new OR(e,r):n==="not-in"?new MR(e,r):n==="array-contains-any"?new VR(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DR(e,r):new jR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bl(n,this.value)):n!==null&&mr(this.value)===mr(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ls extends TE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ls(e,n)}matches(e){return wE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(i){return i.op==="and"}function SE(i){return RR(i)&&wE(i)}function RR(i){for(const e of i.filters)if(e instanceof ls)return!1;return!0}function ap(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+xl(i.value);if(SE(i))return i.filters.map((e=>ap(e))).join(",");{const e=i.filters.map((n=>ap(n))).join(",");return`${i.op}(${e})`}}function NE(i,e){return i instanceof Rt?(function(r,l){return l instanceof Rt&&r.op===l.op&&r.field.isEqual(l.field)&&zs(r.value,l.value)})(i,e):i instanceof ls?(function(r,l){return l instanceof ls&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,h,p)=>c&&NE(h,l.filters[p])),!0):!1})(i,e):void _e(19439)}function AE(i){return i instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${xl(n.value)}`})(i):i instanceof ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(AE).join(" ,")+"}"})(i):"Filter"}class IR extends Rt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class DR extends Rt{constructor(e,n){super(e,"in",n),this.keys=CE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class jR extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=CE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CE(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class kR extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gp(n)&&mc(n.arrayValue,this.value)}}class OR extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class MR extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class VR extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}class PR{constructor(e,n=null,r=[],l=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function cb(i,e=null,n=[],r=[],l=null,c=null,h=null){return new PR(i,e,n,r,l,c,h)}function Yp(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ap(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xl(r))).join(",")),e.Te=n}return e.Te}function Qp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!CR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!NE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ob(i.startAt,e.startAt)&&ob(i.endAt,e.endAt)}function lp(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Cc{constructor(e,n=null,r=[],l=[],c=null,h="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UR(i,e,n,r,l,c,h,p){return new Cc(i,e,n,r,l,c,h,p)}function uh(i){return new Cc(i)}function ub(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function RE(i){return i.collectionGroup!==null}function sc(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Mt($t.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new zd(c,r))})),n.has($t.keyField().canonicalString())||e.Ie.push(new zd($t.keyField(),r))}return e.Ie}function Vs(i){const e=we(i);return e.Ee||(e.Ee=LR(e,sc(i))),e.Ee}function LR(i,e){if(i.limitType==="F")return cb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zd(l.field,c)}));const n=i.endAt?new Ld(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Ld(i.startAt.position,i.startAt.inclusive):null;return cb(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function op(i,e){const n=i.filters.concat([e]);return new Cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function cp(i,e,n){return new Cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function dh(i,e){return Qp(Vs(i),Vs(e))&&i.limitType===e.limitType}function IE(i){return`${Yp(Vs(i))}|lt:${i.limitType}`}function ol(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>AE(l))).join(", ")}]`),oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>xl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>xl(l))).join(",")),`Target(${r})`})(Vs(i))}; limitType=${i.limitType})`}function hh(i,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,l){for(const c of sc(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(h,p,y){const g=lb(h,p,y);return h.inclusive?g<=0:g<0})(r.startAt,sc(r),l)||r.endAt&&!(function(h,p,y){const g=lb(h,p,y);return h.inclusive?g>=0:g>0})(r.endAt,sc(r),l))})(i,e)}function zR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function DE(i){return(e,n)=>{let r=!1;for(const l of sc(i)){const c=qR(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function qR(i,e,n){const r=i.field.isKeyField()?me.comparator(e.key,n.key):(function(c,h,p){const y=h.data.field(c),g=p.data.field(c);return y!==null&&g!==null?bl(y,g):_e(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:i.dir})}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const BR=new ut(me.comparator);function yi(){return BR}const jE=new ut(me.comparator);function Xo(...i){let e=jE;for(const n of i)e=e.insert(n.key,n);return e}function kE(i){let e=jE;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function na(){return ic()}function OE(){return ic()}function ic(){return new fa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const FR=new ut(me.comparator),HR=new Mt(me.comparator);function Ve(...i){let e=HR;for(const n of i)e=e.add(n);return e}const GR=new Mt(Me);function YR(){return GR}function Kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function ME(i){return{integerValue:""+i}}function QR(i,e){return bR(e)?ME(e):Kp(i,e)}class fh{constructor(){this._=void 0}}function KR(i,e,n){return i instanceof qd?(function(l,c){const h={fields:{[yE]:{stringValue:gE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hp(c)&&(c=ch(c)),c&&(h.fields[vE]=c),{mapValue:h}})(n,e):i instanceof pc?PE(i,e):i instanceof gc?UE(i,e):(function(l,c){const h=VE(l,c),p=db(h)+db(l.Ae);return rp(h)&&rp(l.Ae)?ME(p):Kp(l.serializer,p)})(i,e)}function $R(i,e,n){return i instanceof pc?PE(i,e):i instanceof gc?UE(i,e):n}function VE(i,e){return i instanceof Bd?(function(r){return rp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class qd extends fh{}class pc extends fh{constructor(e){super(),this.elements=e}}function PE(i,e){const n=LE(e);for(const r of i.elements)n.some((l=>zs(l,r)))||n.push(r);return{arrayValue:{values:n}}}class gc extends fh{constructor(e){super(),this.elements=e}}function UE(i,e){let n=LE(e);for(const r of i.elements)n=n.filter((l=>!zs(l,r)));return{arrayValue:{values:n}}}class Bd extends fh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function db(i){return yt(i.integerValue||i.doubleValue)}function LE(i){return Gp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function XR(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof pc&&l instanceof pc||r instanceof gc&&l instanceof gc?_l(r.elements,l.elements,zs):r instanceof Bd&&l instanceof Bd?zs(r.Ae,l.Ae):r instanceof qd&&l instanceof qd})(i.transform,e.transform)}class JR{constructor(e,n){this.version=e,this.transformResults=n}}class rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class mh{}function zE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $p(i.key,rs.none()):new Rc(i.key,i.data,rs.none());{const n=i.data,r=qn.empty();let l=new Mt($t.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),l=l.add(c)}return new ma(i.key,r,new is(l.toArray()),rs.none())}}function WR(i,e,n){i instanceof Rc?(function(l,c,h){const p=l.value.clone(),y=fb(l.fieldTransforms,c,h.transformResults);p.setAll(y),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof ma?(function(l,c,h){if(!wd(l.precondition,c))return void c.convertToUnknownDocument(h.version);const p=fb(l.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(qE(l)),y.setAll(p),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,n):(function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function rc(i,e,n,r){return i instanceof Rc?(function(c,h,p,y){if(!wd(c.precondition,h))return p;const g=c.value.clone(),x=mb(c.fieldTransforms,y,h);return g.setAll(x),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,r):i instanceof ma?(function(c,h,p,y){if(!wd(c.precondition,h))return p;const g=mb(c.fieldTransforms,y,h),x=h.data;return x.setAll(qE(c)),x.setAll(g),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(c,h,p){return wd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function ZR(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),c=VE(r.transform,l||null);c!=null&&(n===null&&(n=qn.empty()),n.set(r.field,c))}return n||null}function hb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&_l(r,l,((c,h)=>XR(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Rc extends mh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ma extends mh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qE(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function fb(i,e,n){const r=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const c=i[l],h=c.transform,p=e.data.field(c.field);r.set(c.field,$R(h,p,n[l]))}return r}function mb(i,e,n){const r=new Map;for(const l of i){const c=l.transform,h=n.data.field(l.field);r.set(l.field,KR(c,h,e))}return r}class $p extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&WR(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OE();return this.mutations.forEach((l=>{const c=e.get(l.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(l.key)?null:p;const y=zE(h,p);y!==null&&r.set(l.key,y),h.isValidDocument()||h.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((n,r)=>hb(n,r)))&&_l(this.baseMutations,e.baseMutations,((n,r)=>hb(n,r)))}}class Xp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return FR})();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,r[h].version);return new Xp(e,n,r,l)}}class nI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,ze;function iI(i){switch(i){case ne.OK:return _e(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function BE(i){if(i===void 0)return gi("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Ct.OK:return ne.OK;case Ct.CANCELLED:return ne.CANCELLED;case Ct.UNKNOWN:return ne.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ne.INTERNAL;case Ct.UNAVAILABLE:return ne.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ne.NOT_FOUND;case Ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ct.ABORTED:return ne.ABORTED;case Ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ct.DATA_LOSS:return ne.DATA_LOSS;default:return _e(39323,{code:i})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function rI(){return new TextEncoder}const aI=new cr([4294967295,4294967295],0);function pb(i){const e=rI().encode(i),n=new sE;return n.update(e),new Uint8Array(n.digest())}function gb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cr([n,r],0),new cr([l,c],0)]}class Jp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(r<0)throw new Jo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(cr.fromNumber(r)));return l.compare(aI)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pb(e),[r,l]=gb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,l,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Jp(c,l,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=pb(e),[r,l]=gb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,l,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ph(xe.min(),l,new ut(Me),yi(),Ve())}}class Ic{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ic(r,n,Ve(),Ve(),Ve())}}class Sd{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class FE{constructor(e,n){this.targetId=e,this.Ce=n}}class HE{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class yb{constructor(){this.ve=0,this.Fe=vb(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:_e(38017,{changeType:c})}})),new Ic(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=vb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lI{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=fd(),this.He=fd(),this.Ye=new ut(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(lp(c))if(r===0){const h=new me(c.path);this.et(n,h,tn.newNoDocument(h,xe.min()))}else Ye(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),y=p?this.ct(p,e,h):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let h,p;try{h=fr(r).toUint8Array()}catch(y){if(y instanceof pE)return vl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Jp(h,l,c)}catch(y){return vl(y instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&lp(p.target)){const y=new me(p.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,tn.newNoDocument(y,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let r=Ve();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const l=new ph(e,n,this.Ye,this.je,r);return this.je=yi(),this.Je=fd(),this.He=fd(),this.Ye=new ut(Me),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fd(){return new ut(me.comparator)}function vb(){return new ut(me.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class dI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(i,e){return i.useProto3Json||oh(e)?e:{value:e}}function Fd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function hI(i,e){return Fd(i,e.toTimestamp())}function Ps(i){return Ye(!!i,49232),xe.fromTimestamp((function(n){const r=hr(n);return new rt(r.seconds,r.nanos)})(i))}function Wp(i,e){return dp(i,e).canonicalString()}function dp(i,e){const n=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function YE(i){const e=nt.fromString(i);return Ye(JE(e),10190,{key:e.toString()}),e}function hp(i,e){return Wp(i.databaseId,e.path)}function Pm(i,e){const n=YE(e);if(n.get(1)!==i.databaseId.projectId)throw new le(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(KE(n))}function QE(i,e){return Wp(i.databaseId,e)}function fI(i){const e=YE(i);return e.length===4?nt.emptyPath():KE(e)}function fp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function KE(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _b(i,e,n){return{name:hp(i,e),fields:n.value.mapValue.fields}}function mI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(g,x){return g.useProto3Json?(Ye(x===void 0||typeof x=="string",58123),Xt.fromBase64String(x||"")):(Ye(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Xt.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(g){const x=g.code===void 0?ne.UNKNOWN:BE(g.code);return new le(x,g.message||"")})(h);n=new HE(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Pm(i,r.document.name),c=Ps(r.document.updateTime),h=r.document.createTime?Ps(r.document.createTime):xe.min(),p=new qn({mapValue:{fields:r.document.fields}}),y=tn.newFoundDocument(l,c,h,p),g=r.targetIds||[],x=r.removedTargetIds||[];n=new Sd(g,x,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Pm(i,r.document),c=r.readTime?Ps(r.readTime):xe.min(),h=tn.newNoDocument(l,c),p=r.removedTargetIds||[];n=new Sd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Pm(i,r.document),c=r.removedTargetIds||[];n=new Sd([],c,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,h=new sI(l,c),p=r.targetId;n=new FE(p,h)}}return n}function pI(i,e){let n;if(e instanceof Rc)n={update:_b(i,e.key,e.value)};else if(e instanceof $p)n={delete:hp(i,e.key)};else if(e instanceof ma)n={update:_b(i,e.key,e.data),updateMask:wI(e.fieldMask)};else{if(!(e instanceof eI))return _e(16599,{Vt:e.type});n={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const p=h.transform;if(p instanceof qd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof pc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof gc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Bd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:hI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(i,e.precondition)),n}function gI(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(l,c){let h=l.updateTime?Ps(l.updateTime):Ps(c);return h.isEqual(xe.min())&&(h=Ps(c)),new JR(h,l.transformResults||[])})(n,e)))):[]}function yI(i,e){return{documents:[QE(i,e.path)]}}function vI(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QE(i,l);const c=(function(g){if(g.length!==0)return XE(ls.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(g){if(g.length!==0)return g.map((x=>(function(S){return{field:cl(S.field),direction:xI(S.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=up(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function _I(i){let e=fI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ye(r===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=$E(E);return S instanceof ls&&SE(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((S=>(function(q){return new zd(ul(q.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,oh(S)?null:S})(n.limit));let y=null;n.startAt&&(y=(function(E){const S=!!E.before,j=E.values||[];return new Ld(j,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const S=!E.before,j=E.values||[];return new Ld(j,S)})(n.endAt)),UR(e,l,h,c,p,"F",y,g)}function bI(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $E(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ul(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ul(n.unaryFilter.field);return Rt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ul(n.unaryFilter.field);return Rt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ul(n.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Rt.create(ul(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ls.create(n.compositeFilter.filters.map((r=>$E(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(i):_e(30097,{filter:i})}function xI(i){return oI[i]}function EI(i){return cI[i]}function TI(i){return uI[i]}function cl(i){return{fieldPath:i.canonicalString()}}function ul(i){return $t.fromServerFormat(i.fieldPath)}function XE(i){return i instanceof Rt?(function(n){if(n.op==="=="){if(ab(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if(rb(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ab(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if(rb(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:EI(n.op),value:n.value}}})(i):i instanceof ls?(function(n){const r=n.getFilters().map((l=>XE(l)));return r.length===1?r[0]:{compositeFilter:{op:TI(n.op),filters:r}}})(i):_e(54877,{filter:i})}function wI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class rr{constructor(e,n,r,l,c=xe.min(),h=xe.min(),p=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SI{constructor(e){this.yt=e}}function NI(i){const e=_I({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?cp(e,e.limit,"L"):e}class AI{constructor(){this.Cn=new CI}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(dr.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class CI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Mt(nt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(WE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}const xb="LruGarbageCollector",RI=1048576;function Eb([i,e],[n,r]){const l=Me(i,n);return l===0?Me(e,r):l}class II{constructor(e){this.Ir=e,this.buffer=new Mt(Eb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Eb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(xb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?oe(xb,"Ignoring IndexedDB error during garbage collection: ",n):await Dl(n)}await this.Vr(3e5)}))}}class jI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(lh.ce);const r=new II(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(bb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,h,p,y,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,h=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(g=Date.now(),ll()<=Oe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${l} in `+(p-h)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${E} documents in `+(g-y)+`ms
Total Duration: ${g-x}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function kI(i,e){return new jI(i,e)}class OI{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class VI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&rc(r.mutation,l,is.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const l=na();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let h=Xo();return c.forEach(((p,y)=>{h=h.insert(p,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,l){let c=yi();const h=ic(),p=(function(){return ic()})();return n.forEach(((y,g)=>{const x=r.get(g.key);l.has(g.key)&&(x===void 0||x.mutation instanceof ma)?c=c.insert(g.key,g):x!==void 0?(h.set(g.key,x.mutation.getFieldMask()),rc(x.mutation,g,x.mutation.getFieldMask(),rt.now())):h.set(g.key,is.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((g,x)=>h.set(g,x))),n.forEach(((g,x)=>p.set(g,new MI(x,h.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=ic();let l=new ut(((h,p)=>h-p)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let x=r.get(y)||is.empty();x=p.applyToLocalView(g,x),r.set(y,x);const E=(l.get(p.batchId)||Ve()).add(y);l=l.insert(p.batchId,E)}))})).next((()=>{const h=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,x=y.value,E=OE();x.forEach((S=>{if(!c.has(S)){const j=zE(n.get(S),r.get(S));j!==null&&E.set(S,j),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,E))}return se.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):se.resolve(na());let p=dc,y=c;return h.next((g=>se.forEach(g,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?se.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{y=y.insert(x,S)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,y,g,Ve()))).next((x=>({batchId:p,changes:kE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let l=Xo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let h=Xo();return this.indexManager.getCollectionParents(e,c).next((p=>se.forEach(p,(y=>{const g=(function(E,S){return new Cc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,l).next((x=>{x.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((h=>{c.forEach(((y,g)=>{const x=g.getKey();h.get(x)===null&&(h=h.insert(x,tn.newInvalidDocument(x)))}));let p=Xo();return h.forEach(((y,g)=>{const x=c.get(y);x!==void 0&&rc(x.mutation,g,is.empty(),rt.now()),hh(n,g)&&(p=p.insert(y,g))})),p}))}}class PI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ps(l.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:NI(l.bundledQuery),readTime:Ps(l.readTime)}})(n)),se.resolve()}}class UI{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=na();return se.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const l=na(),c=n.length+1,h=new me(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return se.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new ut(((g,x)=>g-x));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let x=c.get(g.largestBatchId);x===null&&(x=na(),c=c.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const p=na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,x)=>p.set(g,x))),!(p.size()>=l)););return se.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new nI(n,r));let c=this.qr.get(n);c===void 0&&(c=Ve(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class LI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class Zp{constructor(){this.Qr=new Mt(qt.$r),this.Ur=new Mt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new me(new nt([])),r=new qt(n,e),l=new qt(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new nt([])),r=new qt(n,e),l=new qt(n,e+1);let c=Ve();return this.Ur.forEachInRange([r,l],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new qt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class zI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(qt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new tI(c,n,r,l);this.mutationQueue.push(h);for(const p of l)this.Zr=this.Zr.add(new qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),l=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(h=>{const p=this.Xr(h.Yr);c.push(p)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Me);return n.forEach((l=>{const c=new qt(l,0),h=new qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{r=r.add(p.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;me.isDocumentKey(c)||(c=c.child(""));const h=new qt(new me(c),0);let p=new Mt(Me);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Yr)),!0)}),h),se.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(l=>{const c=new qt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qt(n,0),l=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qI{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=yi();const h=n.path,p=new me(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:x}}=y.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||gR(pR(x),r)<=0||(l.has(x.key)||hh(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,r,l){_e(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new BI(this)}getSize(e){return se.resolve(this.size)}}class BI extends OI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class FI{constructor(e){this.persistence=e,this.si=new fa((n=>Yp(n)),Qp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),se.waitFor(c).next((()=>l))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((h=>{c.push(l.markPotentiallyOrphaned(e,h))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class ZE{constructor(e,n){this.ui={},this.overlays={},this.ci=new lh(0),this.li=!1,this.li=!0,this.hi=new LI,this.referenceDelegate=e(this),this.Pi=new FI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(l){return new qI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new SI(n),this.Ii=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new zI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new HI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class HI extends vR{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const l=me.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hd{constructor(e,n){this.persistence=e,this.pi=new fa((r=>xR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=kI(this,n)}static mi(e,n){return new Hd(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?se.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(h=>this.br(e,h,n).next((p=>{p||(r++,c.removeEntry(h,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return se.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Ve(),l=Ve();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tg(e,n.fromCache,r,l)}}class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ES()?8:_R(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new GI;return this.Ss(e,n,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(ll()<=Oe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(ll()<=Oe.DEBUG&&oe("QueryEngine","Query:",ol(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(ll()<=Oe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):se.resolve())}ys(e,n){if(ub(n))return se.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=cp(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=Ve(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.Ds(n,p);return this.Cs(n,g,h,y.readTime)?this.ys(e,cp(n,null,"F")):this.vs(e,g,n,y)}))))})))))}ws(e,n,r,l){return ub(n)||l.isEqual(xe.min())?se.resolve(null):this.ps.getDocuments(e,r).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,r,l)?se.resolve(null):(ll()<=Oe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ol(n)),this.vs(e,h,n,mR(l,dc)).next((p=>p)))}))}Ds(e,n){let r=new Mt(DE(e));return n.forEach(((l,c)=>{hh(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return ll()<=Oe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(e,n,dr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const ng="LocalStore",QI=3e8;class KI{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Me),this.xs=new fa((c=>Yp(c)),Qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $I(i,e,n,r){return new KI(i,e,n,r)}async function e1(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],p=[];let y=Ve();for(const g of l){h.push(g.batchId);for(const x of g.mutations)y=y.add(x.key)}for(const g of c){p.push(g.batchId);for(const x of g.mutations)y=y.add(x.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:p})))}))}))}function XI(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,x){const E=g.batch,S=E.keys();let j=se.resolve();return S.forEach((q=>{j=j.next((()=>x.getEntry(y,q))).next((H=>{const R=g.docVersions.get(q);Ye(R!==null,48541),H.version.compareTo(R)<0&&(E.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),x.addEntry(H)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(y,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Ve();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function t1(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function JI(i,e){const n=we(i),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const S=l.get(E);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,E))));let j=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(Xt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,r)),l=l.insert(E,j),(function(H,R,Y){return H.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=QI?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,j,x)&&p.push(n.Pi.updateTargetData(c,j))}));let y=yi(),g=Ve();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(WI(c,h,e.documentUpdates).next((x=>{y=x.ks,g=x.qs}))),!r.isEqual(xe.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return se.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,g))).next((()=>y))})).then((c=>(n.Ms=l,c)))}function WI(i,e,n){let r=Ve(),l=Ve();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let h=yi();return n.forEach(((p,y)=>{const g=c.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(p,y.readTime),h=h.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),h=h.insert(p,y)):oe(ng,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:h,qs:l}}))}function ZI(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function e4(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,se.resolve(l)):n.Pi.allocateTargetId(r).next((h=>(l=new rr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mp(i,e,n){const r=we(i),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!jl(h))throw h;oe(ng,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function Tb(i,e,n){const r=we(i);let l=xe.min(),c=Ve();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,g,x){const E=we(y),S=E.xs.get(x);return S!==void 0?se.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,x)})(r,h,Vs(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?l:xe.min(),n?c:Ve()))).next((p=>(t4(r,zR(e),p),{documents:p,Qs:c})))))}function t4(i,e,n){let r=i.Os.get(e)||xe.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class wb{constructor(){this.activeTargetIds=YR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n4{constructor(){this.Mo=new wb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s4{Oo(e){}shutdown(){}}const Sb="ConnectivityMonitor";class Nb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Sb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let md=null;function pp(){return md===null?md=(function(){return 268435456+Math.round(2147483648*Math.random())})():md++,"0x"+md.toString(16)}const Um="RestConnection",i4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Pd?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const h=pp(),p=this.zo(e,n.toUriEncodedString());oe(Um,`Sending RPC '${e}' ${h}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:g}=new URL(p),x=Al(g);return this.Jo(e,p,y,r,x).then((E=>(oe(Um,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw vl(Um,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",r),E}))}Ho(e,n,r,l,c,h){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=i4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class a4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class l4 extends r4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const h=pp();return new Promise(((p,y)=>{const g=new iE;g.setWithCredentials(!0),g.listenOnce(rE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case xd.NO_ERROR:const E=g.getResponseJson();oe(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case xd.TIMEOUT:oe(Wt,`RPC '${e}' ${h} timed out`),y(new le(ne.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const S=g.getStatus();if(oe(Wt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const q=j?.error;if(q&&q.status&&q.message){const H=(function(Y){const Z=Y.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Z)>=0?Z:ne.UNKNOWN})(q.status);y(new le(H,q.message))}else y(new le(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new le(ne.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(Wt,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(l);oe(Wt,`RPC '${e}' ${h} sending request:`,l),g.send(n,"POST",x,r,15)}))}T_(e,n,r){const l=pp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=oE(),p=lE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const x=c.join("");oe(Wt,`Creating RPC '${e}' stream ${l}: ${x}`,y);const E=h.createWebChannel(x,y);this.I_(E);let S=!1,j=!1;const q=new a4({Yo:R=>{j?oe(Wt,`Not sending because RPC '${e}' stream ${l} is closed:`,R):(S||(oe(Wt,`Opening RPC '${e}' stream ${l} transport.`),E.open(),S=!0),oe(Wt,`RPC '${e}' stream ${l} sending:`,R),E.send(R))},Zo:()=>E.close()}),H=(R,Y,Z)=>{R.listen(Y,($=>{try{Z($)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return H(E,$o.EventType.OPEN,(()=>{j||(oe(Wt,`RPC '${e}' stream ${l} transport opened.`),q.o_())})),H(E,$o.EventType.CLOSE,(()=>{j||(j=!0,oe(Wt,`RPC '${e}' stream ${l} transport closed`),q.a_(),this.E_(E))})),H(E,$o.EventType.ERROR,(R=>{j||(j=!0,vl(Wt,`RPC '${e}' stream ${l} transport errored. Name:`,R.name,"Message:",R.message),q.a_(new le(ne.UNAVAILABLE,"The operation could not be completed")))})),H(E,$o.EventType.MESSAGE,(R=>{if(!j){const Y=R.data[0];Ye(!!Y,16349);const Z=Y,$=Z?.error||Z[0]?.error;if($){oe(Wt,`RPC '${e}' stream ${l} received error:`,$);const ge=$.status;let de=(function(N){const A=Ct[N];if(A!==void 0)return BE(A)})(ge),Ee=$.message;de===void 0&&(de=ne.INTERNAL,Ee="Unknown error status: "+ge+" with message "+$.message),j=!0,q.a_(new le(de,Ee)),E.close()}else oe(Wt,`RPC '${e}' stream ${l} received:`,Y),q.u_(Y)}})),H(p,aE.STAT_EVENT,(R=>{R.stat===np.PROXY?oe(Wt,`RPC '${e}' stream ${l} detected buffering proxy`):R.stat===np.NOPROXY&&oe(Wt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lm(){return typeof document<"u"?document:null}function gh(i){return new dI(i,!0)}class n1{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ab="PersistentStream";class s1{constructor(e,n,r,l,c,h,p,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Ab,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(Ab,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o4 extends s1{constructor(e,n,r,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?Ps(h.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fp(this.serializer),n.addTarget=(function(c,h){let p;const y=h.target;if(p=lp(y)?{documents:yI(c,y)}:{query:vI(c,y).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=GE(c,h.resumeToken);const g=up(c,h.expectedCount);g!==null&&(p.expectedCount=g)}else if(h.snapshotVersion.compareTo(xe.min())>0){p.readTime=Fd(c,h.snapshotVersion.toTimestamp());const g=up(c,h.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const r=bI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.q_(n)}}class c4 extends s1{constructor(e,n,r,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gI(e.writeResults,e.commitTime),r=Ps(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>pI(this.serializer,r)))};this.q_(n)}}class u4{}class d4 extends u4{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,dp(n,r),l,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(ne.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,dp(n,r),l,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class h4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class f4{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{pa(this)&&(oe(ua,"Restarting streams for network reachability change."),await(async function(y){const g=we(y);g.Ea.add(4),await Dc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yh(g)})(this))}))})),this.Ra=new h4(r,l)}}async function yh(i){if(pa(i))for(const e of i.da)await e(!0)}async function Dc(i){for(const e of i.da)await e(!1)}function i1(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ag(n)?rg(n):kl(n).O_()&&ig(n,e))}function sg(i,e){const n=we(i),r=kl(n);n.Ia.delete(e),r.O_()&&r1(n,e),n.Ia.size===0&&(r.O_()?r.L_():pa(n)&&n.Ra.set("Unknown"))}function ig(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(i).Y_(e)}function r1(i,e){i.Va.Ue(e),kl(i).Z_(e)}function rg(i){i.Va=new lI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),kl(i).start(),i.Ra.ua()}function ag(i){return pa(i)&&!kl(i).x_()&&i.Ia.size>0}function pa(i){return we(i).Ea.size===0}function a1(i){i.Va=void 0}async function m4(i){i.Ra.set("Online")}async function p4(i){i.Ia.forEach(((e,n)=>{ig(i,e)}))}async function g4(i,e){a1(i),ag(i)?(i.Ra.ha(e),rg(i)):i.Ra.set("Unknown")}async function y4(i,e,n){if(i.Ra.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await(async function(l,c){const h=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,h),l.Ia.delete(p),l.Va.removeTarget(p))})(i,e)}catch(r){oe(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(i,r)}else if(e instanceof Sd?i.Va.Ze(e):e instanceof FE?i.Va.st(e):i.Va.tt(e),!n.isEqual(xe.min()))try{const r=await t1(i.localStore);n.compareTo(r)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const x=c.Ia.get(g);x&&c.Ia.set(g,x.withResumeToken(y.resumeToken,h))}})),p.targetMismatches.forEach(((y,g)=>{const x=c.Ia.get(y);if(!x)return;c.Ia.set(y,x.withResumeToken(Xt.EMPTY_BYTE_STRING,x.snapshotVersion)),r1(c,y);const E=new rr(x.target,y,g,x.sequenceNumber);ig(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){oe(ua,"Failed to raise snapshot:",r),await Gd(i,r)}}async function Gd(i,e,n){if(!jl(e))throw e;i.Ea.add(1),await Dc(i),i.Ra.set("Offline"),n||(n=()=>t1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe(ua,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await yh(i)}))}function l1(i,e){return e().catch((n=>Gd(i,n,e)))}async function vh(i){const e=we(i),n=pr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;v4(e);)try{const l=await ZI(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,_4(e,l)}catch(l){await Gd(e,l)}o1(e)&&c1(e)}function v4(i){return pa(i)&&i.Ta.length<10}function _4(i,e){i.Ta.push(e);const n=pr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function o1(i){return pa(i)&&!pr(i).x_()&&i.Ta.length>0}function c1(i){pr(i).start()}async function b4(i){pr(i).ra()}async function x4(i){const e=pr(i);for(const n of i.Ta)e.ea(n.mutations)}async function E4(i,e,n){const r=i.Ta.shift(),l=Xp.from(r,e,n);await l1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await vh(i)}async function T4(i,e){e&&pr(i).X_&&await(async function(r,l){if((function(h){return iI(h)&&h!==ne.ABORTED})(l.code)){const c=r.Ta.shift();pr(r).B_(),await l1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(r)}})(i,e),o1(i)&&c1(i)}async function Cb(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe(ua,"RemoteStore received new credentials");const r=pa(n);n.Ea.add(3),await Dc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yh(n)}async function w4(i,e){const n=we(i);e?(n.Ea.delete(2),await yh(n)):e||(n.Ea.add(2),await Dc(n),n.Ra.set("Unknown"))}function kl(i){return i.ma||(i.ma=(function(n,r,l){const c=we(n);return c.sa(),new o4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:m4.bind(null,i),t_:p4.bind(null,i),r_:g4.bind(null,i),H_:y4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ag(i)?rg(i):i.Ra.set("Unknown")):(await i.ma.stop(),a1(i))}))),i.ma}function pr(i){return i.fa||(i.fa=(function(n,r,l){const c=we(n);return c.sa(),new c4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:b4.bind(null,i),r_:T4.bind(null,i),ta:x4.bind(null,i),na:E4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vh(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(ua,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class lg{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const h=Date.now()+r,p=new lg(e,n,h,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(i,e){if(gi("AsyncQueue",`${e}: ${i}`),jl(i))return new le(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Xo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Rb{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Tl{constructor(e,n,r,l,c,h,p,y,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,l,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Tl(e,n,pl.emptySet(n),h,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class S4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class N4{constructor(){this.queries=Ib(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=we(n),c=l.queries;l.queries=Ib(),c.forEach(((h,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new le(ne.ABORTED,"Firestore shutting down"))}}function Ib(){return new fa((i=>IE(i)),dh)}async function cg(i,e){const n=we(i);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new S4,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const p=og(h,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&dg(n)}async function ug(i,e){const n=we(i),r=e.query;let l=3;const c=n.queries.get(r);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A4(i,e){const n=we(i);let r=!1;for(const l of e){const c=l.query,h=n.queries.get(c);if(h){for(const p of h.Sa)p.Fa(l)&&(r=!0);h.wa=l}}r&&dg(n)}function C4(i,e,n){const r=we(i),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function dg(i){i.Ca.forEach((e=>{e.next()}))}var gp,Db;(Db=gp||(gp={})).Ma="default",Db.Cache="cache";class hg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gp.Cache}}class u1{constructor(e){this.key=e}}class d1{constructor(e){this.key=e}}class R4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=DE(e),this.tu=new pl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Rb,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,E)=>{const S=l.get(x),j=hh(this.query,E)?E:null,q=!!S&&this.mutatedKeys.has(S.key),H=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let R=!1;S&&j?S.data.isEqual(j.data)?q!==H&&(r.track({type:3,doc:j}),R=!0):this.su(S,j)||(r.track({type:2,doc:j}),R=!0,(y&&this.eu(j,y)>0||g&&this.eu(j,g)<0)&&(p=!0)):!S&&j?(r.track({type:0,doc:j}),R=!0):S&&!j&&(r.track({type:1,doc:S}),R=!0,(y||g)&&(p=!0)),R&&(j?(h=h.add(j),c=H?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:h,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(j,q){const H=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:R})}};return H(j)-H(q)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,g=y!==this.Za;return this.Za=y,h.length!==0||g?{snapshot:new Tl(this.query,e.tu,c,h,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new d1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new u1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class I4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D4{constructor(e){this.key=e,this.hu=!1}}class j4{constructor(e,n,r,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fa((p=>IE(p)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k4(i,e,n=!0){const r=y1(i);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await h1(r,e,n,!0),l}async function O4(i,e){const n=y1(i);await h1(n,e,!0,!1)}async function h1(i,e,n,r){const l=await e4(i.localStore,Vs(e)),c=l.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await M4(i,e,c,h==="current",l.resumeToken)),i.isPrimaryClient&&n&&i1(i.remoteStore,l),p}async function M4(i,e,n,r,l){i.pu=(E,S,j)=>(async function(H,R,Y,Z){let $=R.view.ru(Y);$.Cs&&($=await Tb(H.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,$))));const ge=Z&&Z.targetChanges.get(R.targetId),de=Z&&Z.targetMismatches.get(R.targetId)!=null,Ee=R.view.applyChanges($,H.isPrimaryClient,ge,de);return kb(H,R.targetId,Ee.au),Ee.snapshot})(i,E,S,j);const c=await Tb(i.localStore,e,!0),h=new R4(e,c.Qs),p=h.ru(c.documents),y=Ic.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),g=h.applyChanges(p,i.isPrimaryClient,y);kb(i,n,g.au);const x=new I4(e,n,h);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function V4(i,e,n){const r=we(i),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((h=>!dh(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await mp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&sg(r.remoteStore,l.targetId),yp(r,l.targetId)})).catch(Dl)):(yp(r,l.targetId),await mp(r.localStore,l.targetId,!0))}async function P4(i,e){const n=we(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sg(n.remoteStore,r.targetId))}async function U4(i,e,n){const r=G4(i);try{const l=await(function(h,p){const y=we(h),g=rt.now(),x=p.reduce(((j,q)=>j.add(q.key)),Ve());let E,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let q=yi(),H=Ve();return y.Ns.getEntries(j,x).next((R=>{q=R,q.forEach(((Y,Z)=>{Z.isValidDocument()||(H=H.add(Y))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,q))).next((R=>{E=R;const Y=[];for(const Z of p){const $=ZR(Z,E.get(Z.key).overlayedDocument);$!=null&&Y.push(new ma(Z.key,$,EE($.value.mapValue),rs.exists(!0)))}return y.mutationQueue.addMutationBatch(j,g,Y,p)})).next((R=>{S=R;const Y=R.applyToLocalDocumentSet(E,H);return y.documentOverlayCache.saveOverlays(j,R.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:kE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(h,p,y){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Me)),g=g.insert(p,y),h.Vu[h.currentUser.toKey()]=g})(r,l.batchId,n),await jc(r,l.changes),await vh(r.remoteStore)}catch(l){const c=og(l,"Failed to persist write");n.reject(c)}}async function f1(i,e){const n=we(i);try{const r=await JI(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const h=n.Au.get(c);h&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Ye(h.hu,14607):l.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await jc(n,r,e)}catch(r){await Dl(r)}}function jb(i,e,n){const r=we(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(h,p){const y=we(h);y.onlineState=p;let g=!1;y.queries.forEach(((x,E)=>{for(const S of E.Sa)S.va(p)&&(g=!0)})),g&&dg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L4(i,e,n){const r=we(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let h=new ut(me.comparator);h=h.insert(c,tn.newNoDocument(c,xe.min()));const p=Ve().add(c),y=new ph(xe.min(),new Map,new ut(Me),h,p);await f1(r,y),r.du=r.du.remove(c),r.Au.delete(e),mg(r)}else await mp(r.localStore,e,!1).then((()=>yp(r,e,n))).catch(Dl)}async function z4(i,e){const n=we(i),r=e.batch.batchId;try{const l=await XI(n.localStore,e);p1(n,r,null),m1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jc(n,l)}catch(l){await Dl(l)}}async function q4(i,e,n){const r=we(i);try{const l=await(function(h,p){const y=we(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return y.mutationQueue.lookupMutationBatch(g,p).next((E=>(Ye(E!==null,37113),x=E.keys(),y.mutationQueue.removeMutationBatch(g,E)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,x,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>y.localDocuments.getDocuments(g,x)))}))})(r.localStore,e);p1(r,e,n),m1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jc(r,l)}catch(l){await Dl(l)}}function m1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function p1(i,e,n){const r=we(i);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function yp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||g1(i,r)}))}function g1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(sg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),mg(i))}function kb(i,e,n){for(const r of n)r instanceof u1?(i.Ru.addReference(r.key,e),B4(i,r)):r instanceof d1?(oe(fg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||g1(i,r.key)):_e(19791,{wu:r})}function B4(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(oe(fg,"New document in limbo: "+n),i.Eu.add(r),mg(i))}function mg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(nt.fromString(e)),r=i.fu.next();i.Au.set(r,new D4(n)),i.du=i.du.insert(n,r),i1(i.remoteStore,new rr(Vs(uh(n.path)),r,"TargetPurposeLimboResolution",lh.ce))}}async function jc(i,e,n){const r=we(i),l=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{h.push(r.pu(y,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(g){l.push(g);const x=tg.As(y.targetId,g);c.push(x)}})))})),await Promise.all(h),r.Pu.H_(l),await(async function(y,g){const x=we(y);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(g,(S=>se.forEach(S.Es,(j=>x.persistence.referenceDelegate.addReference(E,S.targetId,j))).next((()=>se.forEach(S.ds,(j=>x.persistence.referenceDelegate.removeReference(E,S.targetId,j)))))))))}catch(E){if(!jl(E))throw E;oe(ng,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const j=x.Ms.get(S),q=j.snapshotVersion,H=j.withLastLimboFreeSnapshotVersion(q);x.Ms=x.Ms.insert(S,H)}}})(r.localStore,c))}async function F4(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe(fg,"User change. New user:",e.toKey());const r=await e1(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new le(ne.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jc(n,r.Ls)}}function H4(i,e){const n=we(i),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let l=Ve();const c=n.Iu.get(e);if(!c)return l;for(const h of c){const p=n.Tu.get(h);l=l.unionWith(p.view.nu)}return l}}function y1(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.Pu.H_=A4.bind(null,e.eventManager),e.Pu.yu=C4.bind(null,e.eventManager),e}function G4(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q4.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $I(this.persistence,new YI,e.initialUser,this.serializer)}Cu(e){return new ZE(eg.mi,this.serializer)}Du(e){return new n4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class Y4 extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Hd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ZE((r=>Hd.mi(r,n)),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F4.bind(null,this.syncEngine),await w4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N4})()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),r=(function(c){return new l4(c)})(e.databaseInfo);return(function(c,h,p,y){return new d4(c,h,p,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,h,p){return new f4(r,l,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>jb(this.syncEngine,n,0)),(function(){return Nb.v()?new Nb:new s4})())}createSyncEngine(e,n){return(function(l,c,h,p,y,g,x){const E=new j4(l,c,h,p,y,g);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);oe(ua,"RemoteStore shutting down."),r.Ea.add(5),await Dc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vp.provider={build:()=>new vp};class pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gr="FirestoreClient";class Q4{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{oe(gr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(oe(gr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=og(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zm(i,e){i.asyncQueue.verifyOperationInProgress(),oe(gr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await e1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Ob(i,e){i.asyncQueue.verifyOperationInProgress();const n=await K4(i);oe(gr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>Cb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>Cb(e.remoteStore,l))),i._onlineComponents=e}async function K4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(gr,"Using user provided OfflineComponentProvider");try{await zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await zm(i,new Yd)}}else oe(gr,"Using default OfflineComponentProvider"),await zm(i,new Y4(void 0));return i._offlineComponents}async function v1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(gr,"Using user provided OnlineComponentProvider"),await Ob(i,i._uninitializedComponentsProvider._online)):(oe(gr,"Using default OnlineComponentProvider"),await Ob(i,new vp))),i._onlineComponents}function $4(i){return v1(i).then((e=>e.syncEngine))}async function Qd(i){const e=await v1(i),n=e.eventManager;return n.onListen=k4.bind(null,e.syncEngine),n.onUnlisten=V4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P4.bind(null,e.syncEngine),n}function X4(i,e,n={}){const r=new hi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,y,g){const x=new pg({next:S=>{x.Nu(),h.enqueueAndForget((()=>ug(c,E)));const j=S.docs.has(p);!j&&S.fromCache?g.reject(new le(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&y&&y.source==="server"?g.reject(new le(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new hg(uh(p.path),x,{includeMetadataChanges:!0,qa:!0});return cg(c,E)})(await Qd(i),i.asyncQueue,e,n,r))),r.promise}function J4(i,e,n={}){const r=new hi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,y,g){const x=new pg({next:S=>{x.Nu(),h.enqueueAndForget((()=>ug(c,E))),S.fromCache&&y.source==="server"?g.reject(new le(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new hg(p,x,{includeMetadataChanges:!0,qa:!0});return cg(c,E)})(await Qd(i),i.asyncQueue,e,n,r))),r.promise}function _1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Mb=new Map;const b1="firestore.googleapis.com",Vb=!0;class Pb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b1,this.ssl=Vb}else this.host=e.host,this.ssl=e.ssl??Vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RI)throw new le(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sR;switch(r.type){case"firstParty":return new lR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Mb.get(n);r&&(oe("ComponentProvider","Removing Datastore"),Mb.delete(n),r.terminate())})(this),Promise.resolve()}}function W4(i,e,n,r={}){i=Fn(i,_h);const l=Al(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;l&&(px(`https://${p}`),gx("Firestore",!0)),c.host!==b1&&c.host!==p&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!ra(y,h)&&(i._setSettings(y),r.mockUserToken)){let g,x;if(typeof r.mockUserToken=="string")g=r.mockUserToken,x=en.MOCK_USER;else{g=fS(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new le(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new en(E)}i._authCredentials=new iR(new uE(g,x))}}class ga{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ac(n,vt._jsonSchema))return new vt(e,r||null,new me(nt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:It("string",vt._jsonSchemaVersion),referencePath:It("string")};class ur extends ga{constructor(e,n,r){super(e,n,uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new me(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function Ol(i,e,...n){if(i=sn(i),dE("collection","path",e),i instanceof _h){const r=nt.fromString(e,...n);return X_(r),new ur(i,null,r)}{if(!(i instanceof vt||i instanceof ur))throw new le(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(nt.fromString(e,...n));return X_(r),new ur(i.firestore,null,r)}}function gn(i,e,...n){if(i=sn(i),arguments.length===1&&(e=Bp.newId()),dE("doc","path",e),i instanceof _h){const r=nt.fromString(e,...n);return $_(r),new vt(i,null,new me(r))}{if(!(i instanceof vt||i instanceof ur))throw new le(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(nt.fromString(e,...n));return $_(r),new vt(i.firestore,i instanceof ur?i.converter:null,new me(r))}}const Ub="AsyncQueue";class Lb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const r=Lm();r&&oe(Ub,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;oe(Ub,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",zb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=lg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:zb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function qb(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(i,["next","error","complete"])}class yr extends _h{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Lb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lb(e),this._firestoreClient=void 0,await e}}}function Z4(i,e){const n=typeof i=="object"?i:bx(),r=typeof i=="string"?i:Pd,l=jp(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=dS("firestore");c&&W4(l,...c)}return l}function bh(i){if(i._terminated)throw new le(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||eD(i),i._firestoreClient}function eD(i){const e=i._freezeSettings(),n=(function(l,c,h,p){return new wR(l,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,_1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Q4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(n){throw new le(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:It("string",Bn._jsonSchemaVersion),bytes:It("string")};class gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class x1{constructor(e){this._methodName=e}}class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:It("string",Us._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ls(e.vectorValues);throw new le(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:It("string",Ls._jsonSchemaVersion),vectorValues:It("object")};const tD=/^__.*__$/;class nD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}function E1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class yg{constructor(e,n,r,l,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(E1(this.Ac)&&tD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gh(e)}Cc(e,n,r,l=!1){return new yg({Ac:e,methodName:n,Dc:r,path:$t.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vg(i){const e=i._freezeSettings(),n=gh(i._databaseId);return new sD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function T1(i,e,n,r,l,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,n,l);N1("Data must be an object, but it was:",h,r);const p=w1(r,h);let y,g;if(c.merge)y=new is(h.fieldMask),g=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=rD(e,E,n);if(!h.contains(S))throw new le(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lD(x,S)||x.push(S)}y=new is(x),g=h.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,g=h.fieldTransforms;return new nD(new qn(p),y,g)}function iD(i,e,n,r=!1){return _g(n,i.Cc(r?4:3,e))}function _g(i,e){if(S1(i=sn(i)))return N1("Unsupported field value:",e,i),w1(i,e);if(i instanceof x1)return(function(r,l){if(!E1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let h=0;for(const p of r){let y=_g(p,l.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}})(i,e)}return(function(r,l){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=rt.fromDate(r);return{timestampValue:Fd(l.serializer,c)}}if(r instanceof rt){const c=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fd(l.serializer,c)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:GE(l.serializer,r._byteString)};if(r instanceof vt){const c=l.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ls)return(function(h,p){return{mapValue:{fields:{[bE]:{stringValue:xE},[Ud]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Kp(p.serializer,g)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ah(r)}`)})(i,e)}function w1(i,e){const n={};return mE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(i,((r,l)=>{const c=_g(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function S1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Us||i instanceof Bn||i instanceof vt||i instanceof x1||i instanceof Ls)}function N1(i,e,n){if(!S1(n)||!hE(n)){const r=ah(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function rD(i,e,n){if((e=sn(e))instanceof gg)return e._internalPath;if(typeof e=="string")return A1(i,e);throw Kd("Field path arguments must be of type string or ",i,!1,void 0,n)}const aD=new RegExp("[~\\*/\\[\\]]");function A1(i,e,n){if(e.search(aD)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new gg(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kd(i,e,n,r,l){const c=r&&!r.isEmpty(),h=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${r}`),h&&(y+=` in document ${l}`),y+=")"),new le(ne.INVALID_ARGUMENT,p+i+y)}function lD(i,e){return i.some((n=>n.isEqual(e)))}class C1{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oD extends C1{data(){return super.data()}}function bg(i,e){return typeof e=="string"?A1(i,e):e instanceof gg?e._internalPath:e._delegate._internalPath}function R1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class cD extends xg{}function uD(i,e,...n){let r=[];e instanceof xg&&r.push(e),r=r.concat(n),(function(c){const h=c.filter((y=>y instanceof Eg)).length,p=c.filter((y=>y instanceof xh)).length;if(h>1||h>0&&p>0)throw new le(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class xh extends cD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xh(e,n,r)}_apply(e){const n=this._parse(e);return I1(e._query,n),new ga(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=vg(e.firestore);return(function(c,h,p,y,g,x,E){let S;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new le(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Fb(E,x);const q=[];for(const H of E)q.push(Bb(y,c,H));S={arrayValue:{values:q}}}else S=Bb(y,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Fb(E,x),S=iD(p,h,E,x==="in"||x==="not-in");return Rt.create(g,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dD(i,e,n){const r=e,l=bg("where",i);return xh._create(l,r,n)}class Eg extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let h=l;const p=c.getFlattenedFilters();for(const y of p)I1(h,y),h=op(h,y)})(e._query,n),new ga(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Bb(i,e,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new le(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(e)&&n.indexOf("/")!==-1)throw new le(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!me.isDocumentKey(r))throw new le(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ib(i,new me(r))}if(n instanceof vt)return ib(i,n._key);throw new le(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function Fb(i,e){if(!Array.isArray(i)||i.length===0)throw new le(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I1(i,e){const n=(function(l,c){for(const h of l)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hD{convertValue(e,n="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Ud].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Ls(n)}convertGeoPoint(e){return new Us(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ch(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=hr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ye(JE(r),9688,{name:e});const l=new fc(r.get(1),r.get(3)),c=new me(r.popFirst(5));return l.isEqual(n)||gi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function D1(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}class Wo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends C1{constructor(e,n,r,l,c,h){super(e,n,r,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:It("string",sa._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Nd extends sa{data(e={}){return super.data(e)}}class ia{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Wo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Nd(this._firestore,this._userDataWriter,r.key,r,new Wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((p=>{const y=new Nd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Wo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Nd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Wo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,x=-1;return p.type!==0&&(g=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:fD(p.type),doc:y,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}function Tg(i){i=Fn(i,vt);const e=Fn(i.firestore,yr);return X4(bh(e),i._key).then((n=>O1(e,i,n)))}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:It("string",ia._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class wg extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function j1(i){i=Fn(i,ga);const e=Fn(i.firestore,yr),n=bh(e),r=new wg(e);return R1(i._query),J4(n,i._query).then((l=>new ia(e,r,i,l)))}function vr(i,e,n){i=Fn(i,vt);const r=Fn(i.firestore,yr),l=D1(i.converter,e,n);return Ng(r,[T1(vg(r),"setDoc",i._key,l,i.converter!==null,n).toMutation(i._key,rs.none())])}function mD(i){return Ng(Fn(i.firestore,yr),[new $p(i._key,rs.none())])}function Sg(i,e){const n=Fn(i.firestore,yr),r=gn(i),l=D1(i.converter,e);return Ng(n,[T1(vg(i.firestore),"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,rs.exists(!1))]).then((()=>r))}function k1(i,...e){i=sn(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qb(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qb(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,h,p;if(i instanceof vt)h=Fn(i.firestore,yr),p=uh(i._key.path),c={next:y=>{e[r]&&e[r](O1(h,i,y))},error:e[r+1],complete:e[r+2]};else{const y=Fn(i,ga);h=Fn(y.firestore,yr),p=y._query;const g=new wg(h);c={next:x=>{e[r]&&e[r](new ia(h,g,y,x))},error:e[r+1],complete:e[r+2]},R1(i._query)}return(function(g,x,E,S){const j=new pg(S),q=new hg(x,j,E);return g.asyncQueue.enqueueAndForget((async()=>cg(await Qd(g),q))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>ug(await Qd(g),q)))}})(bh(h),p,l,c)}function Ng(i,e){return(function(r,l){const c=new hi;return r.asyncQueue.enqueueAndForget((async()=>U4(await $4(r),l,c))),c.promise})(bh(i),e)}function O1(i,e,n){const r=n.docs.get(e._key),l=new wg(i);return new sa(i,l,e._key,r,new Wo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Il=l})(Cl),yl(new aa("firestore",((r,{instanceIdentifier:l,options:c})=>{const h=r.getProvider("app").getImmediate(),p=new yr(new rR(r.getProvider("auth-internal")),new oR(h,r.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(g.options.projectId,x)})(h,l),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),or(G_,Y_,e),or(G_,Y_,"esm2020")})();const pD={apiKey:"AIzaSyCWOcy6bAkEw7iD7fu13Yz0wECG2199pRY",authDomain:"safehands-37385.firebaseapp.com",projectId:"safehands-37385",storageBucket:"safehands-37385.firebasestorage.app",messagingSenderId:"940411073036",appId:"1:940411073036:web:e2004967b979b369887429",measurementId:"G-FRLSYFJ9XT"},M1=_x(pD),_i=tR(M1),Vt=Z4(M1),V1=async i=>{const e=gn(Vt,"users",i),n=await Tg(e);return n.exists()?{id:n.id,...n.data()}:null},P1=async()=>{const i=Ol(Vt,"users");return(await j1(i)).docs.map(r=>({id:r.id,...r.data()}))},gD=async()=>{const i=Ol(Vt,"bookings");return(await j1(i)).docs.map(r=>({id:r.id,...r.data()}))},Er=async i=>{try{const e=Ol(Vt,"bookings");return{success:!0,id:(await Sg(e,i)).id}}catch(e){return{success:!1,error:e.message}}},yD=async(i,e)=>{try{const n=gn(Vt,"users",i);return await vr(n,{role:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating user role:",n),{success:!1,error:n.message}}},_p=async(i,e)=>{try{const n=gn(Vt,"users",i);return await vr(n,{covidStatus:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating user covid status:",n),{success:!1,error:n.message}}},vD=(i,e)=>{const n=Ol(Vt,"bookings"),r=uD(n,dD("providerId","==",i));return k1(r,c=>{const h=c.docs.map(p=>({id:p.id,...p.data()}));e(h)},c=>{console.error("Error listening to bookings:",c),e([])})},_D=async(i,e)=>{try{const n=gn(Vt,"bookings",i);return await vr(n,{status:e},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating booking status:",n),{success:!1,error:n.message}}},bD=async(i,e)=>{try{const n=gn(Vt,"bookings",i);return await vr(n,{providerId:e,status:"assigned"},{merge:!0}),{success:!0}}catch(n){return console.error("Error updating booking provider:",n),{success:!1,error:n.message}}},Pt=async(i,e={})=>{try{const n=_i.currentUser;if(!n){console.warn("Audit log attempted without authenticated user.");return}const r=Ol(Vt,"audit_logs");await Sg(r,{action:i,userId:n.uid,timestamp:new Date,details:e})}catch(n){console.error("Error writing to audit log:",n)}},xD=async i=>{try{const e=Ol(Vt,"exposure_reports");return await Sg(e,i),{success:!0}}catch(e){return console.error("Error creating exposure report:",e),{success:!1,error:e.message}}},ED=async i=>{try{const e=gn(Vt,"exposures",i);return await vr(e,{status:"active",exposureDate:new Date,lastUpdated:new Date},{merge:!0}),{success:!0}}catch(e){return console.error("Error creating exposure record:",e),{success:!1,error:e.message}}},U1=async i=>{try{const e=gn(Vt,"exposures",i);return await mD(e),{success:!0}}catch(e){return console.error("Error removing exposure record:",e),{success:!1,error:e.message}}},TD=(i,e)=>{const n=gn(Vt,"exposures",i);return k1(n,l=>{l.exists()?e(l.data()):e(null)},l=>{console.error("Error listening to exposure status:",l),e(null)})},wD=async i=>{try{const n=(await LA(_i,i.email,i.password)).user;return await vr(gn(Vt,"users",n.uid),{email:n.email,name:i.name||"",role:i.role||"user",covidStatus:"negative",uid:n.uid}),await Pt("User Registration",{email:i.email,role:i.role||"user"}),{success:!0,user:{uid:n.uid,email:n.email,role:i.role||"user"}}}catch(e){return{success:!1,error:e.message}}},SD=async(i,e)=>{try{const r=(await zA(_i,i,e)).user,l=gn(Vt,"users",r.uid),c=await Tg(l);if(c.exists()){const h=c.data();return await Pt("User Login",{email:i,role:h.role}),{success:!0,user:{uid:r.uid,email:r.email,role:h.role}}}else return{success:!1,error:"User profile not found."}}catch(n){return{success:!1,error:n.message}}},ND=async()=>{try{return await Pt("User Logout"),await HA(_i),{success:!0}}catch(i){return{success:!1,error:i.message}}};let Zo=null;FA(_i,async i=>{if(i){const e=gn(Vt,"users",i.uid),n=await Tg(e);n.exists()?(Zo=n.data(),Zo.uid=i.uid):Zo={uid:i.uid,email:i.email,role:"user"}}else Zo=null});const us=()=>Zo,qm=({roles:i})=>{const[e,n]=P.useState(!0),[r,l]=P.useState(!1),[c,h]=P.useState(null);return P.useEffect(()=>{const p=_i.onAuthStateChanged(async y=>{if(y){const g=await us();h(g),l(!0)}else h(null),l(!1);n(!1)});return()=>p()},[]),e?u.jsx("div",{children:"Loading authentication..."}):r?i&&i.length>0&&(!c||!i.includes(c.role))?u.jsx(h_,{to:"/",replace:!0}):u.jsx(E2,{}):u.jsx(h_,{to:"/login",replace:!0})};const AD=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Hb=i=>{const e=CD(i);return e.charAt(0).toUpperCase()+e.slice(1)},L1=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),RD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ID={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DD=P.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:h,...p},y)=>P.createElement("svg",{ref:y,...ID,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:L1("lucide",l),...!c&&!RD(p)&&{"aria-hidden":"true"},...p},[...h.map(([g,x])=>P.createElement(g,x)),...Array.isArray(c)?c:[c]]));const De=(i,e)=>{const n=P.forwardRef(({className:r,...l},c)=>P.createElement(DD,{ref:c,iconNode:e,className:L1(`lucide-${AD(Hb(i))}`,`lucide-${i}`,r),...l}));return n.displayName=Hb(i),n};const jD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kD=De("arrow-right",jD);const OD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],MD=De("bell",OD);const VD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],$d=De("briefcase",VD);const PD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ml=De("calendar",PD);const UD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xd=De("circle-alert",UD);const LD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ag=De("circle-check-big",LD);const zD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],qD=De("circle-plus",zD);const BD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bi=De("clock",BD);const FD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bm=De("eye-off",FD);const HD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gl=De("eye",HD);const GD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Vl=De("house",GD);const YD=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],z1=De("layout-grid",YD);const QD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fm=De("lock",QD);const KD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bp=De("mail",KD);const $D=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jd=De("map-pin",$D);const XD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],q1=De("menu",XD);const JD=[["path",{d:"M5 12h14",key:"1ays0h"}]],WD=De("minus",JD);const ZD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],yc=De("package",ZD);const ej=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],ac=De("paw-print",ej);const tj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Pl=De("phone",tj);const nj=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Gb=De("pill",nj);const sj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yb=De("plus",sj);const ij=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wd=De("shield-check",ij);const rj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],B1=De("shield",rj);const aj=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Cg=De("shirt",aj);const lj=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],F1=De("shopping-cart",lj);const oj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Zd=De("sparkles",oj);const cj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],uj=De("square-pen",cj);const dj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hj=De("star",dj);const fj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mj=De("trash-2",fj);const pj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nn=De("triangle-alert",pj);const gj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Rg=De("truck",gj);const yj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qs=De("user",yj);const vj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],H1=De("users",vj);const _j=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],xp=De("utensils",_j);const bj=[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]],xj=De("washing-machine",bj);const Ej=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tj=De("x",Ej);function wj(){const[i,e]=P.useState(""),[n,r]=P.useState(""),[l,c]=P.useState(!1),h=_c(),p=[{id:"delivery-services",name:"Delivery Services",icon:yc,color:"from-red-400 to-pink-400",bgColor:"bg-red-50",description:"Groceries, food, and parcels delivered to your door."},{id:"medication",name:"Medication Delivery",icon:Rg,color:"from-blue-400 to-indigo-400",bgColor:"bg-blue-50",description:"Any medical facility can be available from home."},{id:"covid",name:"Covid 19 Testing",icon:Wd,color:"from-yellow-400 to-amber-400",bgColor:"bg-yellow-50",description:"Test your covid status from professional covid testers"},{id:"home-cleaning",name:"Home Cleaning",icon:Zd,color:"from-green-400 to-teal-400",bgColor:"bg-green-50",description:"Professional home cleaning services."},{id:"laundry",name:"Laundry Service",icon:Cg,color:"from-purple-400 to-indigo-400",bgColor:"bg-purple-50",description:"Convenient laundry and dry cleaning services."},{id:"pet-care",name:"Pet Care Services",icon:ac,color:"from-orange-400 to-amber-400",bgColor:"bg-orange-50",description:"Reliable and caring services for your beloved pets."}],y=g=>{h(`/${g}`)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative pt-20 pb-16 px-4",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob [animation-delay:2s]"}),u.jsx("div",{className:"absolute top-40 left-40 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob [animation-delay:4s]"})]}),u.jsx("div",{className:"relative max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"inline-block mb-4",children:u.jsx("span",{className:"px-4 py-2 bg-indigo-100 text-indigo-600 rounded-full text-sm font-semibold",children:"Your Daily Essentials, Delivered with Care"})}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight",children:["Welcome to",u.jsx("span",{className:"block bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"SafeHands"})]}),u.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-12",children:"Discover amazing features and services that await you. Your trusted partner for everyday convenience."})]})})]}),u.jsx("div",{id:"services",className:"py-16 px-4 bg-white/40",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Services"}),u.jsx("p",{className:"text-lg text-gray-600",children:"Choose from our wide range of convenient services"})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(g=>{const x=g.icon;return u.jsxs("div",{onClick:()=>y(g.id),className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[u.jsx("div",{className:`w-20 h-20 ${g.bgColor} rounded-full flex items-center justify-center mb-6 mx-auto group-hover:scale-110 transition-transform duration-300`,children:u.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${g.color} rounded-full flex items-center justify-center shadow-lg`,children:u.jsx(x,{className:"w-8 h-8 text-white"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-3",children:g.name}),u.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:g.description})]},g.id)})})]})}),u.jsx("div",{className:"py-16 px-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Why Choose SafeHands?"}),u.jsx("p",{className:"text-lg text-gray-600",children:"We're committed to providing the best service experience"})]}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Fast Delivery",desc:"Lightning-fast service at your doorstep. Get your essentials delivered in minutes, not hours.",icon:bi,gradient:"from-blue-500 to-cyan-500"},{title:"Secure & Safe",desc:"Your safety is our priority. Contactless delivery options and verified service providers.",icon:B1,gradient:"from-green-500 to-emerald-500"},{title:"Trusted Quality",desc:"Rated 4.8/5 by thousands of happy customers. Excellence in every delivery.",icon:hj,gradient:"from-yellow-500 to-orange-500"}].map((g,x)=>{const E=g.icon;return u.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[u.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${g.gradient} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:u.jsx(E,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:g.title}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:g.desc})]},x)})})]})}),u.jsx("div",{className:"py-16 px-4 bg-gradient-to-r from-indigo-600 to-purple-600",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"grid md:grid-cols-4 gap-8 text-center text-white",children:[{number:"50K+",label:"Happy Customers"},{number:"100K+",label:"Deliveries Made"},{number:"500+",label:"Service Partners"},{number:"4.8/5",label:"Average Rating"}].map((g,x)=>u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"text-5xl font-bold mb-2",children:g.number}),u.jsx("div",{className:"text-lg text-indigo-100",children:g.label})]},x))})})})]})}function Sj(){const i=_c(),[e,n]=P.useState("signin"),[r,l]=P.useState(!1),[c,h]=P.useState(!1),[p,y]=P.useState(!1),[g,x]=P.useState(!1),[E,S]=P.useState({email:"",password:""}),[j,q]=P.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),H=async()=>{try{const $=await SD(E.email.trim(),E.password.trim());$.success?(x(!0),setTimeout(()=>{x(!1),$.user.role==="admin"?i("/admin"):$.user.role==="service-provider"?i("/provider-dashboard"):i("/")},1500)):alert($.error)}catch($){alert($.message)}},R=async()=>{try{if(j.password!==j.confirmPassword){alert("Passwords do not match.");return}const $=await wD({email:j.email.trim(),password:j.password.trim(),name:j.name.trim(),role:j.role});$.success?(x(!0),setTimeout(()=>{x(!1),i("/")},1500)):alert($.error)}catch($){alert($.message)}},Y=$=>{q({...j,password:$.target.value})},Z=$=>{n($),S({email:"",password:""}),q({name:"",email:"",password:"",confirmPassword:"",role:"user"})};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),u.jsx("div",{className:"absolute top-40 left-1/2 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),g&&u.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:u.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center space-x-3",children:[u.jsx(Ag,{className:"w-6 h-6"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-lg",children:e==="signin"?"Sign in successful":"Sign up successful"}),u.jsx("div",{className:"text-sm text-green-50",children:e==="signin"?"Welcome back to SafeHands!":"You have successfully signed up."})]})]})}),u.jsx("div",{className:"relative min-h-[calc(100vh-4rem)] flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"w-full max-w-6xl grid md:grid-cols-2 gap-12 items-center",children:[u.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-gray-200 p-8 md:p-12",children:e==="signin"?u.jsxs("div",{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Sign in to your account"}),u.jsx("p",{className:"text-gray-600",children:"Welcome back! Please enter your details."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(bp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"email",value:E.email,onChange:$=>S({...E,email:$.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your email"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Fm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:r?"text":"password",value:E.password,onChange:$=>S({...E,password:$.target.value}),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your password"}),u.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?u.jsx(Bm,{className:"w-5 h-5"}):u.jsx(gl,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:p,onChange:$=>y($.target.checked),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Remember me"})]}),u.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"Forgot password?"})]}),u.jsxs("button",{onClick:H,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[u.jsx("span",{children:"Sign in"}),u.jsx(kD,{className:"w-5 h-5"})]}),u.jsxs("p",{className:"text-center text-gray-600",children:["Don't have an account?"," ",u.jsx("button",{onClick:()=>Z("signup"),className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Sign up now!"})]})]})]}):u.jsxs("div",{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Create your account"}),u.jsx("p",{className:"text-gray-600",children:"Join SafeHands today and get started."})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",name:"name",autoComplete:"name",value:j.name,onChange:$=>q({...j,name:$.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Full Name"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email address ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(bp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"email",name:"email",autoComplete:"email",value:j.email,onChange:$=>q({...j,email:$.target.value}),className:"w-full pl-12 pr-4 py-3 bg-indigo-50 border-2 border-indigo-100 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"email@example.com"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["I am signing up as a: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("label",{className:"inline-flex items-center",children:[u.jsx("input",{type:"radio",name:"role",value:"user",checked:j.role==="user",onChange:$=>q({...j,role:$.target.value}),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),u.jsx("span",{className:"ml-2 text-gray-700",children:"Client"})]}),u.jsxs("label",{className:"inline-flex items-center",children:[u.jsx("input",{type:"radio",name:"role",value:"service-provider",checked:j.role==="service-provider",onChange:$=>q({...j,role:$.target.value}),className:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),u.jsx("span",{className:"ml-2 text-gray-700",children:"Service Provider"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Fm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:r?"text":"password",name:"new-password",autoComplete:"new-password",value:j.password,onChange:$=>Y($),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Enter your password"}),u.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?u.jsx(Bm,{className:"w-5 h-5"}):u.jsx(gl,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Fm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),u.jsx("input",{type:c?"text":"password",name:"new-password-confirmation",autoComplete:"new-password",value:j.confirmPassword,onChange:$=>q({...j,confirmPassword:$.target.value}),className:"w-full pl-12 pr-12 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl hover:border-indigo-300 focus:border-indigo-500 focus:outline-none transition-all",placeholder:"Confirm your password"}),u.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?u.jsx(Bm,{className:"w-5 h-5"}):u.jsx(gl,{className:"w-5 h-5"})})]})]}),u.jsx("button",{onClick:R,disabled:!j.name||!j.email||!j.password||j.password!==j.confirmPassword,className:"w-full py-3 bg-gradient-to-r from-blue-400 to-cyan-500 text-white font-bold rounded-xl hover:from-blue-500 hover:to-cyan-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl",children:"Create Account"}),u.jsxs("p",{className:"text-center text-gray-600",children:["Already a user?"," ",u.jsx("button",{onClick:()=>Z("signin"),className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Sign in instead!"})]})]})]})}),u.jsx("div",{className:"hidden md:block",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-3xl blur-3xl"}),u.jsxs("div",{className:"relative bg-white/60 backdrop-blur-sm rounded-3xl p-8 border border-gray-200 shadow-2xl",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&auto=format&fit=crop",alt:"Professional workspace",className:"w-full h-[600px] object-cover rounded-2xl shadow-lg"}),u.jsxs("div",{className:"absolute bottom-12 left-12 right-12 bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join SafeHands Today"}),u.jsx("p",{className:"text-gray-600",children:"Experience seamless service delivery with our trusted platform. Your safety and convenience are our top priorities."})]})]})]})})]})})]})}function Nj(){const[i,e]=P.useState(null),[n,r]=P.useState(!1),[l,c]=P.useState(null),[h,p]=P.useState(!0),[y,g]=P.useState("");P.useEffect(()=>{const q=_i.onAuthStateChanged(async H=>{if(H)try{const R=await V1(H.uid);e(R),c(R),p(!1)}catch(R){console.error("Error fetching user profile:",R),g("Failed to load profile."),p(!1)}else p(!1)});return()=>q()},[]);const x=q=>{c({...l,[q.target.name]:q.target.value})},E=async()=>{if(window.confirm("Are you sure you want to report a positive COVID-19 status? This action cannot be undone by you and will be sent for review.")){p(!0);try{const q={covidStatus:"positive",covidStatusReportedAt:new Date},H=gn(Vt,"users",i.id);await vr(H,q,{merge:!0}),await Pt("User Reported Positive",{userId:i.id}),e(R=>({...R,...q})),c(R=>({...R,...q})),alert("Your status has been updated to positive.")}catch(q){console.error("Error reporting positive status:",q),alert("Failed to report status: "+q.message)}finally{p(!1)}}},S=async q=>{q.preventDefault(),p(!0),g("");try{if(i&&i.id){const{covidStatus:H,covidStatusReportedAt:R,...Y}=l,Z=gn(Vt,"users",i.id);await vr(Z,Y,{merge:!0}),e($=>({...$,...Y})),r(!1),alert("Profile updated successfully!")}}catch(H){console.error("Error updating profile:",H),g("Failed to update profile."),alert("Failed to update profile: "+H.message)}finally{p(!1)}},j=q=>{switch(q){case"positive":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"quarantined":return"bg-red-100 text-red-800 border-red-200";case"completed":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return h?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading profile..."}):y?u.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:y}):i?u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-white",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:u.jsx(qs,{size:40,className:"text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:i.name||"User Name"}),u.jsx("p",{className:"text-blue-100",children:i.email||"user@example.com"})]})]})}),i.covidStatus==="quarantined"&&u.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-4 flex items-start gap-3",children:[u.jsx(Xd,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-red-800 font-semibold",children:"Active Quarantine"}),u.jsx("p",{className:"text-red-700 text-sm",children:"You are under quarantine. Please follow health guidelines and avoid booking new services."})]})]}),u.jsx("div",{className:"p-6",children:n?u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Full Name"}),u.jsx("input",{type:"text",name:"name",value:l.name||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Phone"}),u.jsx("input",{type:"tel",name:"phone",value:l.phone||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:l.email||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Address"}),u.jsx("textarea",{name:"address",value:l.address||"",onChange:x,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",required:!0})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Changes"}),u.jsx("button",{type:"button",onClick:()=>{r(!1),c(i)},className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400 transition",children:"Cancel"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Personal Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx(qs,{size:20,className:"text-gray-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),u.jsx("p",{className:"font-semibold",children:i.name||"Not set"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx(Pl,{size:20,className:"text-gray-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),u.jsx("p",{className:"font-semibold",children:i.phone||"Not set"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx(bp,{size:20,className:"text-gray-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),u.jsx("p",{className:"font-semibold",children:i.email||"Not set"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx(Jd,{size:20,className:"text-gray-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),u.jsx("p",{className:"font-semibold",children:i.address||"Not set"})]})]})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"COVID-19 Status"}),u.jsx("div",{className:`p-4 rounded-lg border ${j(i.covidStatus)}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(B1,{size:20}),u.jsx("p",{className:"font-semibold text-lg capitalize",children:i.covidStatus||"Not Reported"})]})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[u.jsx("button",{onClick:()=>r(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Edit Profile"}),(!i.covidStatus||i.covidStatus==="negative")&&u.jsxs("button",{onClick:E,className:"w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition flex items-center justify-center gap-2",children:[u.jsx(Xd,{size:20})," Report Positive Status"]})]})]})})]})})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"No user profile found."})}const Aj=[{id:"SP001",name:"CleanSweep Services",serviceType:"Home Cleaning",status:"Active",contact:"clean@example.com"},{id:"SP002",name:"QuickWash Laundry",serviceType:"Laundry Service",status:"Active",contact:"wash@example.com"},{id:"SP003",name:"MediDeliver Pharmacy",serviceType:"Medication Delivery",status:"Active",contact:"medi@example.com"},{id:"SP004",name:"PetPals Care",serviceType:"Pet Care Services",status:"Active",contact:"pet@example.com"},{id:"SP005",name:"FastTrack Logistics",serviceType:"Parcel Delivery",status:"Active",contact:"fast@example.com"},{id:"SP006",name:"GourmetGo Foods",serviceType:"Food Delivery",status:"Inactive",contact:"gourmet@example.com"}];function Cj(){const[i,e]=P.useState(Aj),n=c=>{alert(`Viewing provider: ${c.name}
Service: ${c.serviceType}
Status: ${c.status}
Contact: ${c.contact}`),console.log("View provider:",c)},r=c=>{alert(`Editing provider: ${c.name}
(Details for editing would go here)`),console.log("Edit provider:",c)},l=()=>{alert("Adding a new service provider (form would appear here)"),console.log("Add new provider")};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Service Provider Management"}),u.jsxs("button",{onClick:l,className:"bg-indigo-600 text-white sm:px-3 sm:py-1 lg:px-4 lg:py-2 rounded-lg hover:bg-indigo-700 transition flex items-center space-x-2",children:[u.jsx(qD,{size:18}),u.jsx("span",{children:"Add New Provider"})]})]}),u.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Name"}),u.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service Type"}),u.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Contact"}),u.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Status"}),u.jsx("th",{scope:"col",className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(c=>u.jsxs("tr",{children:[u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900 truncate",children:c.name}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:c.serviceType}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:c.contact}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.status==="Active"?"bg-green-100 text-green-800":c.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})}),u.jsxs("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:[u.jsx("button",{onClick:()=>n(c),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"View Provider",children:u.jsx(gl,{size:18})}),u.jsx("button",{onClick:()=>r(c),className:"text-green-600 hover:text-green-900",title:"Edit Provider",children:u.jsx(uj,{size:18})})]})]},c.id))})]})})]})}const Qb=({setActiveTab:i,usersCount:e,requestsCount:n,pendingRequestsCount:r,completedRequestsCount:l,serviceProvidersCount:c,loading:h})=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Dashboard Overview"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>i("users"),children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Users"}),u.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:h?"...":e})]}),u.jsx(H1,{size:48,className:"text-indigo-400 opacity-50"})]}),u.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>i("requests"),children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Requests"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:h?"...":n})]}),u.jsx($d,{size:48,className:"text-blue-400 opacity-50"})]}),u.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>i("requests"),children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending Requests"}),u.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:h?"...":r})]}),u.jsx(bi,{size:48,className:"text-yellow-400 opacity-50"})]}),u.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>i("requests"),children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed Requests"}),u.jsx("p",{className:"text-3xl font-bold text-purple-600",children:h?"...":l})]}),u.jsx(Ag,{size:48,className:"text-purple-400 opacity-50"})]}),u.jsxs("div",{className:"bg-white sm:p-4 lg:p-6 rounded-lg shadow cursor-pointer hover:shadow-lg transition-shadow duration-200 flex items-center justify-between",onClick:()=>i("providers"),children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Service Providers"}),u.jsx("p",{className:"text-3xl font-bold text-orange-600",children:h?"...":c})]}),u.jsx(z1,{size:48,className:"text-orange-400 opacity-50"})]})]})]}),Rj=({users:i,setUsers:e,loading:n})=>{const r=us(),l=async(p,y)=>{if(!window.confirm(`Are you sure you want to change this user's role to ${y}?`))return;const g=await yD(p,y);g.success?(await Pt("User Role Changed",{targetUserId:p,newRole:y}),e(i.map(x=>x.uid===p?{...x,role:y}:x)),alert("User role updated successfully!")):alert(`Failed to update user role: ${g.error}`)},c=async p=>{if(!window.confirm("Are you sure you want to free this user from quarantine?"))return;const y=await _p(p,"negative");y.success?(await U1(p),await Pt("User Freed from Quarantine",{targetUserId:p}),e(i.map(g=>g.uid===p?{...g,covidStatus:"negative"}:g)),alert("User has been freed from quarantine.")):alert(`Failed to free user from quarantine: ${y.error}`)},h=p=>{alert(`Viewing user: ${p.name||p.email}
Email: ${p.email}
Role: ${p.role}`)};return n?u.jsx("div",{className:"text-center",children:"Loading users..."}):!i||i.length===0?u.jsx("div",{className:"text-center",children:"No users found."}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User Management"}),u.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Name"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Email"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Role"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Status"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(p=>u.jsxs("tr",{children:[u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900",children:p.name||"N/A"}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:p.email}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500",children:u.jsxs("select",{value:p.role,onChange:y=>l(p.uid,y.target.value),className:"p-1 border rounded-md",disabled:p.uid===r?.uid,children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"service-provider",children:"Service Provider"}),u.jsx("option",{value:"admin",children:"Admin"})]})}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.covidStatus==="positive"?"bg-yellow-100 text-yellow-800":p.covidStatus==="quarantined"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:p.covidStatus||"Negative"})}),u.jsxs("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:[p.covidStatus==="quarantined"&&u.jsx("button",{onClick:()=>c(p.uid),className:"text-green-600 hover:text-green-900 mr-2",title:"Free from Quarantine",children:u.jsx(Nn,{size:18})}),u.jsx("button",{onClick:()=>h(p),className:"text-indigo-600 hover:text-indigo-900",title:"View User",children:u.jsx(gl,{size:18})})]})]},p.uid))})]})})]})},Ij=({requests:i,loading:e})=>{const[n,r]=P.useState(i),[l,c]=P.useState([]),[h,p]=P.useState(!0);P.useEffect(()=>{r(i)},[i]),P.useEffect(()=>{(async()=>{p(!0);const E=(await P1()).filter(S=>S.role==="service-provider"||S.role==="pending-provider");c(E),p(!1)})()},[]);const y=async(g,x)=>{const E=l.find(j=>j.uid===x)?.name||x;if(!window.confirm(`Are you sure you want to assign this booking to ${E}?`))return;const S=await bD(g,x);S.success?(await Pt("Booking Assigned",{bookingId:g,newProviderId:x}),r(n.map(j=>j.id===g?{...j,providerId:x,status:"assigned"}:j)),alert("Provider assigned successfully!")):alert(`Failed to assign provider: ${S.error}`)};return e||h?u.jsx("div",{className:"text-center",children:"Loading service requests..."}):!n||n.length===0?u.jsx("div",{className:"text-center",children:"No service requests found."}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Service Requests"}),u.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12",children:"Request ID"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service Type"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"User"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Provider"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Status"}),u.jsx("th",{className:"sm:px-2 lg:px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/12",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(g=>u.jsxs("tr",{children:[u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm font-medium text-gray-900",children:g.id}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:g.serviceType}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500 truncate",children:g.userName}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm text-gray-500",children:g.providerId&&g.providerId!=="DUMMY_PROVIDER_UID_FOR_TESTING"&&g.providerId!=="unassigned"?l.find(x=>x.uid===g.providerId)?.name||"Assigned":u.jsxs("select",{value:"unassigned",onChange:x=>y(g.id,x.target.value),className:"p-1 border rounded-md",disabled:h||g.status!=="confirmed",children:[u.jsx("option",{value:"unassigned",children:"Assign Provider"}),l.map(x=>u.jsx("option",{value:x.uid,children:x.name||x.email},x.uid))]})}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-sm",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g.status==="confirmed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:g.status})}),u.jsx("td",{className:"sm:px-2 lg:px-3 py-4 text-right text-sm font-medium",children:u.jsx("button",{onClick:()=>alert("Viewing details"),className:"text-indigo-600 hover:text-indigo-900",title:"View Details",children:u.jsx(gl,{size:18})})})]},g.id))})]})})]})},Dj=({users:i,loading:e,onUpdateUserStatus:n})=>{const r=async c=>{window.confirm(`Are you sure you want to quarantine user ${c.name||c.email}? This will restrict their account.`)&&(await ED(c.id),await _p(c.id,"quarantined"),await Pt("User Quarantined by Admin",{targetUserId:c.id}),n(c.id,"quarantined"),alert(`User ${c.name||c.email} has been quarantined.`))},l=async c=>{window.confirm(`Are you sure you want to free user ${c.name||c.email} from quarantine?`)&&(await U1(c.id),await _p(c.id,"negative"),await Pt("User Freed from Quarantine",{targetUserId:c.id}),n(c.id,"negative"),alert(`User ${c.name||c.email} has been freed from quarantine.`))};return e?u.jsx("div",{className:"text-center",children:"Loading positive status reports..."}):!i||i.length===0?u.jsx("div",{className:"text-center p-6 bg-white rounded-lg shadow",children:"No users have reported a positive status or are in quarantine."}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Positive & Quarantined Users"}),u.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Name"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Reported"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(c=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.name||"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.email}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.covidStatusReportedAt?new Date(c.covidStatusReportedAt.seconds*1e3).toLocaleString():"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.covidStatus==="positive"?"bg-yellow-100 text-yellow-800":c.covidStatus==="quarantined"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:c.covidStatus})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[c.covidStatus==="positive"&&u.jsx("button",{onClick:()=>r(c),className:"bg-indigo-600 text-white py-1 px-3 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400",children:"Acknowledge & Quarantine"}),c.covidStatus==="quarantined"&&u.jsx("button",{onClick:()=>l(c),className:"bg-green-600 text-white py-1 px-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Free from Quarantine"})]})]},c.id))})]})})]})};function jj(){const[i,e]=P.useState("home"),[n,r]=P.useState(!1),[l,c]=P.useState([]),[h,p]=P.useState([]),[y,g]=P.useState([]),[x,E]=P.useState(!0),[S,j]=P.useState(null),[q,H]=P.useState(0),[R,Y]=P.useState(0),[Z,$]=P.useState(0);P.useEffect(()=>{(async()=>{try{const N=await P1();c(N);const A=N.filter(Ue=>Ue.covidStatus==="positive"||Ue.covidStatus==="quarantined");g(A);const k=await gD();p(k);const O=k.filter(Ue=>Ue.status==="confirmed"||Ue.status==="assigned").length,L=k.filter(Ue=>Ue.status==="completed").length,I=N.filter(Ue=>Ue.role==="service-provider").length;H(O),Y(L),$(I)}catch(N){console.error("Error fetching admin data:",N),j("Failed to load admin data.")}finally{E(!1)}})()},[]);const ge=(C,N)=>{c(A=>A.map(k=>k.id===C?{...k,covidStatus:N}:k)),g(N==="negative"?A=>A.filter(k=>k.id!==C):A=>A.map(k=>k.id===C?{...k,covidStatus:N}:k))},de=()=>r(!n),Ee=()=>{switch(i){case"home":return u.jsx(Qb,{setActiveTab:e,usersCount:l.length,requestsCount:h.length,pendingRequestsCount:q,completedRequestsCount:R,serviceProvidersCount:Z,loading:x});case"users":return u.jsx(Rj,{users:l,setUsers:c,loading:x});case"requests":return u.jsx(Ij,{requests:h,loading:x});case"providers":return u.jsx(Cj,{});case"positive-reports":return u.jsx(Dj,{users:y,loading:x,onUpdateUserStatus:ge});default:return u.jsx(Qb,{setActiveTab:e,usersCount:l.length,requestsCount:h.length,loading:x})}};return x?u.jsx("div",{className:"text-center p-8",children:"Loading Admin Dashboard..."}):S?u.jsx("div",{className:"text-center p-8 text-red-600",children:S}):u.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[n&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:de}),u.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-md transform ${n?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 md:w-64 transition-transform duration-200 ease-in-out`,children:[u.jsx("div",{className:"p-6",children:u.jsx("h1",{className:"text-2xl font-bold text-indigo-600",children:"Admin"})}),u.jsx("nav",{children:u.jsxs("ul",{children:[u.jsx(Yo,{icon:Vl,text:"Dashboard",activeTab:i,setActiveTab:e,tabName:"home",toggleSidebar:de}),u.jsx(Yo,{icon:H1,text:"Users",activeTab:i,setActiveTab:e,tabName:"users",toggleSidebar:de}),u.jsx(Yo,{icon:$d,text:"Service Requests",activeTab:i,setActiveTab:e,tabName:"requests",toggleSidebar:de}),u.jsx(Yo,{icon:Xd,text:"Positive Reports",activeTab:i,setActiveTab:e,tabName:"positive-reports",toggleSidebar:de}),u.jsx(Yo,{icon:z1,text:"Service Providers",activeTab:i,setActiveTab:e,tabName:"providers",toggleSidebar:de})]})})]}),u.jsxs("main",{className:`flex-1 p-6 ${n?"hidden":"block"}`,children:[u.jsxs("header",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),u.jsx("button",{className:"md:hidden p-2",onClick:de,children:u.jsx(q1,{size:24})}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(MD,{}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:"Admin User"}),u.jsx("p",{className:"text-sm text-gray-500",children:"admin@safehands.com"})]})]})]}),Ee()]})]})}const Yo=({icon:i,text:e,activeTab:n,setActiveTab:r,tabName:l,toggleSidebar:c})=>{const h=()=>{r(l),window.innerWidth<768&&c()};return u.jsxs("li",{className:`p-4 cursor-pointer flex items-center ${n===l?"bg-indigo-100 text-indigo-600":""}`,onClick:h,children:[i&&u.jsx(i,{className:"mr-3"}),e]})},Ig=P.createContext({isQuarantined:!1}),Tr=()=>P.useContext(Ig),kj=({children:i})=>{const[e,n]=P.useState(!1);P.useEffect(()=>{const l=h=>{if(h)return TD(h.uid,y=>{y&&y.status==="active"?n(!0):n(!1)});n(!1)},c=_i.onAuthStateChanged(l);return()=>{c()}},[]);const r={isQuarantined:e};return u.jsx(Ig.Provider,{value:r,children:i})};function Oj({children:i}){const[e,n]=P.useState(!1),[r,l]=P.useState(null),[c,h]=P.useState(!0),{isQuarantined:p}=P.useContext(Ig),y=_c();P.useEffect(()=>{const x=_i.onAuthStateChanged(async E=>{if(console.log("[Layout Debug] Auth state changed. Firebase user:",E),h(!0),E){const S=await V1(E.uid);console.log("[Layout Debug] Fetched user profile:",S),l(S)}else console.log("[Layout Debug] No user logged in."),l(null);h(!1)});return()=>x()},[]),P.useEffect(()=>{if(!r)return;let x;const E=300*1e3,S=()=>{clearTimeout(x),x=setTimeout(()=>{alert("You have been logged out due to inactivity."),g()},E)},j=["mousemove","keypress","click","scroll"];return j.forEach(q=>window.addEventListener(q,S)),S(),()=>{clearTimeout(x),j.forEach(q=>window.removeEventListener(q,S))}},[r]);const g=async()=>{await ND(),y("/login")};return c?u.jsx("div",{children:"Loading User..."}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[u.jsxs("nav",{className:"sticky top-0 w-full z-50 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsx("div",{className:"flex items-center space-x-3 relative z-20",children:u.jsxs(li,{to:r&&r.role==="admin"?"/admin":r&&r.role==="service-provider"?"/provider-dashboard":"/",className:"flex items-center space-x-3 focus:outline-none group",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200",children:u.jsx(yc,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent group-hover:text-indigo-800 transition-colors duration-200",children:"SafeHands"})]})}),u.jsxs("div",{className:"hidden md:flex items-center space-x-3 relative z-20",children:[r?u.jsxs(u.Fragment,{children:[u.jsx(li,{to:"/profile",className:"text-gray-700 hover:text-indigo-600 font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Profile"}),u.jsx("button",{onClick:g,className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Logout"})]}):u.jsx(li,{to:"/login",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Login/Sign Up"}),u.jsx(li,{to:"/contact-tracing",className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white font-bold px-4 py-2 rounded-lg transition-all duration-200",children:"Contact Tracing"})]}),u.jsx("button",{className:"md:hidden text-gray-700 relative z-20",onClick:()=>n(!e),children:e?u.jsx(Tj,{className:"w-6 h-6"}):u.jsx(q1,{className:"w-6 h-6"})})]})}),e&&u.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 py-3 px-4 space-y-2 relative z-10",children:[r?u.jsxs(u.Fragment,{children:[u.jsx(li,{to:"/profile",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>n(!1),children:"Profile"}),u.jsx("button",{onClick:()=>{g(),n(!1)},className:"block w-full text-left py-2 px-3 rounded-lg text-red-700 hover:bg-red-50",children:"Logout"})]}):u.jsx(li,{to:"/login",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>n(!1),children:"Login/Sign Up"}),u.jsx(li,{to:"/contact-tracing",className:"block w-full text-left py-2 px-3 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600",onClick:()=>n(!1),children:"Contact Tracing"})]})]}),p&&u.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:[u.jsxs("p",{className:"font-bold flex items-center",children:[u.jsx(Nn,{className:"mr-2"}),"Quarantine Alert"]}),u.jsx("p",{children:"You have been identified as a recent contact of a COVID-19 positive individual. For the safety of the community, your ability to book new services has been temporarily disabled."})]}),u.jsx("main",{className:"p-4 md:p-8",children:i}),u.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center",children:u.jsx(yc,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-2xl font-bold",children:"SafeHands"})]}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Your trusted partner for everyday services"}),u.jsxs("div",{className:"flex justify-center space-x-6 text-gray-400",children:[u.jsx("a",{href:"#",className:"hover:text-white transition",children:"Privacy Policy"}),u.jsx("a",{href:"#",className:"hover:text-white transition",children:"Terms of Service"}),u.jsx("a",{href:"#",className:"hover:text-white transition",children:"Contact Us"})]}),u.jsx("p",{className:"text-gray-500 mt-8",children:" 2025 SafeHands. All rights reserved."})]})})]})}function Mj(){const[i,e]=P.useState("checkin"),[n,r]=P.useState([]),[l,c]=P.useState([]),[h,p]=P.useState({locationName:"",locationType:"restaurant",address:"",visitDate:"",visitTime:"",duration:"30",peopleCount:"1"}),[y,g]=P.useState({testDate:"",testResult:"positive",symptomsStartDate:"",isolationStatus:"yes"});P.useEffect(()=>{x()},[]);const x=()=>{const R=JSON.parse(localStorage.getItem("checkIns")||"[]"),Y=JSON.parse(localStorage.getItem("exposures")||"[]");r(R),c(Y)},E=R=>{R.preventDefault();const Y={id:Date.now(),...h,createdAt:new Date().toISOString(),user:JSON.parse(localStorage.getItem("user")||"{}").email},Z=[...n,Y];localStorage.setItem("checkIns",JSON.stringify(Z)),r(Z),j(Y),alert("Location check-in recorded successfully!"),p({locationName:"",locationType:"restaurant",address:"",visitDate:"",visitTime:"",duration:"30",peopleCount:"1"})},S=R=>{R.preventDefault();const Y=JSON.parse(localStorage.getItem("user")||"{}"),Z={id:Date.now(),...y,reportedBy:Y.email,reportedAt:new Date().toISOString()},$=[...l,Z];localStorage.setItem("exposures",JSON.stringify($)),c($),Y.quarantineStatus="active",Y.quarantineStartDate=y.testDate,Y.quarantineEndDate=new Date(new Date(y.testDate).getTime()+336*60*60*1e3).toISOString().split("T")[0],localStorage.setItem("user",JSON.stringify(Y)),q(Z),alert("Exposure reported. Contacts will be notified. Please follow quarantine guidelines."),g({testDate:"",testResult:"positive",symptomsStartDate:"",isolationStatus:"yes"})},j=R=>{const Y=JSON.parse(localStorage.getItem("exposures")||"[]"),Z=JSON.parse(localStorage.getItem("checkIns")||"[]");Y.forEach($=>{const ge=new Date($.testDate);new Date(R.visitDate),Z.forEach(de=>{de.user!==R.user&&de.locationName===R.locationName&&Math.abs(new Date(de.visitDate)-ge)<1440*60*1e3&&console.log("Potential exposure detected at:",R.locationName)})})},q=R=>{const Y=JSON.parse(localStorage.getItem("checkIns")||"[]"),Z=new Date(R.testDate),$=Y.filter(ge=>{const de=new Date(ge.visitDate),Ee=(Z-de)/(1e3*60*60*24);return Ee>=0&&Ee<=14&&ge.user===R.reportedBy});console.log(`Notifying ${$.length} potential contacts`)},H=()=>{const R=JSON.parse(localStorage.getItem("user")||"{}"),Y=n.filter($=>$.user===R.email);let Z=[];return l.forEach($=>{const ge=new Date($.testDate);Y.forEach(de=>{const C=(new Date(de.visitDate)-ge)/(1e3*60*60*24);C>=-14&&C<=0&&Z.push({location:de.locationName,date:de.visitDate,riskLevel:C>=-7?"high":"medium"})})}),Z};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(Jd,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manual Contact Tracing"}),u.jsx("p",{className:"text-gray-600",children:"Track your visits and report exposures"})]})]}),H().length>0&&u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[u.jsx(Nn,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-yellow-800 font-semibold",children:"Potential Exposure Detected"}),u.jsx("p",{className:"text-yellow-700 text-sm",children:"You may have visited a location where a positive case was reported. Please monitor symptoms and consider testing."})]})]}),u.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[u.jsx("button",{onClick:()=>e("checkin"),className:`px-4 py-2 font-semibold border-b-2 transition ${i==="checkin"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Location Check-In"}),u.jsx("button",{onClick:()=>e("report"),className:`px-4 py-2 font-semibold border-b-2 transition ${i==="report"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Report Exposure"}),u.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 font-semibold border-b-2 transition ${i==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"My History"})]}),i==="checkin"&&u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Location Name"}),u.jsx("input",{type:"text",value:h.locationName,onChange:R=>p({...h,locationName:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., City Mall, Green Park",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Location Type"}),u.jsxs("select",{value:h.locationType,onChange:R=>p({...h,locationType:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"restaurant",children:"Restaurant"}),u.jsx("option",{value:"grocery",children:"Grocery Store"}),u.jsx("option",{value:"pharmacy",children:"Pharmacy"}),u.jsx("option",{value:"park",children:"Park"}),u.jsx("option",{value:"mall",children:"Shopping Mall"}),u.jsx("option",{value:"office",children:"Office"}),u.jsx("option",{value:"other",children:"Other"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Address"}),u.jsx("input",{type:"text",value:h.address,onChange:R=>p({...h,address:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Visit Date"}),u.jsx("input",{type:"date",value:h.visitDate,onChange:R=>p({...h,visitDate:R.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Visit Time"}),u.jsx("input",{type:"time",value:h.visitTime,onChange:R=>p({...h,visitTime:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Duration (minutes)"}),u.jsx("input",{type:"number",value:h.duration,onChange:R=>p({...h,duration:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),u.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition",children:"Record Check-In"})]}),i==="report"&&u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Xd,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-red-800 font-semibold",children:"Report Positive COVID-19 Test"}),u.jsx("p",{className:"text-red-700 text-sm",children:"This will notify people who may have been in contact with you. All information is kept confidential."})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Test Date"}),u.jsx("input",{type:"date",value:y.testDate,onChange:R=>g({...y,testDate:R.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Test Result"}),u.jsxs("select",{value:y.testResult,onChange:R=>g({...y,testResult:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[u.jsx("option",{value:"positive",children:"Positive"}),u.jsx("option",{value:"presumed-positive",children:"Presumed Positive"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"When did symptoms start? (Optional)"}),u.jsx("input",{type:"date",value:y.symptomsStartDate,onChange:R=>g({...y,symptomsStartDate:R.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Are you in isolation?"}),u.jsxs("select",{value:y.isolationStatus,onChange:R=>g({...y,isolationStatus:R.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[u.jsx("option",{value:"yes",children:"Yes, I am isolating"}),u.jsx("option",{value:"no",children:"No, not yet"})]})]}),u.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition",children:"Submit Exposure Report"})]}),i==="history"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(bi,{size:20,className:"text-blue-500"}),"Recent Check-Ins"]}),n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No check-ins recorded yet"}):u.jsx("div",{className:"space-y-3",children:n.slice(-10).reverse().map(R=>u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:R.locationName}),u.jsx("p",{className:"text-sm text-gray-600 capitalize",children:R.locationType})]}),u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[R.duration," mins"]})]}),u.jsx("p",{className:"text-sm text-gray-600",children:R.address}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[R.visitDate," at ",R.visitTime]})]},R.id))})]}),H().length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Nn,{size:20,className:"text-yellow-500"}),"Potential Exposures"]}),u.jsx("div",{className:"space-y-3",children:H().map((R,Y)=>u.jsx("div",{className:`p-4 rounded-lg border ${R.riskLevel==="high"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:R.location}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",R.date]})]}),u.jsxs("span",{className:`text-xs px-2 py-1 rounded font-semibold ${R.riskLevel==="high"?"bg-red-200 text-red-800":"bg-yellow-200 text-yellow-800"}`,children:[R.riskLevel.toUpperCase()," RISK"]})]})},Y))})]})]})]})})})}const Vj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Kb(){const[i,e]=P.useState([]),[n,r]=P.useState({name:"",quantity:1,unit:"kg"}),[l,c]=P.useState(""),[h,p]=P.useState(""),[y,g]=P.useState(""),{isQuarantined:x}=Tr(),E=()=>{n.name&&(e([...i,{...n,id:Date.now()}]),r({name:"",quantity:1,unit:"kg"}))},S=H=>{e(i.filter(R=>R.id!==H))},j=(H,R)=>{e(i.map(Y=>Y.id===H?{...Y,quantity:Math.max(1,Y.quantity+R)}:Y))},q=async H=>{if(H.preventDefault(),x){alert("You cannot book new services while under quarantine.");return}if(i.length===0){alert("Please add at least one item");return}const R=us();if(!R){alert("You must be logged in to book a delivery.");return}const Z={clientId:R.uid,userName:R.name||R.email,providerId:"DUMMY_PROVIDER_UID_FOR_TESTING",serviceType:"Grocery Delivery",bookingDate:new Date(h),contactToken:Vj(),status:"confirmed",details:{items:i,deliveryAddress:l,notes:y}},$=await Er(Z);$.success?(await Pt("Booking Created",{bookingId:$.id,serviceType:Z.serviceType,clientId:Z.clientId}),alert("Grocery delivery booked successfully!"),e([]),c(""),p(""),g("")):alert(`Failed to book delivery: ${$.error}`)};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(F1,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grocery Delivery"}),u.jsx("p",{className:"text-gray-600",children:"Add items and delivery details"})]})]}),u.jsx("form",{onSubmit:q,className:"space-y-6",children:u.jsxs("fieldset",{disabled:x,className:"space-y-6",children:[u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Items"}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Item name",value:n.name,onChange:H=>r({...n,name:H.target.value}),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200"}),u.jsx("input",{type:"number",min:"1",value:n.quantity,onChange:H=>r({...n,quantity:parseInt(H.target.value)}),className:"w-20 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200"}),u.jsxs("select",{value:n.unit,onChange:H=>r({...n,unit:H.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-100",children:[u.jsx("option",{value:"kg",children:"kg"}),u.jsx("option",{value:"g",children:"g"}),u.jsx("option",{value:"L",children:"L"}),u.jsx("option",{value:"pcs",children:"pcs"})]}),u.jsx("button",{type:"button",onClick:E,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition disabled:bg-green-300",children:u.jsx(Yb,{size:20})})]}),i.length>0&&u.jsx("div",{className:"space-y-2",children:i.map(H=>u.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:H.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>j(H.id,-1),className:"p-1 hover:bg-gray-200 rounded disabled:opacity-50",children:u.jsx(WD,{size:16})}),u.jsxs("span",{className:"font-semibold",children:[H.quantity," ",H.unit]}),u.jsx("button",{type:"button",onClick:()=>j(H.id,1),className:"p-1 hover:bg-gray-200 rounded disabled:opacity-50",children:u.jsx(Yb,{size:16})}),u.jsx("button",{type:"button",onClick:()=>S(H.id),className:"p-1 hover:bg-red-100 rounded text-red-600 ml-2 disabled:opacity-50",children:u.jsx(mj,{size:16})})]})]},H.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),u.jsx("textarea",{value:l,onChange:H=>c(H.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",rows:"3",required:!0,placeholder:"Enter your delivery address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),u.jsx("input",{type:"date",value:h,onChange:H=>p(H.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Additional Notes (Optional)"}),u.jsx("textarea",{value:y,onChange:H=>g(H.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",rows:"3",placeholder:"Special instructions or preferences"})]}),x&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Book Grocery Delivery"})]})})]})})})}const Pj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Uj(){const[i,e]=P.useState({customerName:"",contactNumber:"",deliveryAddress:"",preferredDate:"",preferredTime:"",cuisinePreference:"any",notes:""}),{isQuarantined:n}=Tr(),r=c=>{const{name:h,value:p}=c.target;e({...i,[h]:p})},l=async c=>{if(c.preventDefault(),n){alert("You cannot book new services while under quarantine.");return}const h=us();if(!h){alert("You must be logged in to order food delivery.");return}const p="DUMMY_PROVIDER_UID_FOR_TESTING",y=new Date(`${i.preferredDate}T${i.preferredTime}`),g={clientId:h.uid,userName:h.name||h.email,providerId:p,serviceType:"Food Delivery",bookingDate:y,contactToken:Pj(),status:"confirmed",details:{customerName:i.customerName,contactNumber:i.contactNumber,deliveryAddress:i.deliveryAddress,cuisinePreference:i.cuisinePreference,notes:i.notes}},x=await Er(g);x.success?(await Pt("Booking Created",{bookingId:x.id,serviceType:g.serviceType,clientId:g.clientId}),alert("Food delivery order placed successfully!"),e({customerName:"",contactNumber:"",deliveryAddress:"",preferredDate:"",preferredTime:"",cuisinePreference:"any",notes:""})):alert(`Failed to place order: ${x.error}`)};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(xp,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Food Delivery Request"}),u.jsx("p",{className:"text-gray-600",children:"Order your favorite food from local restaurants."})]})]}),u.jsx("form",{onSubmit:l,className:"space-y-4",children:u.jsxs("fieldset",{disabled:n,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"customerName",name:"customerName",value:i.customerName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 disabled:bg-gray-200",placeholder:"Enter your full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:i.contactNumber,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 disabled:bg-gray-200",placeholder:"e.g., +1234567890",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("textarea",{id:"deliveryAddress",name:"deliveryAddress",value:i.deliveryAddress,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 disabled:bg-gray-200",placeholder:"Enter full address for food delivery",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:i.preferredDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Time"}),u.jsxs("div",{className:"relative",children:[u.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:i.preferredTime,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 disabled:bg-gray-200",required:!0})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"cuisinePreference",className:"block text-sm font-semibold mb-2",children:"Cuisine Preference"}),u.jsxs("select",{id:"cuisinePreference",name:"cuisinePreference",value:i.cuisinePreference,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 disabled:bg-gray-100",children:[u.jsx("option",{value:"any",children:"Any / No Preference"}),u.jsx("option",{value:"italian",children:"Italian"}),u.jsx("option",{value:"chinese",children:"Chinese"}),u.jsx("option",{value:"indian",children:"Indian"}),u.jsx("option",{value:"mexican",children:"Mexican"}),u.jsx("option",{value:"fast-food",children:"Fast Food"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions / Dietary Needs (Optional)"}),u.jsx("textarea",{id:"notes",name:"notes",value:i.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 disabled:bg-gray-200",placeholder:"e.g., allergies, delivery instructions, restaurant preference"})]}),n&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsxs("button",{type:"submit",className:"w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[u.jsx(xp,{size:20}),u.jsx("span",{children:"Order Food"})]})]})})]})})})}const Lj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function zj(){const i={senderName:"",senderPhone:"",senderAddress:"",recipientName:"",recipientPhone:"",recipientAddress:"",packageType:"document",packageWeight:"",packageValue:"",deliverySpeed:"standard",pickupDate:"",pickupTime:"",specialHandling:[],description:"",insurance:!1},[e,n]=P.useState(i),{isQuarantined:r}=Tr(),l=g=>{const{name:x,value:E,type:S,checked:j}=g.target;n({...e,[x]:S==="checkbox"?j:E})},c=g=>{const x=e.specialHandling.includes(g)?e.specialHandling.filter(E=>E!==g):[...e.specialHandling,g];n({...e,specialHandling:x})},h=()=>{let g=5.99;return e.packageType==="document"&&(g=5.99),e.packageType==="small"&&(g=8.99),e.packageType==="medium"&&(g=12.99),e.packageType==="large"&&(g=19.99),e.deliverySpeed==="express"&&(g*=1.5),e.deliverySpeed==="overnight"&&(g*=2),e.insurance&&(g+=3.99),g.toFixed(2)},p=async g=>{if(g.preventDefault(),r){alert("You cannot book new services while under quarantine.");return}const x=us();if(!x){alert("You must be logged in to book a delivery.");return}const E="DUMMY_PROVIDER_UID_FOR_TESTING",S=new Date(`${e.pickupDate}T${e.pickupTime.split("-")[0]}`),j={clientId:x.uid,userName:x.name||x.email,providerId:E,serviceType:"Parcel Delivery",bookingDate:S,contactToken:Lj(),status:"confirmed",details:{...e,estimatedCost:h()}},q=await Er(j);q.success?(await Pt("Booking Created",{bookingId:q.id,serviceType:j.serviceType,clientId:j.clientId}),alert("Parcel delivery booked successfully!"),n(i)):alert(`Failed to book delivery: ${q.error}`)},y=["Fragile","Keep Upright","Keep Dry","Temperature Sensitive"];return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(yc,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Parcel Delivery"}),u.jsx("p",{className:"text-gray-600",children:"Send parcels with contactless pickup and delivery"})]})]}),u.jsx("form",{onSubmit:p,className:"space-y-6",children:u.jsxs("fieldset",{disabled:r,className:"space-y-6",children:[u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Jd,{className:"text-purple-500",size:20}),u.jsx("h2",{className:"text-lg font-semibold",children:"Sender Information"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Sender Name"}),u.jsx("input",{type:"text",name:"senderName",value:e.senderName,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Sender Phone"}),u.jsx("input",{type:"tel",name:"senderPhone",value:e.senderPhone,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Address"}),u.jsx("textarea",{name:"senderAddress",value:e.senderAddress,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",rows:"3",required:!0})]})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Jd,{className:"text-purple-500",size:20}),u.jsx("h2",{className:"text-lg font-semibold",children:"Recipient Information"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Recipient Name"}),u.jsx("input",{type:"text",name:"recipientName",value:e.recipientName,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Recipient Phone"}),u.jsx("input",{type:"tel",name:"recipientPhone",value:e.recipientPhone,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),u.jsx("textarea",{name:"recipientAddress",value:e.recipientAddress,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",rows:"3",required:!0})]})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Package Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Package Type"}),u.jsxs("select",{name:"packageType",value:e.packageType,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",required:!0,children:[u.jsx("option",{value:"document",children:"Document (Envelope)"}),u.jsx("option",{value:"small",children:"Small Package (up to 5kg)"}),u.jsx("option",{value:"medium",children:"Medium Package (5-15kg)"}),u.jsx("option",{value:"large",children:"Large Package (15-30kg)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Weight (kg)"}),u.jsx("input",{type:"number",name:"packageWeight",value:e.packageWeight,onChange:l,step:"0.1",min:"0.1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Declared Value ($)"}),u.jsx("input",{type:"number",name:"packageValue",value:e.packageValue,onChange:l,step:"0.01",min:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Delivery Speed"}),u.jsxs("select",{name:"deliverySpeed",value:e.deliverySpeed,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",required:!0,children:[u.jsx("option",{value:"standard",children:"Standard (3-5 days)"}),u.jsx("option",{value:"express",children:"Express (1-2 days)"}),u.jsx("option",{value:"overnight",children:"Overnight (Next day)"})]})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Package Description"}),u.jsx("textarea",{name:"description",value:e.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",rows:"2",placeholder:"Brief description of contents",required:!0})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Special Handling"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:y.map(g=>u.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded cursor-pointer hover:bg-gray-50 disabled:opacity-50",children:[u.jsx("input",{type:"checkbox",checked:e.specialHandling.includes(g),onChange:()=>c(g),className:"w-4 h-4 text-purple-500 disabled:bg-gray-200"}),u.jsx("span",{className:"text-sm",children:g})]},g))})]}),u.jsx("div",{className:"mt-4",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer disabled:opacity-50",children:[u.jsx("input",{type:"checkbox",name:"insurance",checked:e.insurance,onChange:l,className:"w-4 h-4 text-purple-500 disabled:bg-gray-200"}),u.jsx("span",{className:"text-sm font-semibold",children:"Add Insurance Coverage (+$3.99)"})]})})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pickup Schedule"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Date"}),u.jsx("input",{type:"date",name:"pickupDate",value:e.pickupDate,onChange:l,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Pickup Time"}),u.jsxs("select",{name:"pickupTime",value:e.pickupTime,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",required:!0,children:[u.jsx("option",{value:"",children:"Select time slot"}),u.jsx("option",{value:"09:00-12:00",children:"9:00 AM - 12:00 PM"}),u.jsx("option",{value:"12:00-15:00",children:"12:00 PM - 3:00 PM"}),u.jsx("option",{value:"15:00-18:00",children:"3:00 PM - 6:00 PM"})]})]})]})]}),u.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Estimated Cost:"}),u.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["$",h()]})]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Final cost may vary based on actual weight and dimensions"})]}),r&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsx("button",{type:"submit",className:"w-full bg-purple-500 text-white py-3 rounded-lg font-semibold hover:bg-purple-600 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Book Parcel Delivery"})]})})]})})})}function qj(){const[i,e]=P.useState("grocery"),n=()=>{switch(i){case"grocery":return u.jsx(Kb,{});case"food":return u.jsx(Uj,{});case"parcel":return u.jsx(zj,{});default:return u.jsx(Kb,{})}};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("div",{className:"flex items-center gap-3 mb-6",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Services"}),u.jsx("p",{className:"text-gray-600",children:"Your one-stop shop for all delivery needs."})]})}),u.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[u.jsx("button",{onClick:()=>e("grocery"),className:`px-4 py-2 font-semibold border-b-2 transition ${i==="grocery"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Grocery Delivery"}),u.jsx("button",{onClick:()=>e("food"),className:`px-4 py-2 font-semibold border-b-2 transition ${i==="food"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Food Delivery"}),u.jsx("button",{onClick:()=>e("parcel"),className:`px-4 py-2 font-semibold border-b-2 transition ${i==="parcel"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Parcel Delivery"})]}),n()]})})})}const Bj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Fj(){const i={patientName:"",medicationName:"",quantity:1,deliveryAddress:"",deliveryDate:"",notes:""},[e,n]=P.useState(i),{isQuarantined:r}=Tr(),l=h=>{const{name:p,value:y}=h.target;n({...e,[p]:y})},c=async h=>{if(h.preventDefault(),r){alert("You cannot book new services while under quarantine.");return}const p=us();if(!p){alert("You must be logged in to request a delivery.");return}const g={clientId:p.uid,userName:p.name||p.email,providerId:"DUMMY_PROVIDER_UID_FOR_TESTING",serviceType:"Medication Delivery",bookingDate:new Date(e.deliveryDate),contactToken:Bj(),status:"confirmed",details:{...e}},x=await Er(g);x.success?(await Pt("Booking Created",{bookingId:x.id,serviceType:g.serviceType,clientId:g.clientId}),alert("Medication delivery request submitted successfully!"),n(i)):alert(`Failed to submit request: ${x.error}`)};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(Gb,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Medication Delivery Request"}),u.jsx("p",{className:"text-gray-600",children:"Request your essential medications delivered to your doorstep."})]})]}),u.jsx("form",{onSubmit:c,className:"space-y-4",children:u.jsxs("fieldset",{disabled:r,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold mb-2",children:"Patient Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"patientName",name:"patientName",value:e.patientName,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",placeholder:"Enter patient's full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"medicationName",className:"block text-sm font-semibold mb-2",children:"Medication Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Gb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"medicationName",name:"medicationName",value:e.medicationName,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",placeholder:"e.g., Paracetamol, Insulin",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"quantity",className:"block text-sm font-semibold mb-2",children:"Quantity"}),u.jsx("input",{type:"number",id:"quantity",name:"quantity",value:e.quantity,onChange:l,min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold mb-2",children:"Delivery Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("textarea",{id:"deliveryAddress",name:"deliveryAddress",value:e.deliveryAddress,onChange:l,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",placeholder:"Enter full delivery address",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"deliveryDate",className:"block text-sm font-semibold mb-2",children:"Preferred Delivery Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:e.deliveryDate,onChange:l,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),u.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:l,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",placeholder:"e.g., leave at doorstep, contact upon arrival"})]}),r&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsxs("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[u.jsx(Rg,{size:20}),u.jsx("span",{children:"Request Delivery"})]})]})})]})})})}const Hj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Gj(){const i={patientName:"",contactNumber:"",preferredDate:"",preferredTime:"",testingAddress:"",notes:""},[e,n]=P.useState(i),{isQuarantined:r}=Tr(),l=h=>{const{name:p,value:y}=h.target;n({...e,[p]:y})},c=async h=>{if(h.preventDefault(),r){alert("You cannot book new services while under quarantine.");return}const p=us();if(!p){alert("You must be logged in to request a test.");return}const y="DUMMY_PROVIDER_UID_FOR_TESTING",g=new Date(`${e.preferredDate}T${e.preferredTime}`),x={clientId:p.uid,userName:p.name||p.email,providerId:y,serviceType:"Covid 19 Testing",bookingDate:g,contactToken:Hj(),status:"confirmed",details:{...e}},E=await Er(x);E.success?(await Pt("Booking Created",{bookingId:E.id,serviceType:x.serviceType,clientId:x.clientId}),alert("COVID-19 test request submitted successfully!"),n(i)):alert(`Failed to submit request: ${E.error}`)};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-yellow-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(Wd,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"COVID-19 Testing Request"}),u.jsx("p",{className:"text-gray-600",children:"Schedule a mobile COVID-19 test at your convenience."})]})]}),u.jsx("form",{onSubmit:c,className:"space-y-4",children:u.jsxs("fieldset",{disabled:r,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold mb-2",children:"Patient Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"patientName",name:"patientName",value:e.patientName,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 disabled:bg-gray-200",placeholder:"Enter patient's full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 disabled:bg-gray-200",placeholder:"e.g., +1234567890",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Test Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:e.preferredDate,onChange:l,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Test Time"}),u.jsxs("div",{className:"relative",children:[u.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:e.preferredTime,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 disabled:bg-gray-200",required:!0})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"testingAddress",className:"block text-sm font-semibold mb-2",children:"Testing Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("textarea",{id:"testingAddress",name:"testingAddress",value:e.testingAddress,onChange:l,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 disabled:bg-gray-200",placeholder:"Enter full address for mobile testing",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions / Symptoms (Optional)"}),u.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:l,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 disabled:bg-gray-200",placeholder:"e.g., specific symptoms, preferred testing location details"})]}),r&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-3 rounded-lg font-semibold hover:bg-yellow-600 transition flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[u.jsx(Wd,{size:20}),u.jsx("span",{children:"Request COVID-19 Test"})]})]})})]})})})}const Yj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Qj(){const{isQuarantined:i}=Tr(),[e,n]=P.useState({customerName:"",contactNumber:"",address:"",preferredDate:"",preferredTime:"",cleaningType:"basic",numberOfRooms:1,notes:""}),r=c=>{const{name:h,value:p}=c.target;n({...e,[h]:p})},l=async c=>{if(c.preventDefault(),i){alert("You cannot book new services while under quarantine.");return}const h=us();if(!h||!h.uid){alert("You must be logged in to request a service.");return}const p="DUMMY_PROVIDER_UID_FOR_TESTING",y=new Date(`${e.preferredDate}T${e.preferredTime}`),g={clientId:h.uid,userName:h.name||h.email,providerId:p,serviceType:"Home Cleaning",bookingDate:y,contactToken:Yj(),status:"confirmed",details:{customerName:e.customerName,contactNumber:e.contactNumber,address:e.address,cleaningType:e.cleaningType,numberOfRooms:e.numberOfRooms,notes:e.notes}},x=await Er(g);x.success?(await Pt("Booking Created",{bookingId:x.id,serviceType:g.serviceType,clientId:g.clientId}),alert("Home Cleaning request submitted successfully! A service provider will be assigned shortly."),n({customerName:"",contactNumber:"",address:"",preferredDate:"",preferredTime:"",cleaningType:"basic",numberOfRooms:1,notes:""})):alert(`There was an error submitting your request: ${x.error}`)};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(Zd,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Home Cleaning Request"}),u.jsx("p",{className:"text-gray-600",children:"Book professional home cleaning services."})]})]}),u.jsx("form",{onSubmit:l,className:"space-y-4",children:u.jsxs("fieldset",{disabled:i,className:"space-y-4",children:[" ",u.jsxs("div",{children:[u.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"customerName",name:"customerName",value:e.customerName,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",placeholder:"Enter your full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",placeholder:"e.g., +1234567890",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"address",className:"block text-sm font-semibold mb-2",children:"Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("textarea",{id:"address",name:"address",value:e.address,onChange:r,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",placeholder:"Enter full address for cleaning service",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:e.preferredDate,onChange:r,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Time"}),u.jsxs("div",{className:"relative",children:[u.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:e.preferredTime,onChange:r,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",required:!0})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"cleaningType",className:"block text-sm font-semibold mb-2",children:"Type of Cleaning"}),u.jsxs("select",{id:"cleaningType",name:"cleaningType",value:e.cleaningType,onChange:r,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-100",children:[u.jsx("option",{value:"basic",children:"Basic Cleaning"}),u.jsx("option",{value:"deep",children:"Deep Cleaning"}),u.jsx("option",{value:"move-in-out",children:"Move-in/Move-out Cleaning"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"numberOfRooms",className:"block text-sm font-semibold mb-2",children:"Number of Rooms"}),u.jsx("input",{type:"number",id:"numberOfRooms",name:"numberOfRooms",value:e.numberOfRooms,onChange:r,min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),u.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:r,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 disabled:bg-gray-200",placeholder:"e.g., focus on kitchen, specific areas to avoid"})]}),i&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsxs("button",{type:"submit",className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[u.jsx(Zd,{size:20}),u.jsx("span",{children:"Request Home Cleaning"})]})]})})]})})})}const Kj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function $j(){const i={customerName:"",contactNumber:"",pickupAddress:"",preferredPickupDate:"",preferredPickupTime:"",serviceType:"wash-fold",notes:""},[e,n]=P.useState(i),{isQuarantined:r}=Tr(),l=h=>{const{name:p,value:y}=h.target;n({...e,[p]:y})},c=async h=>{if(h.preventDefault(),r){alert("You cannot book new services while under quarantine.");return}const p=us();if(!p){alert("You must be logged in to request a service.");return}const y="DUMMY_PROVIDER_UID_FOR_TESTING",g=new Date(`${e.preferredPickupDate}T${e.preferredPickupTime}`),x={clientId:p.uid,userName:p.name||p.email,providerId:y,serviceType:"Laundry Service",bookingDate:g,contactToken:Kj(),status:"confirmed",details:{...e}},E=await Er(x);E.success?(await Pt("Booking Created",{bookingId:E.id,serviceType:x.serviceType,clientId:x.clientId}),alert("Laundry Service request submitted successfully!"),n(i)):alert(`Failed to submit request: ${E.error}`)};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(xj,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Laundry Service Request"}),u.jsx("p",{className:"text-gray-600",children:"Schedule your laundry pickup and delivery."})]})]}),u.jsx("form",{onSubmit:c,className:"space-y-4",children:u.jsxs("fieldset",{disabled:r,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"customerName",className:"block text-sm font-semibold mb-2",children:"Your Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"customerName",name:"customerName",value:e.customerName,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",placeholder:"Enter your full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",placeholder:"e.g., +1234567890",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pickupAddress",className:"block text-sm font-semibold mb-2",children:"Pickup Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("textarea",{id:"pickupAddress",name:"pickupAddress",value:e.pickupAddress,onChange:l,rows:"3",className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",placeholder:"Enter full address for laundry pickup",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredPickupDate",className:"block text-sm font-semibold mb-2",children:"Preferred Pickup Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"date",id:"preferredPickupDate",name:"preferredPickupDate",value:e.preferredPickupDate,onChange:l,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredPickupTime",className:"block text-sm font-semibold mb-2",children:"Preferred Pickup Time"}),u.jsxs("div",{className:"relative",children:[u.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"time",id:"preferredPickupTime",name:"preferredPickupTime",value:e.preferredPickupTime,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",required:!0})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-semibold mb-2",children:"Service Type"}),u.jsxs("select",{id:"serviceType",name:"serviceType",value:e.serviceType,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",children:[u.jsx("option",{value:"wash-fold",children:"Wash & Fold"}),u.jsx("option",{value:"dry-cleaning",children:"Dry Cleaning"}),u.jsx("option",{value:"ironing",children:"Ironing Only"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),u.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:l,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 disabled:bg-gray-200",placeholder:"e.g., delicate items, specific detergent, delivery instructions"})]}),r&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsxs("button",{type:"submit",className:"w-full bg-purple-500 text-white py-3 rounded-lg font-semibold hover:bg-purple-600 transition flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[u.jsx(Cg,{size:20}),u.jsx("span",{children:"Request Laundry Service"})]})]})})]})})})}const Hm=[{id:"Grocery Delivery",name:"Grocery Delivery",icon:F1},{id:"Food Delivery",name:"Food Delivery",icon:xp},{id:"Parcel Delivery",name:"Parcel Delivery",icon:yc},{id:"Medication Delivery",name:"Medication Delivery",icon:Rg},{id:"Covid 19 Testing",name:"Covid 19 Testing",icon:Wd},{id:"Home Cleaning",name:"Home Cleaning",icon:Zd},{id:"Laundry Service",name:"Laundry Service",icon:Cg},{id:"Pet Care Services",name:"Pet Care Services",icon:ac}],Xj=()=>{const[i,e]=P.useState([]),[n,r]=P.useState(!0),[l,c]=P.useState(Hm[0].id),h=us(),[p,y]=P.useState(0),[g,x]=P.useState(0),[E,S]=P.useState(0);P.useEffect(()=>{if(h&&h.uid){r(!0);const R=vD(h.uid,async Y=>{e(Y);const Z=Y.filter(de=>de.status==="confirmed"||de.status==="assigned"||de.status==="accepted").length,$=Y.filter(de=>de.status==="in-progress").length,ge=Y.filter(de=>de.status==="completed").length;y(Z),x($),S(ge),Y.length>0&&!l&&c(Hm[0].id),r(!1)});return()=>R()}else r(!1)},[h,l]);const j=async(R,Y)=>{const Z=await _D(R,Y);Z.success?(await Pt("Booking Status Changed",{bookingId:R,newStatus:Y}),alert(`Booking status updated to ${Y}`)):alert(`Error updating status: ${Z.error}`)},q=async()=>{if(window.confirm("Are you sure you want to report a positive test result? This will create a report for an admin to review.")){await Pt("Positive Test Reported",{providerId:h.uid});const R={providerId:h.uid,providerName:h.displayName||h.email,reportTimestamp:new Date,status:"pending"},Y=await xD(R);Y.success?alert("You have successfully submitted a positive test report. An administrator will review it shortly."):(alert(`Your action was logged, but there was an error submitting the report: ${Y.error}. Please contact an administrator.`),console.error("Failed to create exposure report:",Y.error))}},H=P.useMemo(()=>i.filter(R=>R.serviceType===l),[i,l]);return n?u.jsx("div",{className:"p-8 text-center",children:"Loading your dashboard..."}):u.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[u.jsxs("aside",{className:"w-64 bg-white shadow-md flex-shrink-0",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Service Categories"})}),u.jsx("nav",{className:"p-4",children:u.jsx("ul",{children:Hm.map(R=>{const Y=R.icon;return u.jsx("li",{children:u.jsxs("button",{onClick:()=>c(R.id),className:`w-full flex items-center px-4 py-3 my-1 rounded-lg transition-all duration-200 ${l===R.id?"bg-indigo-100 text-indigo-600 font-bold":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[u.jsx(Y,{className:"mr-3",size:20}),u.jsx("span",{children:R.name})]})},R.id)})})})]}),u.jsxs("main",{className:"flex-1 p-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Provider Dashboard"}),u.jsxs("button",{onClick:q,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center space-x-2",children:[u.jsx(Nn,{size:20}),u.jsx("span",{children:"Report Positive Test"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending"}),u.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?"...":p})]}),u.jsx(bi,{className:"text-yellow-400 opacity-50",size:48})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"In Progress"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n?"...":g})]}),u.jsx($d,{className:"text-blue-400 opacity-50",size:48})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed"}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:n?"...":E})]}),u.jsx(Ag,{className:"text-green-400 opacity-50",size:48})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[u.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[u.jsx($d,{className:"mr-3"})," Bookings for ",l]}),H.length===0?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500",children:"No assigned bookings for this service category."})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client Name"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Date"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Update Status"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(R=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 flex items-center",children:[u.jsx(qs,{size:16,className:"mr-2 text-gray-500"}),R.userName]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.bookingDate?new Date(R.bookingDate.seconds*1e3).toLocaleString():"N/A"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="accepted"?"bg-blue-100 text-blue-800":R.status==="in-progress"?"bg-yellow-100 text-yellow-800":R.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.status})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:u.jsxs("select",{onChange:Y=>j(R.id,Y.target.value),value:R.status,className:"p-1 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"accepted",children:"Accepted"}),u.jsx("option",{value:"in-progress",children:"In Progress"}),u.jsx("option",{value:"completed",children:"Completed"})]})})]},R.id))})]})})]})]})]})},Jj=()=>"TKN-"+Math.random().toString(36).substr(2,9).toUpperCase();function Wj(){const i={ownerName:"",contactNumber:"",petName:"",petType:"dog",serviceType:"dog-walking",preferredDate:"",preferredTime:"",notes:""},[e,n]=P.useState(i),{isQuarantined:r}=Tr(),l=h=>{const{name:p,value:y}=h.target;n({...e,[p]:y})},c=async h=>{if(h.preventDefault(),r){alert("You cannot book new services while under quarantine.");return}const p=us();if(!p){alert("You must be logged in to request a service.");return}const y="DUMMY_PROVIDER_UID_FOR_TESTING",g=new Date(`${e.preferredDate}T${e.preferredTime}`),x={clientId:p.uid,userName:p.name||p.email,providerId:y,serviceType:"Pet Care Services",bookingDate:g,contactToken:Jj(),status:"confirmed",details:{...e}},E=await Er(x);E.success?(await Pt("Booking Created",{bookingId:E.id,serviceType:x.serviceType,clientId:x.clientId}),alert("Pet Care service request submitted successfully!"),n(i)):alert(`Failed to submit request: ${E.error}`)};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-lg flex items-center justify-center",children:u.jsx(ac,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pet Care Service Request"}),u.jsx("p",{className:"text-gray-600",children:"Request reliable and caring services for your beloved pets."})]})]}),u.jsx("form",{onSubmit:c,className:"space-y-4",children:u.jsxs("fieldset",{disabled:r,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-semibold mb-2",children:"Pet Owner Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:e.ownerName,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-200",placeholder:"Enter pet owner's full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"contactNumber",className:"block text-sm font-semibold mb-2",children:"Contact Number"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-200",placeholder:"e.g., +1234567890",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"petName",className:"block text-sm font-semibold mb-2",children:"Pet Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",id:"petName",name:"petName",value:e.petName,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"petType",className:"block text-sm font-semibold mb-2",children:"Pet Type"}),u.jsxs("select",{id:"petType",name:"petType",value:e.petType,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-100",children:[u.jsx("option",{value:"dog",children:"Dog"}),u.jsx("option",{value:"cat",children:"Cat"}),u.jsx("option",{value:"other",children:"Other"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-semibold mb-2",children:"Service Type"}),u.jsxs("select",{id:"serviceType",name:"serviceType",value:e.serviceType,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-100",children:[u.jsx("option",{value:"dog-walking",children:"Dog Walking"}),u.jsx("option",{value:"pet-sitting",children:"Pet Sitting"}),u.jsx("option",{value:"grooming",children:"Grooming"}),u.jsx("option",{value:"vet-visit",children:"Vet Visit Assistance"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredDate",className:"block text-sm font-semibold mb-2",children:"Preferred Date"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"date",id:"preferredDate",name:"preferredDate",value:e.preferredDate,onChange:l,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-200",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"preferredTime",className:"block text-sm font-semibold mb-2",children:"Preferred Time"}),u.jsxs("div",{className:"relative",children:[u.jsx(bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"time",id:"preferredTime",name:"preferredTime",value:e.preferredTime,onChange:l,className:"w-full pl-10 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-200",required:!0})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold mb-2",children:"Special Instructions (Optional)"}),u.jsx("textarea",{id:"notes",name:"notes",value:e.notes,onChange:l,rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 disabled:bg-gray-200",placeholder:"e.g., pet's habits, specific feeding instructions, leash location"})]}),r&&u.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4 rounded-r-lg",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Nn,{className:"h-5 w-5 text-yellow-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Due to your quarantine status, you cannot book new services."})})]})}),u.jsxs("button",{type:"submit",className:"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600 transition flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[u.jsx(ac,{size:20}),u.jsx("span",{children:"Request Pet Care"})]})]})})]})})})}function Zj(){return u.jsx(Q2,{basename:"/SWE_FInalProject/",children:u.jsx(Oj,{children:u.jsxs(w2,{children:[u.jsx(Zt,{path:"/login",element:u.jsx(Sj,{})}),u.jsx(Zt,{path:"/",element:u.jsx(wj,{})}),u.jsx(Zt,{path:"/contact-tracing",element:u.jsx(Mj,{})}),u.jsx(Zt,{path:"/delivery-services",element:u.jsx(qj,{})}),u.jsx(Zt,{path:"/medication",element:u.jsx(Fj,{})}),u.jsx(Zt,{path:"/covid",element:u.jsx(Gj,{})}),u.jsx(Zt,{path:"/home-cleaning",element:u.jsx(Qj,{})}),u.jsx(Zt,{path:"/laundry",element:u.jsx($j,{})}),u.jsx(Zt,{path:"/pet-care",element:u.jsx(Wj,{})}),u.jsx(Zt,{element:u.jsx(qm,{}),children:u.jsx(Zt,{path:"/profile",element:u.jsx(Nj,{})})}),u.jsx(Zt,{element:u.jsx(qm,{roles:["service-provider"]}),children:u.jsx(Zt,{path:"/provider-dashboard",element:u.jsx(Xj,{})})}),u.jsx(Zt,{element:u.jsx(qm,{roles:["admin"]}),children:u.jsx(Zt,{path:"/admin",element:u.jsx(jj,{})})})]})})})}Iw.createRoot(document.getElementById("root")).render(u.jsx(P.StrictMode,{children:u.jsx(kj,{children:u.jsx(Zj,{})})}));
